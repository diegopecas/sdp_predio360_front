"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[8592],{85840:(N,U,e)=>{e.d(U,{Z:()=>l});var s=e(17626),o=e(83761),p=e(85931),M=e(79608),_=e(61996),n=e(86810),a=e(77712),m=(e(8314),e(63290),e(76898));let O=0,T=class extends((0,n.eC)((0,M.J)((0,_.IG)(o.Z)))){constructor(f){super(f),this.id=`${Date.now().toString(16)}-analysis-${O++}`,this.title=null}get parent(){return this._get("parent")}set parent(f){const d=this.parent;if(null!=d)switch(d.type){case"line-of-sight":case"dimension":d.releaseAnalysis(this);break;case"2d":case"3d":d.analyses.includes(this)&&d.analyses.remove(this)}this._set("parent",f)}get isEditable(){return this.requiredPropertiesForEditing.every(p.pC)}};(0,s._)([(0,a.Cb)({type:String,constructOnly:!0,clonable:!1})],T.prototype,"id",void 0),(0,s._)([(0,a.Cb)({type:String})],T.prototype,"title",void 0),(0,s._)([(0,a.Cb)({clonable:!1,value:null})],T.prototype,"parent",null),(0,s._)([(0,a.Cb)({readOnly:!0})],T.prototype,"isEditable",null),T=(0,s._)([(0,m.j)("esri.analysis.Analysis")],T);const l=T},69186:(N,U,e)=>{e.d(U,{Z:()=>d});var s=e(17626),p=(e(29132),e(97662)),M=e(79608),_=e(23719),n=e(86810),a=e(77712),v=e(66656),O=(e(4619),e(8314),e(76898)),T=e(90912),l=e(72642);let f=class extends((0,n.eC)(M.j)){constructor(i){super(i),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=p.n.Direct,this.offset=0,this.orientation=0}};(0,s._)([(0,a.Cb)({type:["length"],json:{write:{isRequired:!0}}})],f.prototype,"type",void 0),(0,s._)([(0,a.Cb)({type:l.Z,json:{write:!0}})],f.prototype,"startPoint",void 0),(0,s._)([(0,a.Cb)({type:l.Z,json:{write:!0}})],f.prototype,"endPoint",void 0),(0,s._)([(0,a.Cb)({type:p.V,nonNullable:!0,json:{write:{isRequired:!0}}})],f.prototype,"measureType",void 0),(0,s._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],f.prototype,"offset",void 0),(0,s._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,v.p)(i=>_.BV.normalize((0,T.q9)(i),0,!0))],f.prototype,"orientation",void 0),f=(0,s._)([(0,O.j)("esri.analysis.LengthDimension")],f);const d=f},61642:(N,U,e)=>{e.d(U,{Z:()=>i});var s=e(17626),o=e(8425),p=e(83761),M=e(79608),_=e(86810),n=e(62208),a=e(77712),O=(e(8314),e(63290),e(4619),e(76898)),T=e(128),l=e(72642),f=e(82706);let d=class extends((0,_.eC)((0,M.J)(p.Z))){constructor(h){super(h),this.position=null,this.elevationInfo=null,this.feature=null}equals(h){return(0,n._W)(this.position,h.position)&&(0,n._W)(this.elevationInfo,h.elevationInfo)&&(0,o.kk)(this.feature,h.feature)}};(0,s._)([(0,a.Cb)({type:l.Z,json:{write:{isRequired:!0}}})],d.prototype,"position",void 0),(0,s._)([(0,a.Cb)({type:f.Z}),(0,T.B)()],d.prototype,"elevationInfo",void 0),(0,s._)([(0,a.Cb)(o.rX)],d.prototype,"feature",void 0),d=(0,s._)([(0,O.j)("esri.analysis.LineOfSightAnalysisObserver")],d);const i=d},57574:(N,U,e)=>{e.d(U,{Z:()=>d});var s=e(17626),o=e(8425),p=e(79608),M=e(86810),_=e(62208),n=e(77712),m=(e(8314),e(63290),e(4619),e(76898)),O=e(128),T=e(72642),l=e(82706);let f=class extends((0,M.eC)(p.j)){constructor(i){super(i),this.position=null,this.elevationInfo=null,this.feature=null}equals(i){return(0,_._W)(this.position,i.position)&&(0,_._W)(this.elevationInfo,i.elevationInfo)&&(0,o.kk)(this.feature,i.feature)}};(0,s._)([(0,n.Cb)({type:T.Z}),(0,O.B)()],f.prototype,"position",void 0),(0,s._)([(0,n.Cb)({type:l.Z}),(0,O.B)()],f.prototype,"elevationInfo",void 0),(0,s._)([(0,n.Cb)(o.rX)],f.prototype,"feature",void 0),f=(0,s._)([(0,m.j)("esri.analysis.LineOfSightAnalysisTarget")],f);const d=f},97662:(N,U,e)=>{var s,p;e.d(U,{V:()=>o,n:()=>s}),(p=s||(s={})).Horizontal="horizontal",p.Vertical="vertical",p.Direct="direct";const o=[s.Horizontal,s.Vertical,s.Direct]},8425:(N,U,e)=>{function s(n,a){return o(n)===o(a)}function o(n){if(null==n)return null;let v=null;return v=null!=n.objectId?n.objectId:null!=n.layer&&"objectIdField"in n.layer&&null!=n.layer.objectIdField&&null!=n.attributes?n.attributes[n.layer.objectIdField]:n.uid,null==v?null:`o-${null!=n.layer?n.layer.id:""}-${v}`}e.d(U,{kk:()=>s,pD:()=>o,rX:()=>p});const p={json:{write:{writer:function M(n,a){null!=n?.layer?.objectIdField&&null!=n.attributes&&(a.feature={layerId:n.layer.id,objectId:n.attributes[n.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String]},"feature.objectId":{type:[Number,String]}}},origins:{"web-scene":{read:function _(n){if(null!=n.layerId&&null!=n.objectId)return{uid:null,layer:{id:n.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:n.objectId}}}}}}}},98362:(N,U,e)=>{e.d(U,{Z:()=>s});class s{constructor(p=[]){this._elements=p}length(){return this._elements.length}get(p){return this._elements[p]}toArray(){const p=[];for(let M=0;M<this.length();M++)p.push(this.get(M));return p}}},36607:(N,U,e)=>{e.d(U,{B:()=>p,R:()=>o});var s=e(68670);class o extends s.R{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let _=this.width(),n=this.height(),a=_,v=n,y=a/Math.abs(_),m=v/Math.abs(n);if((0,s.k)(a)&&(0,s.k)(v)){let O=Math.min(a,v)/2,T=(0,s.l)(this.get("cornerRadiusTL",8),O),l=(0,s.l)(this.get("cornerRadiusTR",8),O),f=(0,s.l)(this.get("cornerRadiusBR",8),O),d=(0,s.l)(this.get("cornerRadiusBL",8),O),i=Math.min(Math.abs(a/2),Math.abs(v/2));T=(0,s.f)(T,0,i),l=(0,s.f)(l,0,i),f=(0,s.f)(f,0,i),d=(0,s.f)(d,0,i);const h=this._display;h.moveTo(T*y,0),h.lineTo(a-l*y,0),l>0&&h.arcTo(a,0,a,l*m,l),h.lineTo(a,v-f*m),f>0&&h.arcTo(a,v,a-f*y,v,f),h.lineTo(d*y,v),d>0&&h.arcTo(0,v,0,v-d*m,d),h.lineTo(0,T*m),T>0&&h.arcTo(0,0,T*y,0,T),h.closePath()}}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.R.classNames.concat([o.className])});class p extends s.g{_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["button"]),super._afterNew(),this._settings.background||this.set("background",o.new(this._root,{themeTags:(0,s.m)(this._settings.themeTags,["background"])})),this.setPrivate("trustBounds",!0)}_prepareChildren(){if(super._prepareChildren(),this.isDirty("icon")){const _=this._prevSettings.icon,n=this.get("icon");n!==_&&(this._disposeProperty("icon"),_&&_.dispose(),n&&this.children.push(n),this._prevSettings.icon=n)}if(this.isDirty("label")){const _=this._prevSettings.label,n=this.get("label");n!==_&&(this._disposeProperty("label"),_&&_.dispose(),n&&this.children.push(n),this._prevSettings.label=n)}}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.g.classNames.concat([p.className])})},43924:(N,U,e)=>{e.d(U,{T:()=>p});var s=e(68670);class o extends s.e{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let _=this.width(),n=this.height();if(_>0&&n>0){let a=this.get("cornerRadius",8);a=(0,s.f)(a,0,Math.min(_/2,n/2));let v=this.get("pointerX",0),y=this.get("pointerY",0),m=this.get("pointerBaseWidth",15)/2,O=0,T=0,l=0,f=(v-O)*(n-T)-(y-T)*(_-O),d=(v-l)*(0-n)-(y-n)*(_-l);const i=this._display;if(i.moveTo(a,0),f>0&&d>0){let h=Math.round((0,s.f)(v,a+m,_-m-a));y=(0,s.f)(y,-1/0,0),i.lineTo(h-m,0),i.lineTo(v,y),i.lineTo(h+m,0)}if(i.lineTo(_-a,0),i.arcTo(_,0,_,a,a),f>0&&d<0){let h=Math.round((0,s.f)(y,a+m,n-m-a));v=(0,s.f)(v,_,1/0),i.lineTo(_,a),i.lineTo(_,Math.max(h-m,a)),i.lineTo(v,y),i.lineTo(_,h+m)}if(i.lineTo(_,n-a),i.arcTo(_,n,_-a,n,a),f<0&&d<0){let h=Math.round((0,s.f)(v,a+m,_-m-a));y=(0,s.f)(y,n,1/0),i.lineTo(_-a,n),i.lineTo(h+m,n),i.lineTo(v,y),i.lineTo(h-m,n)}if(i.lineTo(a,n),i.arcTo(0,n,0,n-a,a),f<0&&d>0){let h=Math.round((0,s.f)(y,a+m,n-a-m));v=(0,s.f)(v,-1/0,0),i.lineTo(0,n-a),i.lineTo(0,h+m),i.lineTo(v,y),i.lineTo(0,Math.max(h-m,a))}i.lineTo(0,a),i.arcTo(0,0,a,0,a),i.closePath()}}}}Object.defineProperty(o,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(o,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.e.classNames.concat([o.className])});class p extends s.g{constructor(_,n,a,v=[]){super(_,n,a,v),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=(0,s.m)(this._settings.themeTags,["tooltip"]),super._afterNew(),this.set("background",o.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(s.L.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",_=>{_&&((0,s.h)(_,"pointerover",n=>{this._htmlContentHovered=!0}),(0,s.h)(_,"pointerout",n=>{this._htmlContentHovered=!1}))})),this._root._tooltips.push(this)}get label(){return this._label}dispose(){super.dispose(),(0,s.r)(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),null!=this.get("labelText")&&this.label.set("text",this.get("labelText")),null!=this.get("labelHTML")&&this.label.set("html",this.get("labelHTML"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const _=this.get("background");this._keepHoverDp=new s.M([_.events.on("pointerover",n=>{let a=this.get("tooltipTarget");a&&(a.parent&&a.parent.getPrivate("tooltipTarget")==a&&(a=a.parent),a.hover())}),_.events.on("pointerout",n=>{let a=this.get("tooltipTarget");a&&(a.parent&&a.parent.getPrivate("tooltipTarget")==a&&(a=a.parent),this._htmlContentHovered||a.unhover())})]),this.label.onPrivate("htmlElement",n=>{this._keepHoverDp&&n&&this._keepHoverDp.disposers.push((0,s.h)(n,"pointerleave",a=>{const v=this.root._renderer.getEvent(a);_.events.dispatch("pointerout",{type:"pointerout",originalEvent:v.event,point:v.point,simulated:!1,target:_})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let _=this.get("tooltipTarget");const n=this.get("background");let a,v;_&&n&&(a=_.get("fill"),v=_.get("stroke"),null==a&&(a=v),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),null!=a&&n.set("fill",a),this._fillDp=_.on("fill",y=>{null!=y&&(n.set("fill",y),this._updateTextColor(y))}),this._disposers.push(this._fillDp)),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),null!=a&&n.set("stroke",a),this._strokeDp=_.on("fill",y=>{null!=y&&n.set("stroke",y)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),null!=a&&this.label.set("fill",a),this._labelDp=_.on("fill",y=>{null!=y&&this.label.set("fill",y)}),this._disposers.push(this._labelDp))),this._updateTextColor(a)}_updateTextColor(_){this.get("autoTextColor")&&(null==_&&(_=this.get("background").get("fill")),null==_&&(_=this._root.interfaceColors.get("background")),_ instanceof s.C&&this.label.set("fill",s.C.alternative(_,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(_){super._setDataItem(_),this.label._setDataItem(_)}_updateBackground(){super.updateBackground();const _=this._root.container;if(_){let n=.5,a=.5,v=this.get("centerX");v instanceof s.P&&(n=v.value);let y=this.get("centerY");y instanceof s.P&&(a=y.value);let m=_.width(),O=_.height(),T=this.parent,l=0,f=0;if(T){l=T.x(),f=T.y();const L=T.get("layerMargin");L&&(l+=L.left||0,f+=L.top||0,m+=(L.left||0)+(L.right||0),O+=(L.top||0)+(L.bottom||0))}const d=this.get("bounds",{left:-l,top:-f,right:m-l,bottom:O-f});this._updateBounds();let i=this.width(),h=this.height();0===i&&(i=this._w),0===h&&(h=this._h);let t=this.get("pointTo",{x:m/2,y:O/2}),c=t.x,E=t.y,P=this.get("pointerOrientation"),u=this.get("background"),g=0,D=0,j=0;u instanceof o&&(g=u.get("pointerLength",0),D=u.get("strokeWidth",0)/2,j=D,u.set("width",i),u.set("height",h));let I=0,b=0,S=d.right-d.left,A=d.bottom-d.top;"horizontal"==P||"left"==P||"right"==P?(D=0,"horizontal"==P?c>d.left+S/2?(c-=i*(1-n)+g,j*=-1):c+=i*n+g:"left"==P?c+=i*(1-n)+g:(c-=i*n+g,j*=-1)):(j=0,"vertical"==P?E>d.top+h/2+g?E-=h*(1-a)+g:(E+=h*a+g,D*=-1):"down"==P?E-=h*(1-a)+g:(E+=h*a+g,D*=-1)),c=(0,s.f)(c,d.left+i*n,d.left+S-i*(1-n))+j,E=(0,s.f)(E,d.top+h*a,d.top+A-h*(1-a))-D,I=t.x-c+i*n+j,b=t.y-E+h*a-D,this._fx=c,this._fy=E;const C=this.get("animationDuration",0);if(C>0&&this.get("visible")&&this.get("opacity")>.1){const L=this.get("animationEasing");this.animate({key:"x",to:c,duration:C,easing:L}),this.animate({key:"y",to:E,duration:C,easing:L})}else this.set("x",c),this.set("y",E);u instanceof o&&(u.set("pointerX",I),u.set("pointerY",b)),i>0&&(this._w=i),h>0&&(this._h=h)}}}Object.defineProperty(p,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(p,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:s.g.classNames.concat([p.className])})},7006:(N,U,e)=>{e.d(U,{A:()=>S,B:()=>A,C:()=>C,D:()=>L,E:()=>K,F:()=>R,G:()=>B,H:()=>Z,I:()=>F,J:()=>$,K:()=>J,L:()=>Y,M:()=>V,N:()=>W,a:()=>_,b:()=>n,c:()=>M,d:()=>a,e:()=>p,f:()=>v,g:()=>H,h:()=>y,i:()=>m,j:()=>l,k:()=>i,l:()=>t,m:()=>c,n:()=>E,o:()=>f,p:()=>P,q:()=>g,r:()=>d,s:()=>h,t:()=>O,u:()=>u,v:()=>D,w:()=>T,x:()=>j,y:()=>I,z:()=>b});var s=e(4918),o=e(15994);function p(x){return s.G.extendedSpatialReferenceInfo(x)}function M(x,w,G){return s.G.clip(o.N,x,w,G)}function _(x,w,G){return s.G.cut(o.N,x,w,G)}function n(x,w,G){return s.G.contains(o.N,x,w,G)}function a(x,w,G){return s.G.crosses(o.N,x,w,G)}function v(x,w,G,z){return s.G.distance(o.N,x,w,G,z)}function y(x,w,G){return s.G.equals(o.N,x,w,G)}function m(x,w,G){return s.G.intersects(o.N,x,w,G)}function O(x,w,G){return s.G.touches(o.N,x,w,G)}function T(x,w,G){return s.G.within(o.N,x,w,G)}function l(x,w,G){return s.G.disjoint(o.N,x,w,G)}function f(x,w,G){return s.G.overlaps(o.N,x,w,G)}function d(x,w,G,z){return s.G.relate(o.N,x,w,G,z)}function i(x,w){return s.G.isSimple(o.N,x,w)}function h(x,w){return s.G.simplify(o.N,x,w)}function t(x,w,G=!1){return s.G.convexHull(o.N,x,w,G)}function c(x,w,G){return s.G.difference(o.N,x,w,G)}function E(x,w,G){return s.G.symmetricDifference(o.N,x,w,G)}function P(x,w,G){return s.G.intersect(o.N,x,w,G)}function u(x,w,G=null){return s.G.union(o.N,x,w,G)}function g(x,w,G,z,Q,X,k){return s.G.offset(o.N,x,w,G,z,Q,X,k)}function D(x,w,G,z,Q=!1){return s.G.buffer(o.N,x,w,G,z,Q)}function j(x,w,G,z,Q,X,k){return s.G.geodesicBuffer(o.N,x,w,G,z,Q,X,k)}function I(x,w,G,z=!0){return s.G.nearestCoordinate(o.N,x,w,G,z)}function b(x,w,G){return s.G.nearestVertex(o.N,x,w,G)}function S(x,w,G,z,Q){return s.G.nearestVertices(o.N,x,w,G,z,Q)}function A(x,w,G,z){if(null==w||null==z)throw new Error("Illegal Argument Exception");const Q=s.G.rotate(w,G,z);return Q.spatialReference=x,Q}function C(x,w,G){if(null==w||null==G)throw new Error("Illegal Argument Exception");const z=s.G.flipHorizontal(w,G);return z.spatialReference=x,z}function L(x,w,G){if(null==w||null==G)throw new Error("Illegal Argument Exception");const z=s.G.flipVertical(w,G);return z.spatialReference=x,z}function K(x,w,G,z,Q){return s.G.generalize(o.N,x,w,G,z,Q)}function R(x,w,G,z){return s.G.densify(o.N,x,w,G,z)}function B(x,w,G,z,Q=0){return s.G.geodesicDensify(o.N,x,w,G,z,Q)}function Z(x,w,G){return s.G.planarArea(o.N,x,w,G)}function F(x,w,G){return s.G.planarLength(o.N,x,w,G)}function $(x,w,G,z){return s.G.geodesicArea(o.N,x,w,G,z)}function J(x,w,G,z){return s.G.geodesicLength(o.N,x,w,G,z)}function Y(x,w,G){return null==w||null==G?[]:s.G.intersectLinesToPoints(o.N,x,w,G)}function V(x,w){s.G.changeDefaultSpatialReferenceTolerance(x,w)}function W(x){s.G.clearDefaultSpatialReferenceTolerance(x)}const H=Object.freeze(Object.defineProperty({__proto__:null,buffer:D,changeDefaultSpatialReferenceTolerance:V,clearDefaultSpatialReferenceTolerance:W,clip:M,contains:n,convexHull:t,crosses:a,cut:_,densify:R,difference:c,disjoint:l,distance:v,equals:y,extendedSpatialReferenceInfo:p,flipHorizontal:C,flipVertical:L,generalize:K,geodesicArea:$,geodesicBuffer:j,geodesicDensify:B,geodesicLength:J,intersect:P,intersectLinesToPoints:Y,intersects:m,isSimple:i,nearestCoordinate:I,nearestVertex:b,nearestVertices:S,offset:g,overlaps:f,planarArea:Z,planarLength:F,relate:d,rotate:A,simplify:h,symmetricDifference:E,touches:O,union:u,within:T},Symbol.toStringTag,{value:"Module"}))},75327:(N,U,e)=>{e.d(U,{Qc:()=>O,WU:()=>_,lt:()=>m});var s=e(77275),o=e(56683);const p={ar:[".",","],bg:[",","\xa0"],bs:[",","."],ca:[",","."],cs:[",","\xa0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\xa0"],fi:[",","\xa0"],fr:[",","\u202f"],"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\xa0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\xa0"],lv:[",","\xa0"],mk:[",","."],nb:[",","\xa0"],nl:[",","."],pl:[",","\xa0"],pt:[",","."],"pt-pt":[",","\xa0"],ro:[",","."],ru:[",","\xa0"],sk:[",","\xa0"],sl:[",","."],sr:[",","."],sv:[",","\xa0"],th:[".",","],tr:[",","."],uk:[",","\xa0"],vi:[",","."],zh:[".",","]};function M(i=(0,o.Kd)()){let h=(i=i.toLowerCase())in p;if(!h){const P=i.split("-");P.length>1&&P[0]in p&&(i=P[0],h=!0),h||(i="en")}const[t,c,E="#,##0.###"]=p[i];return{decimal:t,group:c,pattern:E}}function _(i,h){const t=M((h={...h}).locale);h.customs=t;const c=h.pattern||t.pattern;return isNaN(i)||Math.abs(i)===1/0?null:function a(i,h,t){const c=(t=t||{}).customs.group,E=t.customs.decimal,P=h.split(";"),u=P[0];if((h=P[i<0?1:0]||"-"+u).includes("%"))i*=100;else if(h.includes("\u2030"))i*=1e3;else{if(h.includes("\xa4"))throw new Error("currency notation not supported");if(h.includes("E"))throw new Error("exponential notation not supported")}const g=n,D=u.match(g);if(!D)throw new Error("unable to find a number expression in pattern: "+h);return!1===t.fractional&&(t.places=0),h.replace(g,function v(i,h,t){!0===(t=t||{}).places&&(t.places=0),t.places===1/0&&(t.places=6);const c=h.split("."),E="string"==typeof t.places&&t.places.indexOf(",");let P=t.places;E?P=t.places.substring(E+1):+P>=0||(P=(c[1]||[]).length),t.round<0||(i=Number(i.toFixed(Number(P))));const u=String(Math.abs(i)).split("."),g=u[1]||"";if(c[1]||t.places){E&&(t.places=t.places.substring(0,E));const C=void 0!==t.places?t.places:c[1]&&c[1].lastIndexOf("0")+1;+C>g.length&&(u[1]=g.padEnd(Number(C),"0")),+P<g.length&&(u[1]=g.substr(0,Number(P)))}else u[1]&&u.pop();const D=c[0].replace(",","");let j=D.indexOf("0");-1!==j&&(j=D.length-j,j>u[0].length&&(u[0]=u[0].padStart(j,"0")),D.includes("#")||(u[0]=u[0].substr(u[0].length-j)));let I,b,S=c[0].lastIndexOf(",");if(-1!==S){I=c[0].length-S-1;const C=c[0].substr(0,S);S=C.lastIndexOf(","),-1!==S&&(b=C.length-S-1)}const A=[];for(let C=u[0];C;){const L=C.length-I;A.push(L>0?C.substr(L):C),C=L>0?C.slice(0,L):"",b&&(I=b,b=void 0)}return u[0]=A.reverse().join(t.group||","),u.join(t.decimal||".")}(i,D[0],{decimal:E,group:c,places:t.places,round:t.round}))}(i,c,h)}const n=/[#0,]*[#0](?:\.0*#*)?/;function m(i){const h=M((i=i||{}).locale),t=i.pattern||h.pattern,c=h.group,E=h.decimal;let P=1;if(t.includes("%"))P/=100;else if(t.includes("\u2030"))P/=1e3;else if(t.includes("\xa4"))throw new Error("currency notation not supported");const u=t.split(";");return 1===u.length&&u.push("-"+u[0]),{regexp:f(u,D=>(D="(?:"+(0,s.Qs)(D,".")+")").replace(n,j=>{const I={signed:!1,separator:i.strict?c:[c,""],fractional:i.fractional,decimal:E,exponent:!1},b=j.split(".");let S=i.places;1===b.length&&1!==P&&(b[1]="###"),1===b.length||0===S?I.fractional=!1:(void 0===S&&(S=i.pattern?b[1].lastIndexOf("0")+1:1/0),S&&null==i.fractional&&(I.fractional=!0),!i.places&&+S<b[1].length&&(S+=","+b[1].length),I.places=S);const A=b[0].split(",");return A.length>1&&(I.groupSize=A.pop().length,A.length>1&&(I.groupSize2=A.pop().length)),"("+function T(i){"places"in(i=i||{})||(i.places=1/0),"string"!=typeof i.decimal&&(i.decimal="."),"fractional"in i&&!String(i.places).startsWith("0")||(i.fractional=[!0,!1]),"exponent"in i||(i.exponent=[!0,!1]),"eSigned"in i||(i.eSigned=[!0,!1]);const h=l(i),t=f(i.fractional,E=>{let P="";return E&&0!==i.places&&(P="\\"+i.decimal,i.places===1/0?P="(?:"+P+"\\d+)?":P+="\\d{"+i.places+"}"),P},!0);let c=h+t;return t&&(c="(?:(?:"+c+")|(?:"+t+"))"),c+f(i.exponent,E=>E?"([eE]"+l({signed:i.eSigned})+")":"")}(I)+")"}),!0).replaceAll(/[\xa0 ]/g,"[\\s\\xa0]"),group:c,decimal:E,factor:P}}function O(i,h){const t=m(h),c=new RegExp("^"+t.regexp+"$").exec(i);if(!c)return NaN;let E=c[1];if(!c[1]){if(!c[2])return NaN;E=c[2],t.factor*=-1}return E=E.replaceAll(new RegExp("["+t.group+"\\s\\xa0]","g"),"").replace(t.decimal,"."),Number(E)*t.factor}function l(i){return"signed"in(i=i||{})||(i.signed=[!0,!1]),"separator"in i?"groupSize"in i||(i.groupSize=3):i.separator="",f(i.signed,h=>h?"[-+]":"",!0)+f(i.separator,h=>{if(!h)return"(?:\\d+)";" "===(h=(0,s.Qs)(h))?h="\\s":"\xa0"===h&&(h="\\s\\xa0");const t=i.groupSize,c=i.groupSize2;if(c){const E="(?:0|[1-9]\\d{0,"+(c-1)+"}(?:["+h+"]\\d{"+c+"})*["+h+"]\\d{"+t+"})";return t-c>0?"(?:"+E+"|(?:0|[1-9]\\d{0,"+(t-1)+"}))":E}return"(?:0|[1-9]\\d{0,"+(t-1)+"}(?:["+h+"]\\d{"+t+"})*)"},!0)}const f=(i,h,t)=>{if(!(i instanceof Array))return h(i);const c=[];for(let E=0;E<i.length;E++)c.push(h(i[E]));return d(c.join("|"),Boolean(t))},d=(i,h)=>"("+(h?"?:":"")+i+")"},88070:(N,U,e)=>{e.d(U,{E:()=>O,H:()=>m});var s=e(86274),o=e(32884),p=e(95470),M=e(79800);const n=(0,e(29302).Ue)(),a=(0,o.Ue)(),v=(0,o.Ue)(),y=(0,o.Ue)();function m(l,f,d){return(0,M.s)(n,f[0],f[1],1),(0,M.t)(n,n,(0,s.p4)(a,d)),0===n[2]?(0,p.t8)(l,n[0],n[1]):(0,p.t8)(l,n[0]/n[2],n[1]/n[2])}function O(l,f,d){return T(v,f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7]),T(y,d[0],d[1],d[2],d[3],d[4],d[5],d[6],d[7]),(0,s.Jp)(l,(0,s.uj)(v,v),y),0!==l[8]&&(l[0]/=l[8],l[1]/=l[8],l[2]/=l[8],l[3]/=l[8],l[4]/=l[8],l[5]/=l[8],l[6]/=l[8],l[7]/=l[8],l[8]/=l[8]),l}function T(l,f,d,i,h,t,c,E,P){(0,s.t8)(l,f,i,t,d,h,c,1,1,1),(0,M.s)(n,E,P,1),(0,s.uj)(a,l);const[u,g,D]=(0,M.t)(n,n,(0,s.p4)(a,a));return(0,s.t8)(a,u,0,0,0,g,0,0,0,D),(0,s.Jp)(l,a,l)}},83274:(N,U,e)=>{e.d(U,{bU:()=>R,fC:()=>F,ir:()=>g,zp:()=>D}),e(8314);var o=e(21286),p=e(2004),M=e(37118),_=e(65234),n=e(94425),a=e(82054),v=e(88071),y=e(82959);const d=new Float64Array(2),i=new Float64Array(2),P="0123456789bcdefghjkmnpqrstuvwxyz",u=64;function g(W,H,x,w){const G=[W.xmin,W.ymin,W.xmax,W.ymax],z=M.Z.fromExtent(p.Z.fromBounds(G,w)),Q=(0,y.iV)(z,w,_.Z.WGS84,{densificationStep:H*u});if(!Q)return null;const X=(0,a.Uy)(new v.Z,Q,!1,!1),k=X.coords.filter((_e,oe)=>!(oe%2)),q=X.coords.filter((_e,oe)=>oe%2),se=Math.min(...k),te=Math.min(...q),re=Math.max(...k),ee=Math.max(...q),ne=D(se,te,x,_.Z.WGS84),ae=D(re,ee,x,_.Z.WGS84);return ne&&ae?{bounds:G,geohashBounds:{xLL:ne[0],yLL:ne[1],xTR:ae[0],yTR:ae[1]},level:x}:null}function D(W,H,x,w){if(w.isWebMercator){const Q=(0,o.BV)(W/n.sv.radius),X=Q-360*Math.floor((Q+180)/360),k=[0,0];return Z(k,0,(0,o.BV)(Math.PI/2-2*Math.atan(Math.exp(-H/n.sv.radius))),X,x),k}const G=(0,y.iV)({x:W,y:H},w,_.Z.WGS84);if(!G)return null;const z=[0,0];return Z(z,0,G.y,G.x,x),z}function I(W){return P[W]}function b(W){return(W[0]+W[1])/2}function S(W,H,x){return W[0]=H,W[1]=x,W}function C(W,H){const x=H>b(W);return function A(W,H){const x=b(W),w=H,G=!H;W[0]=G*W[0]+w*x,W[1]=G*x+w*W[1]}(W,x),x}function R(W,H){let x=-90,w=90,G=-180,z=180;for(let Q=0;Q<H;Q++){const X=Math.ceil((Q+1)/2),k=Math.floor((Q+1)/2),q=1-Q%2,se=30-(3*X+2*k),te=30-(2*X+3*k),ee=2*q+3*(1-q),ae=(7*q+3*(1-q)<<se&W.geohashX)>>se,_e=(3*q+7*(1-q)<<te&W.geohashY)>>te;for(let oe=3*q+2*(1-q)-1;oe>=0;oe--){const le=(G+z)/2,ie=ae&1<<oe?1:0;G=(1-ie)*G+ie*le,z=(1-ie)*le+ie*z}for(let oe=ee-1;oe>=0;oe--){const le=(x+w)/2,ie=_e&1<<oe?1:0;x=(1-ie)*x+ie*le,w=(1-ie)*le+ie*w}}return[G,x,z,w]}function Z(W,H,x,w,G){G%2&&(G+=1);let z=0,Q=0,X=-90,k=90,q=-180,se=180;for(let te=0;te<G/2;te++){for(let re=0;re<5;re++){const ee=(q+se)/2,ne=w>ee?1:0;z|=ne<<29-(re+5*te),q=(1-ne)*q+ne*ee,se=(1-ne)*ee+ne*se}for(let re=0;re<5;re++){const ee=(X+k)/2,ne=x>ee?1:0;Q|=ne<<29-(re+5*te),X=(1-ne)*X+ne*ee,k=(1-ne)*ee+ne*k}}W[2*H]=z,W[2*H+1]=Q}function F(W,H,x){let w="";const G=S(d,-90,90),z=S(i,-180,180);for(let Q=0;Q<x;Q++){let X=0;Q%2?(X|=C(G,W)<<4,X|=C(z,H)<<3,X|=C(G,W)<<2,X|=C(z,H)<<1,X|=C(G,W)<<0):(X|=C(z,H)<<4,X|=C(G,W)<<3,X|=C(z,H)<<2,X|=C(G,W)<<1,X|=C(z,H)<<0),w+=I(X)}return w}},32825:(N,U,e)=>{e.r(U),e.d(U,{buffer:()=>p.v,changeDefaultSpatialReferenceTolerance:()=>p.M,clearDefaultSpatialReferenceTolerance:()=>p.N,clip:()=>p.c,contains:()=>p.b,convexHull:()=>p.l,crosses:()=>p.d,cut:()=>p.a,densify:()=>p.F,difference:()=>p.m,disjoint:()=>p.j,distance:()=>p.f,equals:()=>p.h,extendedSpatialReferenceInfo:()=>p.e,flipHorizontal:()=>p.C,flipVertical:()=>p.D,generalize:()=>p.E,geodesicArea:()=>p.J,geodesicBuffer:()=>p.x,geodesicDensify:()=>p.G,geodesicLength:()=>p.K,intersect:()=>p.p,intersectLinesToPoints:()=>p.L,intersects:()=>p.i,isSimple:()=>p.k,nearestCoordinate:()=>p.y,nearestVertex:()=>p.z,nearestVertices:()=>p.A,offset:()=>p.q,overlaps:()=>p.o,planarArea:()=>p.H,planarLength:()=>p.I,relate:()=>p.r,rotate:()=>p.B,simplify:()=>p.s,symmetricDifference:()=>p.n,touches:()=>p.t,union:()=>p.u,within:()=>p.w}),e(4918),e(15994);var p=e(7006)},57932:(N,U,e)=>{e.d(U,{$7:()=>T,$e:()=>_,N5:()=>O,lW:()=>n});var s=e(15861),p=(e(8314),e(26584)),M=e(21726);function _(l){const f=m(l);return null!=f?f.toDataURL():""}function n(l){return a.apply(this,arguments)}function a(){return a=(0,s.Z)(function*(l){const f=m(l);if(null==f)throw new p.Z("imageToArrayBuffer","Unsupported image type");const d=yield function v(l){return y.apply(this,arguments)}(l),i=yield new Promise(h=>f.toBlob(h,d));if(!i)throw new p.Z("imageToArrayBuffer","Failed to encode image");return{data:yield i.arrayBuffer(),type:d}}),a.apply(this,arguments)}function y(){return(y=(0,s.Z)(function*(l){if(!(l instanceof HTMLImageElement))return"image/png";const f=l.src;if((0,M.HK)(f)){const d=(0,M.sJ)(f);return"image/jpeg"===d?.mediaType?d.mediaType:"image/png"}return/\.png$/i.test(f)?"image/png":/\.(jpg|jpeg)$/i.test(f)?"image/jpeg":"image/png"})).apply(this,arguments)}function m(l){if(l instanceof HTMLCanvasElement)return l;if(l instanceof HTMLVideoElement)return null;const f=document.createElement("canvas");f.width=l.width,f.height=l.height;const d=f.getContext("2d");return l instanceof HTMLImageElement?d.drawImage(l,0,0,l.width,l.height):l instanceof ImageData&&d.putImageData(l,0,0),f}function O(l){const f=[],d=new Uint8Array(l);for(let i=0;i<d.length;i++)f.push(String.fromCharCode(d[i]));return"data:application/octet-stream;base64,"+btoa(f.join(""))}function T(l){if(l.byteLength<8)return!1;const f=new Uint8Array(l);return 137===f[0]&&80===f[1]&&78===f[2]&&71===f[3]&&13===f[4]&&10===f[5]&&26===f[6]&&10===f[7]}},51470:(N,U,e)=>{e.d(U,{Z:()=>f});var s=e(17626),o=e(77712),n=(e(8314),e(63290),e(4619),e(76898)),a=e(28705),v=e(44917),y=e(552),m=e(99555),O=e(51815),T=e(82706);let l=class extends((0,y.h)((0,m.M)(v.Z))){constructor(d){super(d),this.elevationInfo=null,this.graphics=new O.J,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(d){return this.graphics.add(d),this}addMany(d){return this.graphics.addMany(d),this}removeAll(){return this.graphics.removeAll(),this}remove(d){this.graphics.remove(d)}removeMany(d){this.graphics.removeMany(d)}on(d,i){return super.on(d,i)}graphicChanged(d){this.emit("graphic-update",d)}};(0,s._)([(0,o.Cb)({type:T.Z})],l.prototype,"elevationInfo",void 0),(0,s._)([(0,o.Cb)((0,a.z)(O.J,"graphics"))],l.prototype,"graphics",void 0),(0,s._)([(0,o.Cb)({type:["show","hide"]})],l.prototype,"listMode",void 0),(0,s._)([(0,o.Cb)()],l.prototype,"screenSizePerspectiveEnabled",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],l.prototype,"type",void 0),(0,s._)([(0,o.Cb)({constructOnly:!0})],l.prototype,"internal",void 0),l=(0,s._)([(0,n.j)("esri.layers.GraphicsLayer")],l);const f=l},87124:(N,U,e)=>{var s,o,p,M,_,n,a,v,y,m,O,T,l,f,d,t;e.d(U,{$1:()=>v,AQ:()=>a,Em:()=>h,Lz:()=>M,MB:()=>s,Nl:()=>d,Q3:()=>i,Qd:()=>l,aw:()=>p,jE:()=>f,l7:()=>o,xL:()=>_}),(t=s||(s={})).U8="U8",t.I8="I8",t.U16="U16",t.I16="I16",t.U32="U32",t.I32="I32",t.F32="F32",t.F64="F64",t.Utf8String="Utf8String",t.NotSet="NotSet",function(t){t.Png="Png",t.Jpeg="Jpeg",t.Dds="Dds",t.Raw="Raw",t.Dxt1="Dxt1",t.Dxt5="Dxt5",t.Etc2="Etc2",t.Astc="Astc",t.Pvrtc="Pvrtc",t.NotSet="NotSet"}(o||(o={})),function(t){t.Rgb8="Rgb8",t.Rgba8="Rgba8",t.R8="R8",t.Bgr8="Bgr8",t.Bgra8="Bgra8",t.Rg8="Rg8",t.NotSet="NotSet"}(p||(p={})),function(t){t.Position="Position",t.Normal="Normal",t.TexCoord="TexCoord",t.Color="Color",t.Tangent="Tangent",t.FeatureIndex="FeatureIndex",t.UvRegion="UvRegion",t.NotSet="NotSet"}(M||(M={})),function(t){t.Opaque="Opaque",t.Mask="Mask",t.Blend="Blend"}(_||(_={})),function(t){t.None="None",t.Mask="Mask",t.Alpha="Alpha",t.PreMultAlpha="PreMultAlpha",t.NotSet="NotSet"}(n||(n={})),function(t){t.Points="Points",t.Lines="Lines",t.LineStrip="LineStrip",t.Triangles="Triangles",t.TriangleStrip="TriangleStrip",t.NotSet="NotSet"}(a||(a={})),function(t){t.None="None",t.WrapXBit="WrapXBit",t.WrapYBit="WrapYBit",t.WrapXy="WrapXy",t.NotSet="NotSet"}(v||(v={})),function(t){t.Linear="Linear",t.Nearest="Nearest",t.NotSet="NotSet"}(y||(y={})),function(t){t.Linear="Linear",t.Nearest="Nearest",t.NearestMipmapNearest="NearestMipmapNearest",t.LinearMipmapNearest="LinearMipmapNearest",t.NearestMipmapLinear="NearestMipmapLinear",t.LinearMipmapLinear="LinearMipmapLinear",t.NotSet="NotSet"}(m||(m={})),function(t){t.FeatureId="FeatureId",t.GlobalUid="GlobalUid",t.UnspecifiedDateTime="UnspecifiedDateTime",t.EcmaIso8601DateTime="EcmaIso8601DateTime",t.EcmaIso8601DateOnly="EcmaIso8601DateOnly",t.TimeOnly="TimeOnly",t.TimeStamp="TimeStamp",t.ColorRgb="ColorRgb",t.ColorRgba="ColorRgba",t.Unrecognized="Unrecognized",t.NotSet="NotSet"}(O||(O={})),function(t){t.Texture="Texture",t.VertexAtrb="VertexAtrb",t.Implicit="Implicit",t.NotSet="NotSet"}(T||(T={})),function(t){t.Front="Front",t.Back="Back",t.None="None",t.NotSet="NotSet"}(l||(l={})),function(t){t.Pbr="Pbr",t.Unlit="Unlit"}(f||(f={})),function(t){t[t.Succeeded=0]="Succeeded",t[t.Failed=1]="Failed",t[t.MissingInputs=2]="MissingInputs"}(d||(d={}));const i=-1,h=-2},28678:(N,U,e)=>{e.r(U),e.d(U,{default:()=>L});var A,s=e(15861),o=e(17626),M=(e(29132),e(84792)),_=e(26584),n=e(99959),a=e(77275),v=e(21726),y=e(77712),l=(e(8314),e(63290),e(4619),e(68653)),f=e(76898),d=e(99433),i=e(44917),h=e(552),t=e(49286),c=e(6647),E=e(30346),P=e(99555),u=e(12585),g=e(72258),D=e(2584),j=e(91309),I=e(2004),b=e(65234),S=e(72642);let C=A=class extends((0,h.h)((0,E.Q)((0,P.M)((0,t.q)((0,c.I)((0,n.R)(i.Z))))))){constructor(...K){super(...K),this.copyright="",this.fullExtent=new I.Z(-20037508.342787,-20037508.34278,20037508.34278,20037508.342787,b.Z.WebMercator),this.legendEnabled=!1,this.isReference=null,this.popupEnabled=!1,this.spatialReference=b.Z.WebMercator,this.subDomains=null,this.tileInfo=new D.Z({size:[256,256],dpi:96,format:"png8",compressionQuality:0,origin:new S.Z({x:-20037508.342787,y:20037508.342787,spatialReference:b.Z.WebMercator}),spatialReference:b.Z.WebMercator,lods:[new g.Z({level:0,scale:591657527.591555,resolution:156543.033928}),new g.Z({level:1,scale:295828763.795777,resolution:78271.5169639999}),new g.Z({level:2,scale:147914381.897889,resolution:39135.7584820001}),new g.Z({level:3,scale:73957190.948944,resolution:19567.8792409999}),new g.Z({level:4,scale:36978595.474472,resolution:9783.93962049996}),new g.Z({level:5,scale:18489297.737236,resolution:4891.96981024998}),new g.Z({level:6,scale:9244648.868618,resolution:2445.98490512499}),new g.Z({level:7,scale:4622324.434309,resolution:1222.99245256249}),new g.Z({level:8,scale:2311162.217155,resolution:611.49622628138}),new g.Z({level:9,scale:1155581.108577,resolution:305.748113140558}),new g.Z({level:10,scale:577790.554289,resolution:152.874056570411}),new g.Z({level:11,scale:288895.277144,resolution:76.4370282850732}),new g.Z({level:12,scale:144447.638572,resolution:38.2185141425366}),new g.Z({level:13,scale:72223.819286,resolution:19.1092570712683}),new g.Z({level:14,scale:36111.909643,resolution:9.55462853563415}),new g.Z({level:15,scale:18055.954822,resolution:4.77731426794937}),new g.Z({level:16,scale:9027.977411,resolution:2.38865713397468}),new g.Z({level:17,scale:4513.988705,resolution:1.19432856685505}),new g.Z({level:18,scale:2256.994353,resolution:.597164283559817}),new g.Z({level:19,scale:1128.497176,resolution:.298582141647617}),new g.Z({level:20,scale:564.248588,resolution:.14929107082380833}),new g.Z({level:21,scale:282.124294,resolution:.07464553541190416}),new g.Z({level:22,scale:141.062147,resolution:.03732276770595208}),new g.Z({level:23,scale:70.5310735,resolution:.01866138385297604})]}),this.type="web-tile",this.urlTemplate=null,this.wmtsInfo=null}normalizeCtorArgs(K,R){return"string"==typeof K?{urlTemplate:K,...R}:K}load(K){const R=this.loadFromPortal({supportedTypes:["WMTS"]},K).then(()=>{let B="";if(this.urlTemplate)if(this.spatialReference.equals(this.tileInfo.spatialReference)){const Z=new v.R9(this.urlTemplate);!(this.subDomains&&this.subDomains.length>0)&&Z.authority?.includes("{subDomain}")&&(B="is missing 'subDomains' property")}else B="spatialReference must match tileInfo.spatialReference";else B="is missing the required 'urlTemplate' property value";if(B)throw new _.Z("web-tile-layer:load",`WebTileLayer (title: '${this.title}', id: '${this.id}') ${B}`)});return this.addResolvingPromise(R),Promise.resolve(this)}get levelValues(){const K=[];if(!this.tileInfo)return null;for(const R of this.tileInfo.lods)K[R.level]=R.levelValue||R.level;return K}readSpatialReference(K,R){return K||b.Z.fromJSON(R.fullExtent?.spatialReference)}get tileServers(){if(!this.urlTemplate)return null;const K=[],{urlTemplate:R,subDomains:B}=this,Z=new v.R9(R),F=Z.scheme?Z.scheme+"://":"//",$=F+Z.authority+"/",J=Z.authority;if(J?.includes("{subDomain}")){if(B&&B.length>0&&J.split(".").length>1)for(const Y of B)K.push(F+J.replaceAll(/\{subDomain\}/gi,Y)+"/")}else K.push($);return K.map(v.xs)}get urlPath(){if(!this.urlTemplate)return null;const K=this.urlTemplate,R=new v.R9(K);return K.substring(((R.scheme?R.scheme+"://":"//")+R.authority+"/").length)}readUrlTemplate(K,R){return K||R.templateUrl}writeUrlTemplate(K,R){(0,v.oC)(K)&&(K="https:"+K),K&&(K=K.replaceAll(/\{z\}/gi,"{level}").replaceAll(/\{x\}/gi,"{col}").replaceAll(/\{y\}/gi,"{row}"),K=(0,v.Fv)(K)),R.templateUrl=K}fetchTile(K,R,B,Z={}){const{signal:F}=Z,$=this.getTileUrl(K,R,B),J={responseType:"image",signal:F,query:{...this.refreshParameters}};return(0,M.Z)($,J).then(Y=>Y.data)}fetchImageBitmapTile(K,R,B,Z={}){var F=this;return(0,s.Z)(function*(){const{signal:$}=Z;if(F.fetchTile!==A.prototype.fetchTile){const W=yield F.fetchTile(K,R,B,Z);return(0,u.V)(W,K,R,B,$)}const J=F.getTileUrl(K,R,B),Y={responseType:"blob",signal:$,query:{...F.refreshParameters}},{data:V}=yield(0,M.Z)(J,Y);return(0,u.V)(V,K,R,B,$)})()}getTileUrl(K,R,B){const{levelValues:Z,tileServers:F,urlPath:$}=this;if(!Z||!F||!$)return"";const J=Z[K];return F[R%F.length]+(0,a.gx)($,{level:J,z:J,col:B,x:B,row:R,y:R})}};(0,o._)([(0,y.Cb)({type:String,value:"",json:{write:!0}})],C.prototype,"copyright",void 0),(0,o._)([(0,y.Cb)({type:I.Z,json:{write:!0},nonNullable:!0})],C.prototype,"fullExtent",void 0),(0,o._)([(0,y.Cb)({readOnly:!0,json:{read:!1,write:!1}})],C.prototype,"legendEnabled",void 0),(0,o._)([(0,y.Cb)({type:["show","hide"]})],C.prototype,"listMode",void 0),(0,o._)([(0,y.Cb)({json:{read:!0,write:!0}})],C.prototype,"blendMode",void 0),(0,o._)([(0,y.Cb)()],C.prototype,"levelValues",null),(0,o._)([(0,y.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],C.prototype,"isReference",void 0),(0,o._)([(0,y.Cb)({type:["WebTiledLayer"],value:"WebTiledLayer"})],C.prototype,"operationalLayerType",void 0),(0,o._)([(0,y.Cb)({readOnly:!0,json:{read:!1,write:!1}})],C.prototype,"popupEnabled",void 0),(0,o._)([(0,y.Cb)({type:b.Z})],C.prototype,"spatialReference",void 0),(0,o._)([(0,l.r)("spatialReference",["spatialReference","fullExtent.spatialReference"])],C.prototype,"readSpatialReference",null),(0,o._)([(0,y.Cb)({type:[String],json:{write:!0}})],C.prototype,"subDomains",void 0),(0,o._)([(0,y.Cb)({type:D.Z,json:{write:!0}})],C.prototype,"tileInfo",void 0),(0,o._)([(0,y.Cb)({readOnly:!0})],C.prototype,"tileServers",null),(0,o._)([(0,y.Cb)({json:{read:!1}})],C.prototype,"type",void 0),(0,o._)([(0,y.Cb)()],C.prototype,"urlPath",null),(0,o._)([(0,y.Cb)({type:String,json:{origins:{"portal-item":{read:{source:"url"}}}}})],C.prototype,"urlTemplate",void 0),(0,o._)([(0,l.r)("urlTemplate",["urlTemplate","templateUrl"])],C.prototype,"readUrlTemplate",null),(0,o._)([(0,d.c)("urlTemplate",{templateUrl:{type:String}})],C.prototype,"writeUrlTemplate",null),(0,o._)([(0,y.Cb)({type:j.B,json:{write:!0}})],C.prototype,"wmtsInfo",void 0),C=A=(0,o._)([(0,f.j)("esri.layers.WebTileLayer")],C);const L=C},20925:(N,U,e)=>{e.d(U,{Z:()=>h});var T,s=e(17626),o=e(46160),p=e(47877),M=e(14889),_=e(77712),y=(e(8314),e(63290),e(4619),e(76898)),m=e(49410),O=e(11136);const l={type:o.Z,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:f}}},read:!1}};function f(t,c,E){if(t&&Array.isArray(t))return new o.Z(t.map(P=>{const u=function i(t){return"group"===t.layerType?d:m.Z}(P);if(u){const g=new u;return g.read(P,E),g}return E?.messages&&P&&E.messages.push(new M.Z("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(P.type||"unknown")+"' are not supported",{definition:P,context:E})),null}))}let d=T=class extends O.Z{constructor(t){super(t),this.type="building-group",this.listMode="show",this.sublayers=null}loadAll(){return(0,p.w)(this,t=>T.forEachSublayer(this.sublayers,c=>{"building-group"!==c.type&&t(c)}))}};var t;(0,s._)([(0,_.Cb)({type:["hide","show","hide-children"],json:{write:!0}})],d.prototype,"listMode",void 0),(0,s._)([(0,_.Cb)(l)],d.prototype,"sublayers",void 0),d=T=(0,s._)([(0,y.j)("esri.layers.buildingSublayers.BuildingGroupSublayer")],d),(t=d||(d={})).sublayersProperty=l,t.readSublayers=f,t.forEachSublayer=function c(E,P){E.forEach(u=>{P(u),"building-group"===u.type&&c(u.sublayers,P)})};const h=d},1476:(N,U,e)=>{e.d(U,{S:()=>o,X:()=>s});const s=1;function o(p,M){let _=0;for(const n of M){const a=n.attributes?.[p];"number"==typeof a&&isFinite(a)&&(_=Math.max(_,a))}return _}},68301:(N,U,e)=>{e.d(U,{AC:()=>a,Fz:()=>y,Q_:()=>l,_C:()=>v,fB:()=>m,i1:()=>f,jO:()=>O,kE:()=>n,ks:()=>_,s8:()=>T,sc:()=>M});var s=e(26584);const o="upload-assets",p=()=>new Error;class M extends s.Z{constructor(){super(`${o}:unsupported`,"Layer does not support asset uploads.",p())}}class _ extends s.Z{constructor(){super(`${o}:no-glb-support`,"Layer does not support glb.",p())}}class n extends s.Z{constructor(){super(`${o}:no-supported-source`,"No supported external source found",p())}}class a extends s.Z{constructor(){super(`${o}:not-base-64`,"Expected gltf data in base64 format after conversion.",p())}}class v extends s.Z{constructor(){super(`${o}:unable-to-prepare-options`,"Unable to prepare uploadAsset request options.",p())}}class y extends s.Z{constructor(i,h){super(`${o}:bad-response`,`Bad response. Uploaded ${i} items and received ${h} results.`,p())}}class m extends s.Z{constructor(i,h){super(`${o}-layer:upload-failed`,`Failed to upload mesh file ${i}. Error code: ${h?.code??"-1"}. Error message: ${h?.messages??"unknown"}`,p())}}class O extends s.Z{constructor(i){super(`${o}-layer:unsupported-format`,`The service allowed us to upload an asset of FormatID ${i}, but it does not list it in its supported formats.`,p())}}class T extends s.Z{constructor(){super(`${o}:convert3D-failed`,"convert3D failed.")}}class l extends s.Z{constructor(){super("invalid-input:no-model","No supported model found")}}class f extends s.Z{constructor(){super("invalid-input:multiple-models","Multiple supported models found")}}},5143:(N,U,e)=>{e.d(U,{Z:()=>l});var s=e(17626),p=(e(29132),e(77712)),a=(e(8314),e(63290),e(4619),e(68653)),v=e(76898),y=e(2584),m=e(35423),O=e(14946),T=e(65234);const l=f=>{let d=class extends f{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(i,h){return null!=h.minLOD&&null!=h.maxLOD?i:0}readMaxScale(i,h){return null!=h.minLOD&&null!=h.maxLOD?i:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(i,h,t){const c=h.capabilities?.includes("Tilemap");let{minLOD:E,maxLOD:P,minScale:u,maxScale:g}=h;if(null==E&&null==P&&0!==u&&0!==g){const D=j=>Math.round(1e4*j)/1e4;u=D(u||h.tileInfo.lods[0].scale),g=D(g||h.tileInfo.lods[h.tileInfo.lods.length-1].scale);for(const j of h.tileInfo.lods){const I=D(j.scale);E=I>=u?j.level:E,P=I>=g?j.level:P}}if(c)return new O.y({layer:this,minLOD:E,maxLOD:P});if(h.tileInfo){const D=new y.Z;return D.read(h.tileInfo,t),new m.Z(D,E,P)}return null}};return(0,s._)([(0,p.Cb)({json:{read:{source:"copyrightText"}}})],d.prototype,"copyright",void 0),(0,s._)([(0,p.Cb)()],d.prototype,"minScale",void 0),(0,s._)([(0,a.r)("service","minScale")],d.prototype,"readMinScale",null),(0,s._)([(0,p.Cb)()],d.prototype,"maxScale",void 0),(0,s._)([(0,a.r)("service","maxScale")],d.prototype,"readMaxScale",null),(0,s._)([(0,p.Cb)({type:T.Z})],d.prototype,"spatialReference",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],d.prototype,"supportsBlankTile",null),(0,s._)([(0,p.Cb)({type:y.Z})],d.prototype,"tileInfo",void 0),(0,s._)([(0,p.Cb)()],d.prototype,"tilemapCache",void 0),(0,s._)([(0,a.r)("service","tilemapCache",["capabilities","tileInfo"])],d.prototype,"readTilemapCache",null),(0,s._)([(0,p.Cb)()],d.prototype,"version",void 0),d=(0,s._)([(0,v.j)("esri.layers.mixins.ArcGISCachedService")],d),d}},22825:(N,U,e)=>{e.d(U,{A:()=>o});const s=[[3819,3819],[3821,3824],[3889,3889],[3906,3906],[4001,4025],[4027,4036],[4039,4047],[4052,4055],[4074,4075],[4080,4081],[4120,4176],[4178,4185],[4188,4216],[4218,4289],[4291,4304],[4306,4319],[4322,4326],[4463,4463],[4470,4470],[4475,4475],[4483,4483],[4490,4490],[4555,4558],[4600,4646],[4657,4765],[4801,4811],[4813,4821],[4823,4824],[4901,4904],[5013,5013],[5132,5132],[5228,5229],[5233,5233],[5246,5246],[5252,5252],[5264,5264],[5324,5340],[5354,5354],[5360,5360],[5365,5365],[5370,5373],[5381,5381],[5393,5393],[5451,5451],[5464,5464],[5467,5467],[5489,5489],[5524,5524],[5527,5527],[5546,5546],[2044,2045],[2081,2083],[2085,2086],[2093,2093],[2096,2098],[2105,2132],[2169,2170],[2176,2180],[2193,2193],[2200,2200],[2206,2212],[2319,2319],[2320,2462],[2523,2549],[2551,2735],[2738,2758],[2935,2941],[2953,2953],[3006,3030],[3034,3035],[3038,3051],[3058,3059],[3068,3068],[3114,3118],[3126,3138],[3150,3151],[3300,3301],[3328,3335],[3346,3346],[3350,3352],[3366,3366],[3389,3390],[3416,3417],[3833,3841],[3844,3850],[3854,3854],[3873,3885],[3907,3910],[4026,4026],[4037,4038],[4417,4417],[4434,4434],[4491,4554],[4839,4839],[5048,5048],[5105,5130],[5253,5259],[5269,5275],[5343,5349],[5479,5482],[5518,5519],[5520,5520],[20004,20032],[20064,20092],[21413,21423],[21473,21483],[21896,21899],[22171,22177],[22181,22187],[22191,22197],[25884,25884],[27205,27232],[27391,27398],[27492,27492],[28402,28432],[28462,28492],[30161,30179],[30800,30800],[31251,31259],[31275,31279],[31281,31290],[31466,31700]];function o(p){return null!=p&&s.some(([M,_])=>p>=M&&p<=_)}},82674:(N,U,e)=>{e.d(U,{DC:()=>m,Nw:()=>c,UY:()=>P,V3:()=>t,Ym:()=>i,a1:()=>D,jX:()=>u,po:()=>I,uT:()=>h,xG:()=>l});var s=e(15861),o=e(26584),p=e(52489),M=e(31099),_=e(55463),n=e(88755),a=e(37281),v=e(53675),y=e(71404);function m(S,A,C){const L=C(S);if(!L.isValid)throw new o.Z(`${A}:invalid-parameters`,L.errorMessage,{layer:S})}function O(S){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*(S){const{layer:A,errorNamePrefix:C,validateLayer:L}=S;yield A.load(),m(A,C,L)})).apply(this,arguments)}function l(S,A){return`Layer (title: ${S.title}, id: ${S.id}) of type '${S.declaredClass}' ${A}`}function f(S){const{item:A,errorNamePrefix:C,layer:L,validateItem:K}=S;if((0,v.w)(A),function d(S){const{item:A,itemType:C,additionalItemType:L,errorNamePrefix:K,layer:R}=S,B=[C];if(L&&B.push(L),!B.includes(A.type)){const Z=B.map(F=>`'${F}'`).join(", ");throw new o.Z(`${K}:portal-item-wrong-type`,`Portal item type should be one of: "${Z}"`,{item:A,layer:R})}}(S),K){const R=K(A);if(!R.isValid)throw new o.Z(`${C}:invalid-parameters`,R.errorMessage,{layer:L})}}function i(S){const{layer:A,errorNamePrefix:C}=S,{portalItem:L}=A;if(!L)throw new o.Z(`${C}:portal-item-not-set`,l(A,"requires the portalItem property to be set"));if(!L.loaded)throw new o.Z(`${C}:portal-item-not-loaded`,l(A,"cannot be saved to a portal item that does not exist or is inaccessible"));f({...S,item:L})}function h(S){const{newItem:A,itemType:C}=S;let L=_.default.from(A);return L.id&&(L=L.clone(),L.id=null),L.type??=C,L.portal??=M.Z.getDefault(),f({...S,item:L}),L}function t(S){return(0,n.Y)(S,"portal-item")}function c(S,A,C){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(S,A,C){"beforeSave"in S&&"function"==typeof S.beforeSave&&(yield S.beforeSave());const L=S.write({},A);return yield Promise.all(A.resources?.pendingOperations??[]),(0,y.z)(A,{errorName:"layer-write:unsupported"},C),L})).apply(this,arguments)}function P(S){(0,a.qj)(S,a.hz.JSAPI),S.typeKeywords&&(S.typeKeywords=S.typeKeywords.filter((A,C,L)=>L.indexOf(A)===C))}function u(S,A,C){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function*(S,A,C){const L=S.portal;yield L.signIn(),yield L.user?.addItem({item:S,data:A,folder:C?.folder})})).apply(this,arguments)}function D(S,A){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(S,A){const{layer:C,createItemData:L,createJSONContext:K,saveResources:R,supplementalUnsupportedErrors:B}=S;yield O(S),i(S);const Z=C.portalItem,F=K?K(Z):t(Z),$=yield c(C,F,{...A,supplementalUnsupportedErrors:B}),J=yield L({layer:C,layerJSON:$},Z);return P(Z),yield Z.update({data:J}),(0,p.D)(F),yield R?.(Z,F),Z})).apply(this,arguments)}function I(S,A){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(S,A){const{layer:C,createItemData:L,createJSONContext:K,setItemProperties:R,saveResources:B,supplementalUnsupportedErrors:Z}=S;yield O(S);const F=h(S),$=K?K(F):t(F),J=yield c(C,$,{...A,supplementalUnsupportedErrors:Z}),Y=yield L({layer:C,layerJSON:J},F);return yield R(C,F),P(F),yield u(F,Y,A),C.portalItem=F,(0,p.D)($),yield B?.(F,$),F})).apply(this,arguments)}},51920:(N,U,e)=>{e.d(U,{j:()=>y});var s=e(17626),o=e(83761),p=e(77712),a=(e(8314),e(63290),e(4619),e(76898));const v={visible:"visibleSublayers"};let y=class extends o.Z{constructor(m){super(m),this.scale=0}set layer(m){this._get("layer")!==m&&(this._set("layer",m),this.removeHandles("layer"),m&&this.addHandles([m.sublayers.on("change",()=>this.notifyChange("visibleSublayers")),m.on("wms-sublayer-update",O=>this.notifyChange(v[O.propertyName]))],"layer"))}get layers(){return this.visibleSublayers.filter(({name:m})=>m).map(({name:m})=>m).join()}get version(){this.commitProperty("layers");const m=this.layer;return m&&m.commitProperty("imageTransparency"),(this._get("version")||0)+1}get visibleSublayers(){const{layer:m,scale:O}=this,T=m?.sublayers,l=[],f=d=>{const{minScale:i,maxScale:h,sublayers:t,visible:c}=d;c&&(0===O||(0===i||O<=i)&&(0===h||O>=h))&&(t?t.forEach(f):l.push(d))};return T?.forEach(f),l}toJSON(){const{layer:m,layers:O}=this,{imageFormat:T,imageTransparency:l,version:f}=m;return{format:T,request:"GetMap",service:"WMS",styles:"",transparent:l?"TRUE":"FALSE",version:f,layers:O}}};(0,s._)([(0,p.Cb)()],y.prototype,"layer",null),(0,s._)([(0,p.Cb)({readOnly:!0})],y.prototype,"layers",null),(0,s._)([(0,p.Cb)({type:Number})],y.prototype,"scale",void 0),(0,s._)([(0,p.Cb)({readOnly:!0})],y.prototype,"version",null),(0,s._)([(0,p.Cb)({readOnly:!0})],y.prototype,"visibleSublayers",null),y=(0,s._)([(0,a.j)("esri.layers.support.ExportWMSImageParameters")],y)},17732:(N,U,e)=>{e.d(U,{L:()=>T});var s=e(17626),o=e(83761),p=e(77712),a=(e(8314),e(63290),e(4619),e(76898)),v=e(37118),y=e(55915),m=e(65401),O=e(65629);let T=class extends o.Z{constructor(l){super(l)}get bounds(){const l=this.coords;return null==l?.extent?null:(0,m.oJ)(l.extent)}get coords(){const l=this.element.georeference?.coords;return(0,y.projectOrLoad)(l,this.spatialReference).geometry}get normalizedCoords(){return v.Z.fromJSON((0,O.Ui)(this.coords))}get normalizedBounds(){const l=null!=this.normalizedCoords?this.normalizedCoords.extent:null;return null!=l?(0,m.oJ)(l):null}};(0,s._)([(0,p.Cb)()],T.prototype,"spatialReference",void 0),(0,s._)([(0,p.Cb)()],T.prototype,"element",void 0),(0,s._)([(0,p.Cb)()],T.prototype,"bounds",null),(0,s._)([(0,p.Cb)()],T.prototype,"coords",null),(0,s._)([(0,p.Cb)()],T.prototype,"normalizedCoords",null),(0,s._)([(0,p.Cb)()],T.prototype,"normalizedBounds",null),T=(0,s._)([(0,a.j)("esri.layers.support.MediaElementView")],T)},35423:(N,U,e)=>{e.d(U,{Z:()=>M});var s=e(15861),o=e(26584),p=e(10699);class M{constructor(n,a=0,v=n.lods[n.lods.length-1].level){this.tileInfo=n,this.minLOD=a,this.maxLOD=v,n.lodAt(a)||(this.minLOD=n.lods[0].level),n.lodAt(v)||(this.maxLOD=n.lods[n.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(n,a,v){const y=this.tileInfo?.lodAt(n);return!y||n<this.minLOD||n>this.maxLOD?"unavailable":y.cols&&y.rows?v>=y.cols[0]&&v<=y.cols[1]&&a>=y.rows[0]&&a<=y.rows[1]?"unknown":"unavailable":"unknown"}fetchAvailability(n,a,v,y){var m=this;return(0,s.Z)(function*(){yield(0,p.Yn)(y);const O=m.getAvailability(n,a,v);if("unavailable"===O)throw new o.Z("tile-map:tile-unavailable","Tile is not available",{level:n,row:a,col:v});return O})()}fetchAvailabilityUpsample(n,a,v,y,m){var O=this;return(0,s.Z)(function*(){yield(0,p.Yn)(m),y.level=n,y.row=a,y.col=v;const T=O.tileInfo;return T.updateTileInfo(y),O.fetchAvailability(n,a,v,m).catch(l=>{if((0,p.D_)(l))throw l;if(T.upsampleTile(y))return O.fetchAvailabilityUpsample(y.level,y.row,y.col,y,m);throw l})})()}}},14946:(N,U,e)=>{e.d(U,{y:()=>A});var S,s=e(15861),o=e(17626),p=e(84792),M=e(83761),_=e(41844),n=e(26584),a=e(54024),v=e(93961),y=e(77029),m=e(10699),O=e(32917),T=e(50618),l=e(21726),f=e(77712),t=(e(8314),e(63290),e(4619),e(76898)),c=e(68511),E=e(85931),P=e(58817),u=e(55713);class j{constructor(L){this._validateJSON(L);const{location:K,data:R}=L;this.location=Object.freeze((0,P.d9)(K));let F=!0,$=!0;const Y=function g(C,L=!1){return C<=u.c8?L?new Array(C).fill(0):new Array(C):new Uint32Array(C)}(Math.ceil(this.location.width*this.location.height/32));let V=0;for(let W=0;W<R.length;W++){const H=W%32;R[W]?($=!1,Y[V]|=1<<H):F=!1,31===H&&++V}$?(this._availability="unavailable",this.byteSize=40):F?(this._availability="available",this.byteSize=40):(this._availability=Y,this.byteSize=40+(0,u.Xw)(Y))}getAvailability(L,K){if("unavailable"===this._availability||"available"===this._availability)return this._availability;const R=(L-this.location.top)*this.location.width+(K-this.location.left),Z=R>>5,F=this._availability;return Z<0||Z>F.length?"unknown":F[Z]&1<<R%32?"available":"unavailable"}static fromDefinition(L,K){const R=L.service.request||p.Z,{row:B,col:Z,width:F,height:$}=L,J={query:{f:"json"}};return K=K?{...J,...K}:J,R(function b(C){let L;if(C.service.tileServers?.length){const R=C.service.tileServers;L=`${R&&R.length?R[C.row%R.length]:C.service.url}/tilemap/${C.level}/${C.row}/${C.col}/${C.width}/${C.height}`}else L=`${C.service.url}/tilemap/${C.level}/${C.row}/${C.col}/${C.width}/${C.height}`;const K=C.service.query;return K&&(L=`${L}?${K}`),L}(L),K).then(Y=>Y.data).catch(Y=>{if(Y&&Y.details&&422===Y.details.httpStatus)return{location:{top:B,left:Z,width:F,height:$},valid:!0,data:(0,E.a9)(F*$,0)};throw Y}).then(Y=>{if(Y.location&&(Y.location.top!==B||Y.location.left!==Z||Y.location.width!==F||Y.location.height!==$))throw new n.Z("tilemap:location-mismatch","Tilemap response for different location than requested",{response:Y,definition:{top:B,left:Z,width:F,height:$}});return j.fromJSON(Y)})}static fromJSON(L){return Object.freeze(new j(L))}_validateJSON(L){if(!L?.location)throw new n.Z("tilemap:missing-location","Location missing from tilemap response");if(!1===L.valid)throw new n.Z("tilemap:invalid","Tilemap response was marked as invalid");if(!L.data)throw new n.Z("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(L.data))throw new n.Z("tilemap:data-mismatch","Data must be an array of numbers");if(L.data.length!==L.location.width*L.location.height)throw new n.Z("tilemap:data-mismatch","Number of data items does not match width/height of tilemap")}}function I(C){return`${C.level}/${C.row}/${C.col}/${C.width}/${C.height}`}let A=S=class extends M.Z{constructor(C){super(C),this._pendingTilemapRequests={},this.request=p.Z,this.size=32,this._prefetchingEnabled=!0}initialize(){this._tilemapCache=new v.z(2*_.Y.MEGABYTES),this.addHandles((0,O.YP)(()=>{const{layer:C}=this;return[C?.parsedUrl,C?.tileServers,C?.apiKey,C?.customParameters]},()=>this._initializeTilemapDefinition(),O.nn))}get effectiveMinLOD(){return this.minLOD??this.layer.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.layer.tileInfo.lods[this.layer.tileInfo.lods.length-1].level}fetchTilemap(C,L,K,R){if(!this.layer.tileInfo.lodAt(C)||C<this.effectiveMinLOD||C>this.effectiveMaxLOD)return Promise.reject(new n.Z("tilemap-cache:level-unavailable",`Level ${C} is unavailable in the service`));const B=this._tmpTilemapDefinition,Z=this._tilemapFromCache(C,L,K,B);if(Z)return Promise.resolve(Z);const F=R?.signal;return R={...R,signal:null},new Promise(($,J)=>{(0,m.fu)(F,()=>J((0,m.zE)()));const Y=I(B);let V=this._pendingTilemapRequests[Y];if(!V){V=j.fromDefinition(B,R).then(H=>(this._tilemapCache.put(Y,H,H.byteSize),H));const W=()=>{delete this._pendingTilemapRequests[Y]};this._pendingTilemapRequests[Y]=V,V.then(W,W)}V.then($,J)})}getAvailability(C,L,K){if(!this.layer.tileInfo.lodAt(C)||C<this.effectiveMinLOD||C>this.effectiveMaxLOD)return"unavailable";const R=this._tilemapFromCache(C,L,K,this._tmpTilemapDefinition);return R?R.getAvailability(L,K):"unknown"}fetchAvailability(C,L,K,R){return!this.layer.tileInfo.lodAt(C)||C<this.effectiveMinLOD||C>this.effectiveMaxLOD?Promise.reject(new n.Z("tile-map:tile-unavailable","Tile is not available",{level:C,row:L,col:K})):this.fetchTilemap(C,L,K,R).catch(B=>B).then(B=>{if(B instanceof j){const Z=B.getAvailability(L,K);if("unavailable"===Z)throw new n.Z("tile-map:tile-unavailable","Tile is not available",{level:C,row:L,col:K});return Z}if((0,m.D_)(B))throw B;return"unknown"})}fetchAvailabilityUpsample(C,L,K,R,B){R.level=C,R.row=L,R.col=K;const Z=this.layer.tileInfo;Z.updateTileInfo(R);const F=this.fetchAvailability(C,L,K,B).catch($=>{if((0,m.D_)($))throw $;if(Z.upsampleTile(R))return this.fetchAvailabilityUpsample(R.level,R.row,R.col,R,B);throw $});return this._fetchAvailabilityUpsamplePrefetch(R.id,C,L,K,B,F),F}_fetchAvailabilityUpsamplePrefetch(C,L,K,R,B,Z){var F=this;return(0,s.Z)(function*(){if(!F._prefetchingEnabled||null==C)return;const $=`prefetch-${C}`;if(F.hasHandles($))return;const J=new AbortController;Z.then(()=>J.abort(),()=>J.abort());let Y=!1;const V=(0,a.kB)(()=>{Y||(Y=!0,J.abort())});if(F.addHandles(V,$),yield(0,T.MU)(10,J.signal).catch(()=>{}),Y||(Y=!0,F.removeHandles($)),(0,m.Hc)(J))return;const W=new c.f(C,L,K,R),H={...B,signal:J.signal},x=F.layer.tileInfo;for(let w=0;S._prefetches.length<S._maxPrefetch&&x.upsampleTile(W);++w){const G=F.fetchAvailability(W.level,W.row,W.col,H);S._prefetches.push(G);const z=()=>{S._prefetches.removeUnordered(G)};G.then(z,z)}})()}_initializeTilemapDefinition(){if(!this.layer.parsedUrl)return;const{parsedUrl:C,apiKey:L,customParameters:K}=this.layer;this._tilemapCache.clear(),this._tmpTilemapDefinition={service:{url:C.path,query:(0,l.B7)({...C.query,...K,token:L??C.query?.token}),tileServers:this.layer.tileServers,request:this.request},width:this.size,height:this.size,level:0,row:0,col:0}}_tilemapFromCache(C,L,K,R){R.level=C,R.row=L-L%this.size,R.col=K-K%this.size;const B=I(R);return this._tilemapCache.get(B)}get test(){const C=this;return{get prefetchingEnabled(){return C._prefetchingEnabled},set prefetchingEnabled(L){C._prefetchingEnabled=L},hasTilemap:(L,K,R)=>!!C._tilemapFromCache(L,K,R,C._tmpTilemapDefinition)}}};A._maxPrefetch=4,A._prefetches=new y.Z({initialSize:S._maxPrefetch}),(0,o._)([(0,f.Cb)({constructOnly:!0})],A.prototype,"layer",void 0),(0,o._)([(0,f.Cb)({constructOnly:!0})],A.prototype,"minLOD",void 0),(0,o._)([(0,f.Cb)({constructOnly:!0})],A.prototype,"maxLOD",void 0),(0,o._)([(0,f.Cb)({constructOnly:!0})],A.prototype,"request",void 0),(0,o._)([(0,f.Cb)({constructOnly:!0})],A.prototype,"size",void 0),A=S=(0,o._)([(0,t.j)("esri.layers.support.TilemapCache")],A)},91309:(N,U,e)=>{e.d(U,{B:()=>y});var v,s=e(17626),o=e(86810),p=e(58817),M=e(77712),a=(e(8314),e(63290),e(76898));let y=v=class extends o.wq{constructor(m){super(m)}clone(){return new v({customLayerParameters:(0,p.d9)(this.customLayerParameters),customParameters:(0,p.d9)(this.customParameters),layerIdentifier:this.layerIdentifier,tileMatrixSet:this.tileMatrixSet,url:this.url})}};(0,s._)([(0,M.Cb)({json:{type:Object,write:!0}})],y.prototype,"customLayerParameters",void 0),(0,s._)([(0,M.Cb)({json:{type:Object,write:!0}})],y.prototype,"customParameters",void 0),(0,s._)([(0,M.Cb)({type:String,json:{write:!0}})],y.prototype,"layerIdentifier",void 0),(0,s._)([(0,M.Cb)({type:String,json:{write:!0}})],y.prototype,"tileMatrixSet",void 0),(0,s._)([(0,M.Cb)({type:String,json:{write:!0}})],y.prototype,"url",void 0),y=v=(0,s._)([(0,a.j)("esri.layer.support.WMTSLayerInfo")],y)},17196:(N,U,e)=>{e.d(U,{V:()=>p});var s=e(15861),o=e(45205);function p(O,T){return M.apply(this,arguments)}function M(){return(M=(0,s.Z)(function*(O,T){const{loadContext:l,...f}=T||{},d=l?yield l.fetchServiceMetadata(O,f):yield(0,o.T)(O,f);m(d),a(d);const i={serviceJSON:d};if((d.currentVersion??0)<10.5)return i;const h=`${O}/layers`,t=l?yield l.fetchServiceMetadata(h,f):yield(0,o.T)(h,f);return m(t),a(t),i.layersJSON={layers:t.layers,tables:t.tables},i})).apply(this,arguments)}function _(O){return"Feature Layer"===O.type||"Oriented Imagery Layer"===O.type}function n(O){return"Table"===O.type}function a(O){O.layers=O.layers?.filter(_),O.tables=O.tables?.filter(n)}function v(O){O.type||="Feature Layer"}function y(O){O.type||="Table"}function m(O){O.layers?.forEach(v),O.tables?.forEach(y)}},98686:(N,U,e)=>{e.d(U,{CS:()=>d,Cw:()=>f,Yu:()=>E,j5:()=>i,lm:()=>u});var s=e(15861),o=e(59318),p=e(24263),M=e(73281),_=e(84792),n=e(58817),a=e(21726),v=e(65234),y=e(5548),m=e(32442),O=e(33474),T=e(17253);const l={esriGeometryPoint:"points",esriGeometryPolyline:"polylines",esriGeometryPolygon:"polygons"};function f(g){const D=g.folders||[],j=D.slice(),I=new Map,b=new Map,S=new Map,A=new Map,C=new Map,L={esriGeometryPoint:b,esriGeometryPolyline:S,esriGeometryPolygon:A};(g.featureCollection?.layers||[]).forEach(R=>{const B=(0,n.d9)(R);B.featureSet.features=[];const Z=R.featureSet.geometryType;I.set(Z,B);const F=R.layerDefinition.objectIdField;"esriGeometryPoint"===Z?h(b,F,R.featureSet.features):"esriGeometryPolyline"===Z?h(S,F,R.featureSet.features):"esriGeometryPolygon"===Z&&h(A,F,R.featureSet.features)}),g.groundOverlays&&g.groundOverlays.forEach(R=>{C.set(R.id,R)}),D.forEach(R=>{R.networkLinkIds.forEach(B=>{const Z=function c(g,D,j){const I=function t(g,D){let j;return D.some(I=>I.id===g&&(j=I,!0)),j}(g,j);return I&&(I.parentFolderId=D,I.networkLink=I),I}(B,R.id,g.networkLinks);Z&&j.push(Z)})}),j.forEach(R=>{if(R.featureInfos){R.points=(0,n.d9)(I.get("esriGeometryPoint")),R.polylines=(0,n.d9)(I.get("esriGeometryPolyline")),R.polygons=(0,n.d9)(I.get("esriGeometryPolygon")),R.mapImages=[];for(const B of R.featureInfos)switch(B.type){case"esriGeometryPoint":case"esriGeometryPolyline":case"esriGeometryPolygon":{const Z=L[B.type].get(B.id);Z&&R[l[B.type]]?.featureSet.features.push(Z);break}case"GroundOverlay":{const Z=C.get(B.id);Z&&R.mapImages.push(Z);break}}R.fullExtent=u([R])}});const K=u(j);return{folders:D,sublayers:j,extent:K}}function d(g,D,j,I){const b=p.id?.findCredential(g);return g=(0,a.fl)(g,{token:b?.token}),(0,_.Z)(o.Z.kmlServiceUrl,{query:{url:g,model:"simple",folders:"",refresh:0!==j||void 0,outSR:JSON.stringify(D)},responseType:"json",signal:I})}function i(g,D,j=null,I=[]){const b=[],S={},A=D.sublayers,C=new Set(D.folders.map(L=>L.id));return A.forEach(L=>{const K=new g;if(j?K.read(L,j):K.read(L),I.length&&C.has(K.id)&&(K.visible=I.includes(K.id)),S[L.id]=K,null!=L.parentFolderId&&-1!==L.parentFolderId){const R=S[L.parentFolderId];R.sublayers||(R.sublayers=[]),R.sublayers?.unshift(K)}else b.unshift(K)}),b}function h(g,D,j){j.forEach(I=>{g.set(I.attributes[D],I)})}function E(g){return P.apply(this,arguments)}function P(){return(P=(0,s.Z)(function*(g){const D=T.Z.fromJSON(g.featureSet).features,I=(0,O.i)(g.layerDefinition.drawingInfo.renderer),b=M.Z.fromJSON(g.popupInfo),S=[];for(const A of D){const C=yield I.getSymbolAsync(A);A.symbol=C,A.popupTemplate=b,A.visible=!0,S.push(A)}return S})).apply(this,arguments)}function u(g){const D=(0,y.Ue)(y.G_),j=(0,y.Ue)(y.G_);for(const I of g){if(I.polygons?.featureSet?.features)for(const b of I.polygons.featureSet.features)(0,m.Yg)(D,b.geometry),(0,y.TC)(j,D);if(I.polylines?.featureSet?.features)for(const b of I.polylines.featureSet.features)(0,m.Yg)(D,b.geometry),(0,y.TC)(j,D);if(I.points?.featureSet?.features)for(const b of I.points.featureSet.features)(0,m.Yg)(D,b.geometry),(0,y.TC)(j,D);if(I.mapImages)for(const b of I.mapImages)(0,m.Yg)(D,b.extent),(0,y.TC)(j,D)}return(0,y.fS)(j,y.G_)?void 0:{xmin:j[0],ymin:j[1],zmin:j[2],xmax:j[3],ymax:j[4],zmax:j[5],spatialReference:v.Z.WGS84}}},71074:(N,U,e)=>{e.r(U),e.d(U,{populateGroupLayer:()=>B,populateOperationalLayers:()=>l});var s=e(15861),o=e(46160),M=(e(8314),e(27369)),_=e(30164),n=e(55463);function m(V,W){return!(!V.layerType||"ArcGISFeatureLayer"!==V.layerType)&&V.featureCollectionType===W}var O=e(7534),T=e(39683);function l(V,W,H){return f.apply(this,arguments)}function f(){return f=(0,s.Z)(function*(V,W,H){if(!W)return;const x=W.map(G=>function j(V,W){return I.apply(this,arguments)}(G,H)),w=yield Promise.allSettled(x);for(const G of w)"rejected"===G.status||G.value&&V.add(G.value)}),f.apply(this,arguments)}const d={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",IntegratedMesh3DTilesLayer:"IntegratedMesh3DTilesLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},i={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},h={ArcGISFeatureLayer:"FeatureLayer"},t={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},c={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CatalogLayer:"CatalogLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",KnowledgeGraphLayer:"UnsupportedLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},E={ArcGISFeatureLayer:"FeatureLayer",SubtypeGroupTable:"UnsupportedLayer"},P={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},u={...c,LinkChartLayer:"LinkChartLayer"},g={...E},D={...P};function I(){return I=(0,s.Z)(function*(V,W){return function b(V,W,H){return S.apply(this,arguments)}(yield function A(V,W){return C.apply(this,arguments)}(V,W),V,W)}),I.apply(this,arguments)}function S(){return S=(0,s.Z)(function*(V,W,H){const x=new V;return x.read(W,H.context),"group"===x.type&&("GroupLayer"===W.layerType?yield B(x,W,H):K(W)?function F(V,W,H){W.itemId&&(V.portalItem=new n.default({id:W.itemId,portal:H?.portal}),V.when(()=>{const x=w=>{const G=w.layerId;Y(w,V,W,G,H);const z=W.featureCollection?.layers?.[G];z&&w.read(z,H)};V.layers?.forEach(x),V.tables?.forEach(x)}))}(x,W,H.context):L(W)&&(yield function $(V,W,H){return J.apply(this,arguments)}(x,W,H.context))),yield(0,T.y)(x,H.context),x}),S.apply(this,arguments)}function C(){return(C=(0,s.Z)(function*(V,W){const H=W.context,x=function R(V){let W;switch(V.origin){case"web-scene":switch(V.layerContainerType){case"basemap":W=t;break;case"ground":W=i;break;case"tables":W=h;break;default:W=d}break;case"link-chart":switch(V.layerContainerType){case"basemap":W=D;break;case"tables":W=g;break;default:W=u}break;default:switch(V.layerContainerType){case"basemap":W=P;break;case"tables":W=E;break;default:W=c}}return W}(H);let w=V.layerType||V.type;!w&&W?.defaultLayerType&&(w=W.defaultLayerType);const G=x[w];let z=G?_.T[G]:_.T.UnknownLayer;if(K(V)){const Q=H?.portal;if(V.itemId){const X=new n.default({id:V.itemId,portal:Q});yield X.load();const k=(yield(0,O.selectLayerClassPath)(X,new M.L)).className||"UnknownLayer";z=_.T[k]}}else"ArcGISFeatureLayer"===w?function a(V){return m(V,"notes")}(V)||function v(V){return m(V,"markup")}(V)?z=_.T.MapNotesLayer:function y(V){return m(V,"route")}(V)?z=_.T.RouteLayer:L(V)&&(z=_.T.GroupLayer):V.wmtsInfo?.url&&V.wmtsInfo.layerIdentifier?z=_.T.WMTSLayer:"WFS"===w&&"2.0.0"!==V.wfsInfo?.version&&(z=_.T.UnsupportedLayer);return z()})).apply(this,arguments)}function L(V){return"ArcGISFeatureLayer"===V.layerType&&!K(V)&&(V.featureCollection?.layers?.length??0)>1}function K(V){return"Feature Collection"===V.type}function B(V,W,H){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(function*(V,W,H){const x=new o.Z,w=l(x,Array.isArray(W.layers)?W.layers:[],H);try{try{if(yield w,"group"===V.type)return V.layers.addMany(x),V}catch(G){V.destroy();for(const z of x)z.destroy();throw G}}catch(G){throw G}})).apply(this,arguments)}function J(){return(J=(0,s.Z)(function*(V,W,H){const x=_.T.FeatureLayer,w=yield x(),G=W.featureCollection,z=G?.showLegend,Q=G?.layers?.map((X,k)=>{const q=new w;q.read(X,H);const se={...H,ignoreDefaults:!0};return Y(q,V,W,k,se),null!=z&&q.read({showLegend:z},se),q});V.layers.addMany(Q??[])})).apply(this,arguments)}function Y(V,W,H,x,w){V.read({id:`${W.id}-sublayer-${x}`,visibility:H.visibleLayers?.includes(x)??!0},w)}},61068:(N,U,e)=>{e.d(U,{OE:()=>O,Gc:()=>f,Qg:()=>T,Rq:()=>a,gX:()=>l,z2:()=>v,ET:()=>y,Vx:()=>i}),e(29132);var p=e(28594),M=e(72642);const _=new Map,n=new class o{constructor(t=15e3,c=5e3){this._timer=null,this._cachedBlocks=new Map,this._size=-1,this._duration=t,this._interval=Math.min(t,c)}decreaseRefCount(t,c){const E=t+"/"+c,P=this._cachedBlocks;if(P.has(E)){const u=P.get(E);return u.refCount--,u.refCount<=0&&(P.delete(E),u.controller&&u.controller.abort()),u.refCount}return 0}getBlock(t,c){const E=t+"/"+c,P=this._cachedBlocks;if(P.has(E)){const u=P.get(E);return u.ts=Date.now(),u.refCount++,P.delete(E),P.set(E,u),u.block}return null}putBlock(t,c,E,P){const u=this._cachedBlocks,g=t+"/"+c;if(u.has(g)){const D=u.get(g);D.ts=Date.now(),D.refCount++}else u.set(g,{block:E,ts:Date.now(),refCount:1,controller:P});this._trim(),this._updateTimer()}deleteBlock(t,c){const E=this._cachedBlocks,P=t+"/"+c;E.has(P)&&E.delete(P)}updateMaxSize(t){this._size=t,this._trim()}empty(){this._cachedBlocks.clear(),this._clearTimer()}getCurrentSize(){return this._cachedBlocks.size}_updateTimer(){if(null!=this._timer)return;const t=this._cachedBlocks;this._timer=setInterval(()=>{const c=Array.from(t),E=Date.now();for(let P=0;P<c.length&&c[P][1].ts<=E-this._duration;P++)t.delete(c[P][0]);0===t.size&&this._clearTimer()},this._interval)}_trim(){const t=this._cachedBlocks;if(-1===this._size||this._size>=t.size)return;const c=Array.from(t);for(let E=0;E<c.length-this._size;E++)t.delete(c[E][0])}_clearTimer(){null!=this._timer&&(clearInterval(this._timer),this._timer=null)}};function a(h,t){return null==t?h:`${h}?sliceId=${t}`}function v(h,t){const c={extent:null,rasterInfo:t,cache:new Map},E=_.get(h);return E?(E.push(c),E.length-1):(_.set(h,[c]),0)}function y(h,t){const c=_.get(h);c&&(c[t]=null,c.some(E=>null!=E)||_.delete(h))}function O(h,t,c){const E=_.get(h);if(!E)return null==t?n.decreaseRefCount(h,c):0;if(null==t||null==E[t])return n.decreaseRefCount(h,c);const P=E[t]?.cache,u=P?.get(c);if(P&&u){if(u.refCount--,0===u.refCount){P.delete(c);for(let g=0;g<E.length;g++)E[g]?.cache.delete(c);u.controller&&u.controller.abort()}return u.refCount}return 0}function T(h,t,c){const E=_.get(h);if(!E)return null==t?n.getBlock(h,c):null;if(null==t||null==E[t]){for(let u=0;u<E.length;u++){const g=E[u]?.cache.get(c);if(g)return g.refCount++,g.block}return n.getBlock(h,c)}const P=E[t]?.cache.get(c);if(P)return P.refCount++,P.block;for(let u=0;u<E.length;u++){if(u===t||!E[u])continue;const g=E[u]?.cache,D=g?.get(c);if(g&&D)return D.refCount++,g.set(c,D),D.block}return null}function l(h,t,c,E,P=null){const u=_.get(h);if(!u)return void(null==t&&n.putBlock(h,c,E,P));if(null==t||null==u[t])return void n.putBlock(h,c,E,P);const g={refCount:1,block:E,isResolved:!1,isRejected:!1,controller:P};E.then(()=>g.isResolved=!0).catch(()=>g.isRejected=!0),u[t]?.cache.set(c,g)}function f(h,t,c){const E=_.get(h);E?null!=t&&null!=E[t]?E[t]?.cache.delete(c):n.deleteBlock(h,c):null==t&&n.deleteBlock(h,c)}function i(h,t,c,E,P,u,g=null){const D=function d(h,t){const c=_.get(h);return c?c[t]??null:null}(h,t);if(!D)return;const j=D.extent,{cache:I,rasterInfo:b}=D;if(j&&j.xmin===c.xmin&&j.xmax===c.xmax&&j.ymin===c.ymin&&j.ymax===c.ymax)return;E=E??0;const S=c.clone().normalize(),{spatialReference:A,transform:C}=b,L=new Set;for(let K=0;K<S.length;K++){const R=S[K];if(R.xmax-R.xmin<=E||R.ymax-R.ymin<=E)continue;let B=(0,p.tB)(R,A,g);null!=C&&(B=C.inverseTransform(B));const Z=new M.Z({x:E,y:E,spatialReference:R.spatialReference});if(null==P&&!(P=(0,p.VO)(Z,A,R,g)))return;const{pyramidLevel:F,pyramidResolution:$,excessiveReading:J}=(0,p.kr)(P,b,u||"closest");if(J)return;const{storageInfo:Y}=b,{origin:V}=Y,W={x:Math.max(0,Math.floor((B.xmin-V.x)/$.x)),y:Math.max(0,Math.floor((V.y-B.ymax)/$.y))},H=Math.ceil((B.xmax-B.xmin)/$.x-.1),x=Math.ceil((B.ymax-B.ymin)/$.y-.1),w=F>0?Y.pyramidBlockWidth:Y.blockWidth,G=F>0?Y.pyramidBlockHeight:Y.blockHeight,z=1,Q=Math.max(0,Math.floor(W.x/w)-z),X=Math.max(0,Math.floor(W.y/G)-z),k=Math.floor((W.x+H-1)/w)+z,q=Math.floor((W.y+x-1)/G)+z;for(let se=X;se<=q;se++)for(let te=Q;te<=k;te++)L.add(`${F}/${se}/${te}`)}I.forEach((K,R)=>{if(!L.has(R)){const B=I.get(R);(null==B||B.isResolved||B.isRejected)&&I.delete(R)}}),D.extent={xmin:c.xmin,ymin:c.ymin,xmax:c.xmax,ymax:c.ymax}}},10553:(N,U,e)=>{e.d(U,{J:()=>p,O:()=>o});var s=e(54346);function o(){return new Promise(_=>e.e(1002).then(e.bind(e,81002)).then(n=>n.l).then(({default:n})=>{const a=n({locateFile:M,onRuntimeInitialized:()=>_(a)})})).catch(_=>{throw _})}function p(){return new Promise(_=>e.e(6925).then(e.bind(e,46925)).then(n=>n.l).then(({default:n})=>{const a=n({locateFile:M,onRuntimeInitialized:()=>_(a)})})).catch(_=>{throw _})}function M(_){return(0,s.V)(`esri/libs/lyr3d/${_}`)}},39691:(N,U,e)=>{e.d(U,{Y:()=>o});var s=e(75775);const o={readOnly:!0,get(){return(0,s.R)(this.view)}}},33230:(N,U,e)=>{e.d(U,{Z:()=>O});var s=e(17626),p=(e(29132),e(77712)),a=(e(8314),e(63290),e(4619),e(76898)),v=e(493),y=e(72642);let m=class extends v.Z{constructor(T){super(T),this.layoutGeometry=null}};(0,s._)([(0,p.Cb)({type:y.Z,json:{write:!0}})],m.prototype,"layoutGeometry",void 0),m=(0,s._)([(0,a.j)("esri.rest.knowledgeGraph.Entity")],m);const O=m},493:(N,U,e)=>{e.d(U,{Z:()=>y});var s=e(17626),o=e(77712),n=(e(8314),e(63290),e(4619),e(76898)),a=e(35352);let v=class extends a.Z{constructor(m){super(m),this.typeName=null,this.id=null}};(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],v.prototype,"typeName",void 0),(0,s._)([(0,o.Cb)({type:String,json:{write:!0}})],v.prototype,"id",void 0),v=(0,s._)([(0,n.j)("esri.rest.knowledgeGraph.GraphNamedObject")],v);const y=v},35352:(N,U,e)=>{e.d(U,{Z:()=>y});var s=e(17626),o=e(86810),p=e(77712),a=(e(8314),e(63290),e(4619),e(76898));let v=class extends o.wq{constructor(m){super(m),this.properties=null}};(0,s._)([(0,p.Cb)({json:{write:!0}})],v.prototype,"properties",void 0),v=(0,s._)([(0,a.j)("esri.rest.knowledgeGraph.GraphObject")],v);const y=v},39537:(N,U,e)=>{e.d(U,{Z:()=>O});var s=e(17626),o=e(77712),n=(e(8314),e(63290),e(4619),e(76898)),a=e(83761);let v=class extends a.Z{constructor(T){super(T),this.openCypherQuery=""}};(0,s._)([(0,o.Cb)()],v.prototype,"openCypherQuery",void 0),v=(0,s._)([(0,n.j)("esri.rest.knowledgeGraph.GraphQuery")],v);const y=v;let m=class extends y{constructor(T){super(T),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null}};(0,s._)([(0,o.Cb)()],m.prototype,"bindParameters",void 0),(0,s._)([(0,o.Cb)()],m.prototype,"bindGeometryQuantizationParameters",void 0),(0,s._)([(0,o.Cb)()],m.prototype,"outputQuantizationParameters",void 0),(0,s._)([(0,o.Cb)()],m.prototype,"outputSpatialReference",void 0),m=(0,s._)([(0,n.j)("esri.rest.knowledgeGraph.GraphQueryStreaming")],m);const O=m},3892:(N,U,e)=>{e.d(U,{Z:()=>y});var s=e(17626),n=(e(63290),e(8314),e(4619),e(26584),e(76898)),a=e(35352);let v=class extends a.Z{constructor(m){super(m)}};v=(0,s._)([(0,n.j)("esri.rest.knowledgeGraph.ObjectValue")],v);const y=v},77549:(N,U,e)=>{e.d(U,{Z:()=>m});var s=e(17626),o=e(86810),p=e(77712),a=(e(8314),e(63290),e(4619),e(76898)),v=e(35352);let y=class extends o.wq{constructor(O){super(O),this.path=null}};(0,s._)([(0,p.Cb)({type:[v.Z],json:{write:!0}})],y.prototype,"path",void 0),y=(0,s._)([(0,a.j)("esri.rest.knowledgeGraph.Path")],y);const m=y},8495:(N,U,e)=>{e.d(U,{Z:()=>O});var s=e(17626),p=(e(29132),e(77712)),a=(e(8314),e(63290),e(4619),e(76898)),v=e(493),y=e(55214);let m=class extends v.Z{constructor(T){super(T),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],m.prototype,"originId",void 0),(0,s._)([(0,p.Cb)({type:String,json:{write:!0}})],m.prototype,"destinationId",void 0),(0,s._)([(0,p.Cb)({type:y.Z,json:{write:!0}})],m.prototype,"layoutGeometry",void 0),m=(0,s._)([(0,a.j)("esri.rest.Relationship.Relationship")],m);const O=m},72581:(N,U,e)=>{e.d(U,{IJ:()=>O,m5:()=>d,vB:()=>h,w7:()=>l});var s=e(15861),o=e(84792),p=e(21726),M=e(91179),_=e(93555),n=e(37053),a=e(76391),v=e(61515);const y="Layer does not support extent calculation.";function m(c,E){const P=c.geometry,u=c.toJSON(),g=u;if(null!=P&&(g.geometry=JSON.stringify(P),g.geometryType=(0,M.Ji)(P),g.inSR=(0,n.B9)(P.spatialReference)),u.topFilter?.groupByFields&&(g.topFilter.groupByFields=u.topFilter.groupByFields.join(",")),u.topFilter?.orderByFields&&(g.topFilter.orderByFields=u.topFilter.orderByFields.join(",")),u.topFilter&&(g.topFilter=JSON.stringify(g.topFilter)),u.objectIds&&(g.objectIds=u.objectIds.join(",")),u.orderByFields&&(g.orderByFields=u.orderByFields.join(",")),u.outFields&&!(E?.returnCountOnly||E?.returnExtentOnly||E?.returnIdsOnly)?g.outFields=u.outFields.includes("*")?"*":u.outFields.join(","):delete g.outFields,u.outSR?g.outSR=(0,n.B9)(u.outSR):P&&u.returnGeometry&&(g.outSR=g.inSR),u.returnGeometry&&delete u.returnGeometry,u.timeExtent){const D=u.timeExtent,{start:j,end:I}=D;null==j&&null==I||(g.time=j===I?j:`${j??"null"},${I??"null"}`),delete u.timeExtent}return g}function O(c,E,P,u){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(function*(c,E,P,u){const g=yield t(c,E,"json",u);return(0,v.p)(E,P,g.data),g})).apply(this,arguments)}function l(c,E,P){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(function*(c,E,P){return null!=E.timeExtent&&E.timeExtent.isEmpty?{data:{objectIds:[]}}:t(c,E,"json",P,{returnIdsOnly:!0})})).apply(this,arguments)}function d(c,E,P){return i.apply(this,arguments)}function i(){return(i=(0,s.Z)(function*(c,E,P){return null!=E.timeExtent&&E.timeExtent.isEmpty?{data:{count:0,extent:null}}:t(c,E,"json",P,{returnExtentOnly:!0,returnCountOnly:!0}).then(u=>{const g=u.data;if(g.hasOwnProperty("extent"))return u;if(g.features)throw new Error(y);if(g.hasOwnProperty("count"))throw new Error(y);return u})})).apply(this,arguments)}function h(c,E,P){return null!=E.timeExtent&&E.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):t(c,E,"json",P,{returnIdsOnly:!0,returnCountOnly:!0})}function t(c,E,P,u={},g={}){const D="string"==typeof c?(0,p.mN)(c):c,j=E.geometry?[E.geometry]:[];return u.responseType="pbf"===P?"array-buffer":"json",(0,_.aX)(j,null,u).then(I=>{const b=I?.[0];null!=b&&((E=E.clone()).geometry=b);const S=(0,a.A)({...D.query,f:P,...g,...m(E,g)});return(0,o.Z)((0,p.v_)(D.path,"queryTopFeatures"),{...u,query:{...S,...u.query}})})}},57052:(N,U,e)=>{e.d(U,{Z:()=>M});var s=e(15861),o=e(17002),p=e(90740);class M{constructor(){this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){this._inFlightResourceMap.clear(),this._resourceMap.clear()}getResource(n){return this._resourceMap.get(n)??null}fetchResource(n,a){var v=this;return(0,s.Z)(function*(){const y=v._resourceMap.get(n);if(y)return{width:y.width,height:y.height};let m=v._inFlightResourceMap.get(n);return m?m.then(O=>({width:O.width,height:O.height})):(m=(0,p.n$)(n,a),v._inFlightResourceMap.set(n,m),m.then(O=>(v._inFlightResourceMap.delete(n),v._resourceMap.set(n,O),{width:O.width,height:O.height}),()=>({width:0,height:0})))})()}deleteResource(n){this._inFlightResourceMap.delete(n),this._resourceMap.delete(n)}loadFont(n){return(0,o.mx)(n)}}},57068:(N,U,e)=>{e.r(U),e.d(U,{CIMSymbolRasterizer:()=>v});var s=e(15861),o=e(57052),p=e(93886),M=e(35909),_=e(2648),n=e(80991);class v{constructor(O){this._spatialReference=O,this._imageDataCanvas=null,this._cimResourceManager=new o.Z}get _canvas(){return this._imageDataCanvas||(this._imageDataCanvas=document.createElement("canvas")),this._imageDataCanvas}get resourceManager(){return this._cimResourceManager}rasterizeCIMSymbolAsync(O,T,l,f,d,i,h,t,c){var E=this;return(0,s.Z)(function*(){if(!O)return null;const{data:P}=O;if(!P||"CIMSymbolReference"!==P.type||!P.symbol)return null;const{symbol:u}=P;i||(i=(0,n.JW)(u));const g=yield _.E.resolveSymbolOverrides(P,T,E._spatialReference,d,i,h,t),D=E._cimResourceManager,j=[];M.B$.fetchResources(g,D,j),M.B$.fetchFonts(g,D,j),j.length>0&&(yield Promise.all(j));const{width:I,height:b}=l,S=y(i,I,b,f),A=M.B$.getEnvelope(g,S,D);if(!A)return null;let C=1,L=0,K=0;switch(u.type){case"CIMPointSymbol":case"CIMTextSymbol":{let B=1;A.width>I&&(B=I/A.width);let Z=1;A.height>b&&(Z=b/A.height),"preview"===f&&(A.width<I&&(B=I/A.width),A.height<b&&(Z=b/A.height)),C=Math.min(B,Z),L=A.x+A.width/2,K=A.y+A.height/2}break;case"CIMLineSymbol":{(c||A.height>b)&&(C=b/A.height),K=A.y+A.height/2;const B=A.x*C+I/2,Z=(A.x+A.width)*C+I/2,{paths:F}=S;F[0][0][0]-=B/C,F[0][2][0]-=(Z-I)/C}break;case"CIMPolygonSymbol":{L=A.x+A.width/2,K=A.y+A.height/2;const B=A.x*C+I/2,Z=(A.x+A.width)*C+I/2,F=A.y*C+b/2,$=(A.y+A.height)*C+b/2,{rings:J}=S;B<0&&(J[0][0][0]-=B,J[0][3][0]-=B,J[0][4][0]-=B),F<0&&(J[0][0][1]+=F,J[0][1][1]+=F,J[0][4][1]+=F),Z>I&&(J[0][1][0]-=Z-I,J[0][2][0]-=Z-I),$>b&&(J[0][2][1]+=$-b,J[0][3][1]+=$-b)}}return E.rasterize({type:"cim",data:{type:"CIMSymbolReference",symbol:g}},I,b,L,K,C,i,1,S)})()}rasterize(O,T,l,f,d,i,h,t=0,c=null){const{data:E}=O;if(!E||"CIMSymbolReference"!==E.type||!E.symbol)return null;const{symbol:P}=E,u=this._canvas,g=1.3333333333333333*(window.devicePixelRatio||1);u.width=T*g,u.height=l*g,h||(h=(0,n.JW)(P)),c||(c=y(h,T,l,"legend")),u.width+=2*t,u.height+=2*t;const D=u.getContext("2d",{willReadFrequently:!0}),j=p.zA.createIdentity();return j.translate(-f,-d),j.scale(i*g,-i*g),j.translate(T*g/2+t,l*g/2+t),D.clearRect(0,0,u.width,u.height),new p.cD(D,this._cimResourceManager,j,!0).drawSymbol(P,c),D.getImageData(0,0,u.width,u.height)}}function y(m,O,T,l){const d=-O/2+1,i=O/2-1,h=T/2-1,t=-T/2+1;switch(m){case"esriGeometryPoint":return{x:0,y:0};case"esriGeometryPolyline":return{paths:[[[d,0],[0,0],[i,0]]]};default:return"legend"===l?{rings:[[[d,h],[i,0],[i,t],[d,t],[d,h]]]}:{rings:[[[d,h],[i,h],[i,t],[d,t],[d,h]]]}}}},91757:(N,U,e)=>{e.d(U,{c:()=>M});var s=e(41738),o=e(39406),p=e(44589);class M extends p.Z{constructor(){super(...arguments),this._hasCrossfade=!1}get requiresDedicatedFBO(){return super.requiresDedicatedFBO||this._hasCrossfade}beforeRender(n){super.beforeRender(n),this._manageFade()}prepareRenderPasses(n){const a=n.registerRenderPass({name:"bitmap",brushes:[s.U.bitmap],target:()=>this.children,drawPhase:o.jx.MAP});return[...super.prepareRenderPasses(n),a]}_manageFade(){this.children.reduce((n,a)=>n+(a.inFadeTransition?1:0),0)>=2?(this.children.forEach(n=>n.blendFunction="additive"),this._hasCrossfade=!0):(this.children.forEach(n=>n.blendFunction="standard"),this._hasCrossfade=!1)}}},35688:(N,U,e)=>{e.d(U,{Z:()=>p});var o,M,s=e(13160);(M=o||(o={}))[M.moveTo=1]="moveTo",M[M.lineTo=2]="lineTo",M[M.close=7]="close";class p{constructor(_,n,a=0){this.values={},this._geometry=void 0,this._pbfGeometry=null,this.featureIndex=a;const v=n.keys,y=n.values,m=_.asUnsafe();for(;m.next();)switch(m.tag()){case 1:this.id=m.getUInt64();break;case 2:{const O=m.getMessage().asUnsafe(),T=this.values;for(;!O.empty();){const l=O.getUInt32(),f=O.getUInt32();T[v[l]]=y[f]}O.release();break}case 3:this.type=m.getUInt32();break;case 4:this._pbfGeometry=m.getMessage();break;default:m.skip()}}getGeometry(_){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const n=this._pbfGeometry.asUnsafe();let a,v;this._pbfGeometry=null,_?_.reset(this.type):a=[];let y,m=o.moveTo,O=0,T=0,l=0;for(;!n.empty();){if(0===O){const f=n.getUInt32();m=7&f,O=f>>3}switch(O--,m){case o.moveTo:T+=n.getSInt32(),l+=n.getSInt32(),_?_.moveTo(T,l):a&&(v&&a.push(v),v=[],v.push(new s.E9(T,l)));break;case o.lineTo:T+=n.getSInt32(),l+=n.getSInt32(),_?_.lineTo(T,l):v&&v.push(new s.E9(T,l));break;case o.close:_?_.close():v&&!v[0].equals(T,l)&&v.push(v[0].clone());break;default:throw n.release(),new Error("Invalid path operation")}}return _?y=_.result():a&&(v&&a.push(v),y=a),n.release(),this._geometry=y,y}}},38320:(N,U,e)=>{e.d(U,{Z:()=>s});class s{constructor(p){this.extent=4096,this.keys=[],this.values=[],this._pbfLayer=p.clone();const M=p.asUnsafe();for(;M.next();)switch(M.tag()){case 1:this.name=M.getString();break;case 3:this.keys.push(M.getString());break;case 4:this.values.push(M.processMessage(s._parseValue));break;case 5:this.extent=M.getUInt32();break;default:M.skip()}}getData(){return this._pbfLayer}static _parseValue(p){for(;p.next();)switch(p.tag()){case 1:return p.getString();case 2:return p.getFloat();case 3:return p.getDouble();case 4:return p.getInt64();case 5:return p.getUInt64();case 6:return p.getSInt64();case 7:return p.getBool();default:p.skip()}return null}}},34106:(N,U,e)=>{e.d(U,{hY:()=>l});var s=e(54024),o=e(27422),M=(e(57932),e(7547)),_=e(3959);function m(t,c){const{width:E,height:P,getFrame:u}=t,g=t.frameDurations.slice(),D=g.pop();return g.push((0,o.HA)(D+c)),{frameCount:t.frameCount,duration:t.duration+c,frameDurations:g,getFrame:u,width:E,height:P}}class O{constructor(c,E,P,u){this._animation=c,this._repeatType=P,this._onFrameData=u,this._direction=1,this._currentFrame=0,this.timeToFrame=this._animation.frameDurations[this._currentFrame];let g=0;for(;E>g;)g+=this.timeToFrame,this.nextFrame();const D=this._animation.getFrame(this._currentFrame);this._onFrameData(D)}nextFrame(){if(this._currentFrame+=this._direction,this._direction>0){if(this._currentFrame===this._animation.frameDurations.length)switch(this._repeatType){case M.of.None:this._currentFrame-=this._direction;break;case M.of.Loop:this._currentFrame=0;break;case M.of.Oscillate:this._currentFrame-=this._direction,this._direction=-1}}else if(-1===this._currentFrame)switch(this._repeatType){case M.of.None:this._currentFrame-=this._direction;break;case M.of.Loop:this._currentFrame=this._animation.frameDurations.length-1;break;case M.of.Oscillate:this._currentFrame-=this._direction,this._direction=1}this.timeToFrame=this._animation.frameDurations[this._currentFrame];const c=this._animation.getFrame(this._currentFrame);this._onFrameData(c)}}function l(t,c,E,P){const u=null==c.playAnimation||c.playAnimation,g=function T(t,c,E,P){let u,{repeatType:g}=c;if(null==g&&(g=M.of.Loop),!0===c.reverseAnimation&&(t=function a(t){const{width:c,height:E}=t,P=t.frameDurations.reverse();return{frameCount:t.frameCount,duration:t.duration,frameDurations:P,getFrame:g=>t.getFrame(t.frameDurations.length-1-g),width:c,height:E}}(t)),null!=c.duration&&(t=function v(t,c){const{width:E,height:P,getFrame:u}=t,g=c/t.duration,D=t.frameDurations.map(j=>(0,o.HA)(j*g));return{frameCount:t.frameCount,duration:t.duration,frameDurations:D,getFrame:u,width:E,height:P}}(t,(0,o.HA)(1e3*c.duration))),null!=c.repeatDelay){const D=1e3*c.repeatDelay;g===M.of.Loop?t=m(t,(0,o.HA)(D)):g===M.of.Oscillate&&(t=function y(t,c){const{width:E,height:P,getFrame:u}=t,g=t.frameDurations.slice(),D=g.shift();return g.unshift((0,o.HA)(D+c)),{frameCount:t.frameCount,duration:t.duration+c,frameDurations:g,getFrame:u,width:E,height:P}}(m(t,(0,o.HA)(D/2)),(0,o.HA)(D/2)))}if(null!=c.startTimeOffset)u=(0,o.HA)(1e3*c.startTimeOffset);else if(null!=c.randomizeStartTime){const I=(0,_.f)(E,null!=c.randomizeStartSeed?c.randomizeStartSeed:82749913);u=(0,o.HA)(I*function n(t){return(0,o.HA)(t.frameDurations.reduce((c,E)=>c+E,0))}(t))}else u=(0,o.HA)(0);return new O(t,u,g,P)}(t,c,E,P);let D,j=g.timeToFrame;return function I(){D=u?setTimeout(()=>{g.nextFrame(),j=g.timeToFrame,I()},j):void 0}(),(0,s.kB)(()=>u&&clearTimeout(D))}},86859:(N,U,e)=>{e.d(U,{s:()=>_});var s=e(37977),o=e(80322);const p=n=>{let a="";a+=n[0].toUpperCase();for(let v=1;v<n.length;v++){const y=n[v];y===y.toUpperCase()?(a+="_",a+=y):a+=y.toUpperCase()}return a},_=(n,a,v,y)=>{const m=n+n.substring(n.lastIndexOf("/")),O=a+a.substring(a.lastIndexOf("/")),T=(n=>{const a={};for(const v in n)a[p(v)]=n[v];return(0,o.K)(a)})(y);return{attributes:v,shaders:{vertexShader:T+(0,s.w)(`${m}.vert`),fragmentShader:T+(0,s.w)(`${O}.frag`)}}}},30026:(N,U,e)=>{e.d(U,{Y:()=>i});var s=e(17626),n=(e(63290),e(8314),e(4619),e(26584),e(76898)),a=e(65401),v=e(2753),y=e(90301),m=e(43783);class O extends m.I{constructor(t,c,E,P,u,g,D=null){super(t,c,E,P,u,g),this.bitmap=new y.eY(D),this.bitmap.coordScale=[u,g],this.bitmap.once("isReady",()=>this.ready())}destroy(){super.destroy(),this.bitmap.destroy()}beforeRender(t){this.bitmap.beforeRender(t),super.beforeRender(t)}afterRender(t){this.bitmap.afterRender(t),super.afterRender(t)}set stencilRef(t){this.bitmap.stencilRef=t}get stencilRef(){return this.bitmap.stencilRef}_createTransforms(){return{displayViewScreenMat3:(0,v.Ue)(),tileMat3:(0,v.Ue)()}}setTransform(t){super.setTransform(t),this.bitmap.transforms.displayViewScreenMat3=this.transforms.displayViewScreenMat3}onAttach(){this.bitmap.stage=this.stage}onDetach(){this.bitmap&&(this.bitmap.stage=null)}}var T=e(41738),l=e(39406),f=e(26268);class d extends f.Z{get requiresDedicatedFBO(){return this.children.some(t=>"additive"===t.bitmap.blendFunction)}createTile(t){const c=this._tileInfoView.getTileBounds((0,a.Ue)(),t),E=this._tileInfoView.getTileResolution(t.level),[P,u]=this._tileInfoView.tileInfo.size;return new O(t,E,c[0],c[3],P,u)}prepareRenderPasses(t){const c=t.registerRenderPass({name:"bitmap (tile)",brushes:[T.U.bitmap],target:()=>this.children.map(E=>E.bitmap),drawPhase:l.jx.MAP});return[...super.prepareRenderPasses(t),c]}doRender(t){this.visible&&t.drawPhase===l.jx.MAP&&super.doRender(t)}}const i=h=>{let t=class extends h{attach(){this.view.timeline.record(`${this.layer.title} (BitmapTileLayer) Attach`),this._bitmapView=new d(this._tileInfoView),this.container.addChild(this._bitmapView)}detach(){this.container.removeChild(this._bitmapView),this._bitmapView?.removeAllChildren(),this._bitmapView=null}};return t=(0,s._)([(0,n.j)("esri.views.2d.layers.BitmapTileLayerView2D")],t),t}},36275:(N,U,e)=>{e.d(U,{Z:()=>M});var s=e(39406),o=e(12078),p=e(38321);class M extends o.K{renderChildren(n){for(const a of this.children)a.setTransform(n.state);if(super.renderChildren(n),this.attributeView.update(),this.children.some(a=>a.hasData)){switch(n.drawPhase){case s.jx.MAP:this._renderChildren(n,s.Xq.All);break;case s.jx.HIGHLIGHT:this.hasHighlight&&this._renderHighlight(n)}this._boundsRenderer&&this._boundsRenderer.doRender(n)}}_renderHighlight(n){(0,p.P9)(n,!1,a=>{this._renderChildren(a,s.Xq.Highlight)})}}},13305:(N,U,e)=>{e.d(U,{Z:()=>O});var s=e(17626),n=(e(63290),e(8314),e(4619),e(26584),e(76898)),a=e(39406),v=e(12078),y=e(38321);let m=class extends v.K{get hasHighlight(){return this.children.some(T=>T.hasData)}renderChildren(T){this.attributeView.update(),T.drawPhase===a.jx.HIGHLIGHT&&this.children.some(l=>l.hasData)&&(super.renderChildren(T),T.context.setColorMask(!0,!0,!0,!0),(0,y.P9)(T,!0,l=>{this._renderChildren(l,a.Xq.All)}))}};m=(0,s._)([(0,n.j)("esri.views.2d.layers.support.HighlightGraphicContainer")],m);const O=m},67802:(N,U,e)=>{e.d(U,{Z:()=>j});var s=e(15861),o=e(17626),p=e(83761),_=(e(8314),e(10699)),n=e(77712),y=(e(63290),e(4619),e(76898)),m=e(65401),O=e(37053),T=e(2584);const l=Math.PI/180;var h=e(90301),t=e(9598),c=e(58098);const E=(0,m.Ue)(),P=[0,0],u=new c.Z(0,0,0,0);let D=class extends p.Z{constructor(I){var b;super(I),b=this,this._imagePromise=null,this.bitmaps=[],this.hidpi=false,this.imageMaxWidth=2048,this.imageMaxHeight=2048,this.imageRotationSupported=false,this.imageNormalizationSupported=false,this.update=(0,_.Ds)(function(){var S=(0,s.Z)(function*(A,C){if((0,_.k_)(C),!A.stationary||b.destroyed)return;const L=A.state,K=(0,O.C5)(L.spatialReference),R=b.hidpi?A.pixelRatio:1,B=b.imageNormalizationSupported&&L.worldScreenWidth&&L.worldScreenWidth<L.size[0],Z=b.imageMaxWidth??0,F=b.imageMaxHeight??0;B?(P[0]=L.worldScreenWidth,P[1]=L.size[1]):b.imageRotationSupported?(P[0]=L.size[0],P[1]=L.size[1]):function d(I,b){const S=function f(I){return I*l}(b.rotation),A=Math.abs(Math.cos(S)),C=Math.abs(Math.sin(S)),[L,K]=b.size;return I[0]=Math.round(K*C+L*A),I[1]=Math.round(K*A+L*C),I}(P,L);const $=Math.floor(P[0]*R)>Z||Math.floor(P[1]*R)>F,Y=!b.imageNormalizationSupported&&K&&(L.extent.xmin<K.valid[0]||L.extent.xmax>K.valid[1]),V=!$&&!Y,W=b.imageRotationSupported?L.rotation:0,H=b.container.children.slice();if(V){const x=B?L.paddedViewState.center:L.center;b._imagePromise&&console.error("Image promise was not defined!"),b._imagePromise=b._singleExport(L,P,x,L.resolution,W,R,C)}else{let x=Math.min(Z,F);Y&&(x=Math.min(L.worldScreenWidth,x)),b._imagePromise=b._tiledExport(L,x,R,C)}try{const x=(yield b._imagePromise)??[];(0,_.k_)(C);const w=[];if(b._imagePromise=null,b.destroyed)return;b.bitmaps=x;for(const G of H)x.includes(G)||w.push(G.fadeOut().then(()=>{G.remove(),G.destroy()}));for(const G of x)w.push(G.fadeIn());yield Promise.all(w)}catch(x){b._imagePromise=null,(0,_.r9)(x)}});return function(A,C){return S.apply(this,arguments)}}(),5e3),this.updateExports=(0,_.Ds)(function(){var S=(0,s.Z)(function*(A){const C=[];for(const L of b.container.children){if(!L.visible||!L.stage)return;C.push(A(L).then(()=>{L.invalidateTexture(),L.requestRender()}))}b._imagePromise=(0,_.as)(C).then(()=>b._imagePromise=null),yield b._imagePromise});return function(A){return S.apply(this,arguments)}}())}destroy(){this.bitmaps.forEach(I=>I.destroy()),this.bitmaps=[]}get updating(){return!this.destroyed&&null!==this._imagePromise}_export(I,b,S,A,C,L){var K=this;return(0,s.Z)(function*(){const R=yield K.fetchSource(I,Math.floor(b*C),Math.floor(S*C),{rotation:A,pixelRatio:C,signal:L});(0,_.k_)(L);const B=new h.eY(null,!0);return B.x=I.xmin,B.y=I.ymax,B.resolution=I.width/b,B.rotation=A,B.pixelRatio=C,B.opacity=0,K.container.addChild(B),yield B.setSourceAsync(R,L),(0,_.k_)(L),B})()}_singleExport(I,b,S,A,C,L,K){var R=this;return(0,s.Z)(function*(){!function i(I,b,S,A){const[C,L]=b,[K,R]=A,B=.5*S;I[0]=C-B*K,I[1]=L-B*R,I[2]=C+B*K,I[3]=L+B*R}(E,S,A,b);const B=(0,m.HH)(E,I.spatialReference);return[yield R._export(B,b[0],b[1],C,L,K)]})()}_tiledExport(I,b,S,A){const C=T.Z.create({size:b,spatialReference:I.spatialReference,scales:[I.scale]}),L=new t.Z(C),K=L.getTileCoverage(I);if(!K)return null;const R=[];return K.forEach((B,Z,F,$)=>{u.set(B,Z,F,0),L.getTileBounds(E,u);const J=(0,m.HH)(E,I.spatialReference);R.push(this._export(J,b,b,0,S,A).then(Y=>(0!==$&&(u.set(B,Z,F,$),L.getTileBounds(E,u),Y.x=E[0],Y.y=E[3]),Y)))}),Promise.all(R)}};(0,o._)([(0,n.Cb)()],D.prototype,"_imagePromise",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"bitmaps",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"container",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"fetchSource",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"hidpi",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"imageMaxWidth",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"imageMaxHeight",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"imageRotationSupported",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"imageNormalizationSupported",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"requestUpdate",void 0),(0,o._)([(0,n.Cb)()],D.prototype,"updating",null),D=(0,o._)([(0,y.j)("esri.views.2d.layers.support.ExportStrategy")],D);const j=D},88893:(N,U,e)=>{function p(_,n,a,v){if(a.level===v.level)return n;const y=_.tileInfo.size,m=_.getTileResolution(a.level),O=_.getTileResolution(v.level);let T=_.getLODInfoAt(v.level);const l=T.getXForColumn(v.col),f=T.getYForRow(v.row);T=_.getLODInfoAt(a.level);const d=T.getXForColumn(a.col),i=T.getYForRow(a.row),h=function s(_){return _ instanceof HTMLImageElement?_.naturalWidth:_.width}(n)/y[0],t=function o(_){return _ instanceof HTMLImageElement?_.naturalHeight:_.height}(n)/y[1],c=Math.round(h*((l-d)/m)),E=Math.round(t*(-(f-i)/m)),P=Math.round(h*y[0]*(O/m)),u=Math.round(t*y[1]*(O/m)),g=M(y);return g.getContext("2d").drawImage(n,c,E,P,u,0,0,y[0],y[1]),g}function M(_){const n=document.createElement("canvas");return[n.width,n.height]=_,n}e.d(U,{V:()=>M,i:()=>p})},74554:(N,U,e)=>{var s,o;e.d(U,{e:()=>s}),(o=s||(s={}))[o.Auto=0]="Auto",o[o.Euclidean=1]="Euclidean",o[o.Geodesic=2]="Geodesic"},68:(N,U,e)=>{e.d(U,{D:()=>o});var s=e(16730);class o{constructor(M=null){this.spatialReference=M}get spatialReference(){return this._spatialReference}set spatialReference(M){M!==this._spatialReference&&(this._spatialReference=M,this._updateNormalizationFactors())}normalizeDistance(M){return M*this._metersPerDistanceUnit}normalizeElevation(M){return M*this._metersPerElevationUnit}normalizeArea(M){return M*this._squareMetersPerAreaUnit}_updateNormalizationFactors(){this._metersPerDistanceUnit=(0,s.c9)(this._spatialReference,1),this._metersPerElevationUnit=(0,s.c9)(this._spatialReference,1),this._squareMetersPerAreaUnit=this._metersPerDistanceUnit*this._metersPerDistanceUnit}}},75814:(N,U,e)=>{e.d(U,{i:()=>E});var s=e(17626),o=e(83761),p=e(61996),M=e(77712),v=(e(8314),e(63290),e(4619),e(76898)),y=e(62600),m=e(54840),O=e(23147);class T{constructor(u){this._resourceFactory=u,this._resources=null,this._visible=!0,this._attached=!1,this._renderGroup=y.eZ.Outline}destroy(){this._destroyResources()}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(u){u!==this._visible&&(this._visible=u,this._syncGeometriesToRenderer())}get attached(){return this._attached}set attached(u){u!==this._attached&&(this._attached=u,this._createOrDestroyResources())}get renderGroup(){return this._renderGroup}set renderGroup(u){this._renderGroup=u;const g=this._resources?.layerView;g&&(g.renderGroup=u)}recreate(){this.attached&&this._createResources()}recreateGeometry(){this._resourceFactory.recreateGeometry?null!=this._resources&&(this._ensureRenderGeometriesRemoved(),this._resourceFactory.recreateGeometry(this._resources.external),this._syncGeometriesToRenderer()):this.recreate()}_createOrDestroyResources(){this._attached?null==this._resources&&this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const u=this._resourceFactory.createResources(),g=new l({view:this._resourceFactory.view,renderGroup:this._renderGroup}),D=this._resourceFactory.view.basemapTerrain?.overlayManager;this._resources={layerView:new l({view:this._resourceFactory.view,renderGroup:this._renderGroup}),external:u,geometriesAdded:!1},D&&(this._resources.drapeSourceRenderer=D.registerGeometryDrapeSource(g)),this._syncGeometriesToRenderer()}_destroyResources(){if(null==this._resources)return;this._ensureRenderGeometriesRemoved();const u=this._resourceFactory.view.basemapTerrain?.overlayManager;u&&u.unregisterDrapeSource(this._resources.layerView),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncGeometriesToRenderer(){this._visible?this._ensureRenderGeometriesAdded():this._ensureRenderGeometriesRemoved()}_ensureRenderGeometriesRemoved(){null!=this._resources?.drapeSourceRenderer&&this._resources.geometriesAdded&&(this._resources.drapeSourceRenderer.removeGeometries(this._resources.external.geometries,m.T.UPDATE),this._resources.geometriesAdded=!1)}_ensureRenderGeometriesAdded(){null!=this._resources?.drapeSourceRenderer&&(this._resources.geometriesAdded||(this._resources.drapeSourceRenderer.addGeometries(this._resources.external.geometries,m.T.UPDATE),this._resources.geometriesAdded=!0))}}let l=class extends((0,p.IG)(o.Z)){constructor(P){super(P),this.drapeSourceType=y.Lw.Features,this.updatePolicy=O.j.SYNC,this.renderGroup=y.eZ.Outline}};(0,s._)([(0,M.Cb)({constructOnly:!0})],l.prototype,"view",void 0),(0,s._)([(0,M.Cb)({readOnly:!0})],l.prototype,"drapeSourceType",void 0),(0,s._)([(0,M.Cb)()],l.prototype,"renderGroup",void 0),l=(0,s._)([(0,v.j)("DrapedVisualElementLayerView")],l);var f=e(68604),d=e(32917),i=e(24425),h=e(97272),t=e(34103);class c{constructor(u){this._resourceFactory=u,this._resources=null,this._visible=!0,this._attached=!1}destroy(){this._destroyResources()}get object(){return null!=this._resources?this._resources.object:null}get resources(){return null!=this._resources?this._resources.external:null}get visible(){return this._visible}set visible(u){u!==this._visible&&(this._visible=u,this._syncVisible())}get attached(){return this._attached}set attached(u){u!==this._attached&&(this._attached=u,this._createOrDestroyResources())}recreate(){this.attached&&this._createResources()}recreateGeometry(){if(!this._resourceFactory.recreateGeometry)return void this.recreate();const u=this._resourceFactory.view._stage;if(null==this._resources||!u)return;const g=this._resources.object;this._resources.external.forEach(D=>{D.type!==i.U.Mesh&&D.type!==i.U.Line&&D.type!==i.U.Point||u.remove(D)}),g.removeAllGeometries(),this._resourceFactory.recreateGeometry(this._resources.external,g,this._resources.layer),this._resources.external.forEach(D=>{D.type!==i.U.Mesh&&D.type!==i.U.Line&&D.type!==i.U.Point||u.add(D)})}_createOrDestroyResources(){this._attached?this._resources||this._createResources():this._destroyResources()}_createResources(){this._destroyResources();const u=this._resourceFactory,g=u.view,D=g._stage;if(!D)return;const j=new t.F(D,{pickable:!1,updatePolicy:O.j.SYNC}),I=new h.T({castShadow:!1}),b=u.createResources(I,j);b.forEach(C=>{D.add(C),C.type===i.U.Texture&&C.load(D.renderView.renderingContext)}),D.add(I),j.add(I);const S=u.cameraChanged,A=S?(0,d.YP)(()=>g.state.camera,C=>S(C),d.nn):null;this._resources={layer:j,object:I,external:b,cameraHandle:A},this._syncVisible()}_destroyResources(){if(null==this._resources)return;const u=this._resourceFactory.view._stage;u&&(u.remove(this._resources.object),this._resources.layer.destroy(),this._resources.external.forEach(g=>{u.remove(g),g.type===i.U.Texture&&g.unload()})),this._resources.object.dispose(),this._resources.cameraHandle?.remove(),this._resourceFactory.destroyResources(this._resources.external),this._resources=null}_syncVisible(){null!=this._resources&&(this._resources.object.visible=this._visible)}}class E extends f.l{constructor(u){super(u),this._isDraped=!1,this.object3dResources=new c(this.createObject3DResourceFactory(u.view)),this.drapedResources=new T(this.createDrapedResourceFactory(u.view)),this.isDraped=u.isDraped??!1}get isDraped(){return this._isDraped}set isDraped(u){u!==this._isDraped&&(this._isDraped=u,this.object3dResources.attached=this.attached&&!u,this.drapedResources.attached=this.attached&&u)}get renderGroup(){return this.drapedResources.renderGroup}set renderGroup(u){this.drapedResources.renderGroup=u}createResources(){this.object3dResources.attached=!this._isDraped,this.drapedResources.attached=this._isDraped}destroyResources(){this.object3dResources.attached=!1,this.drapedResources.attached=!1}recreate(){this.object3dResources.recreate(),this.drapedResources.recreate()}recreateGeometry(){this.object3dResources.recreateGeometry(),this.drapedResources.recreateGeometry()}destroy(){this.object3dResources.destroy(),this.drapedResources.destroy(),super.destroy()}updateVisibility(u){this.object3dResources.visible=u,this.drapedResources.visible=u}}},77603:(N,U,e)=>{e.d(U,{R:()=>E});var s=e(32917),o=e(52113),p=e(74741),M=e(79800),_=e(29302),n=e(63657),a=e(1503),v=e(26242),y=e(41967),m=e(75814),O=e(65900),T=e(94255),l=e(41120),f=e(57521),d=e(40723),i=e(64232),h=e(16396),t=e(92972),c=e(92222);class E extends m.i{constructor(D){super(D),this._maxSize=0,this._position=(0,_.Ue)(),this._up=(0,_.Ue)(),this._right=(0,_.Ue)(),this._renderOccluded=d.yD.OccludeAndTransparent,this._color=(0,a.al)(1,0,0,1),this._outlineColor=(0,a.al)(0,0,0,1),this._outlineSize=0,this._size=32,this._outlineRenderOccluded=d.yD.Opaque,this.applyProperties(D)}createObject3DResourceFactory(D){return{view:D,createResources:j=>this._createObject3DResources(j),destroyResources:()=>{},cameraChanged:()=>this._updateTransformObject3D()}}createDrapedResourceFactory(D){return{view:D,createResources:()=>this._createDrapedResources(),destroyResources:j=>this._destroyDrapedResources(j)}}get renderOccluded(){return this._renderOccluded}set renderOccluded(D){D!==this._renderOccluded&&(this._renderOccluded=D,this._updateQuadMaterial())}get color(){return this._color}set color(D){(0,n.c)(this._color,D),this._updateQuadMaterial()}get outlineColor(){return this._outlineColor}set outlineColor(D){(0,n.c)(this._outlineColor,D),this._updateOutlineMaterial()}get outlineSize(){return this._outlineSize}set outlineSize(D){const j=0===this._outlineSize!=(0===D);this._outlineSize=D,j?this.recreateGeometry():this._updateOutlineMaterial()}get size(){return this._size}set size(D){D!==this._size&&(this._size=D,this._updateTransform())}get outlineRenderOccluded(){return this._outlineRenderOccluded}set outlineRenderOccluded(D){this._outlineRenderOccluded=D,this._updateOutlineMaterial()}set geometry({previous:D,center:j,next:I}){this._maxSize=Math.min((0,M.q)(j,D),(0,M.q)(j,I))/3,(0,M.n)(this._up,(0,M.f)(this._up,D,j)),(0,M.n)(this._right,(0,M.f)(this._right,I,j)),(0,M.c)(this._position,j),this.recreateGeometry()}_createObject3DResources(D){const j=new t.E(this._quadMaterialParameters),I=0===this._outlineSize?void 0:new c.U(this._outlineMaterialParameters);return this._createObject3DGeometries(D,j,I),{quadMaterial:j,outlineMaterial:I,forEach:b=>{b(j),I&&b(I)}}}_createObject3DGeometries(D,j,I){if((0,M.j)(this._up,_.AG)&&(0,M.j)(this._right,_.AG))return;const b=this._createGeometries(j,I);for(const S of b)D.addGeometry(S);this._updateTransformObject3D(D)}_createDrapedResources(){const D=new t.E(this._quadMaterialParameters),j=0===this._outlineSize?void 0:new c.U(this._outlineMaterialParameters),I=this._createGeometries(D,j).map(b=>new i.z(b));return this._setTransformDraped(I),{quadMaterial:D,outlineMaterial:j,geometries:I,pixelRatioHandle:(0,s.YP)(()=>this.view.state.contentPixelRatio,()=>{this.drapedResources.recreateGeometry()})}}_destroyDrapedResources(D){D.pixelRatioHandle.remove(),D.geometries=[]}_createGeometries(D,j){const{up:I,right:b,corner:S}=this._getVertices(),A=this._quadGeometryData(I,b,S,D);return j?[A,(0,f.rh)(j,[I,S,b])]:[A]}_getVertices(){let D=this._up,j=this._right;const I=(0,M.g)(v.WM.get(),D,j);return this.isDraped&&(D=(0,M.c)(v.WM.get(),D),j=(0,M.c)(v.WM.get(),j),D[2]=0,j[2]=0,I[2]=0),{up:D,right:j,corner:I}}_updateTransform(){this.isDraped?this.drapedResources.recreateGeometry():this._updateTransformObject3D()}_updateTransformObject3D(D=this.object3dResources.object){if(!D)return;const I=this._size*this.view.state.camera.computeScreenPixelSizeAt(this._position),b=Math.min(this._maxSize,I);(0,o.vc)(P,this._position),(0,o.bA)(P,P,[b,b,b]),D.transformation=P}_setTransformDraped(D){if(0===D.length)return;const{view:{basemapTerrain:{overlayManager:j},state:{contentPixelRatio:I}}}=this,{_position:b,_size:S}=this,A=(0,M.c)(v.WM.get(),b);A[2]=O.gi;const C=u;C.spatialReference=j.renderer.spatialReference,C.x=A[0],C.y=A[1];const L=S*(this.view.overlayPixelSizeInMapUnits(C)*I),K=Math.min(this._maxSize,L);(0,o.vc)(P,A),(0,o.bA)(P,P,[K,K,1]);for(const R of D)R.transformation=P}_quadGeometryData(D,j,I,b){return new l.Z(b,[[h.T.POSITION,new T.a([0,0,0,...j,...D,...I],[0,1,2,1,2,3],3,!0)]])}get _quadMaterialParameters(){return{color:this._color,forceTransparentMode:!0,writeDepth:!1,polygonOffset:!0,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateQuadMaterial(){this.object3dResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters),this.drapedResources.resources?.quadMaterial.setParameters(this._quadMaterialParameters)}get _outlineMaterialParameters(){return{color:this._outlineColor,width:this._outlineSize,renderOccluded:this._outlineRenderOccluded,isDecoration:this.isDecoration}}_updateOutlineMaterial(){this.object3dResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters),this.drapedResources.resources?.outlineMaterial?.setParameters(this._outlineMaterialParameters)}}const P=(0,p.Ue)(),u=(0,y.T)(0,0,void 0,null)},50916:(N,U,e)=>{e.d(U,{r:()=>T});var s=e(17626),o=e(26584),p=e(32917),M=e(77712),v=(e(8314),e(63290),e(4619),e(76898)),y=e(46196),m=e(41632),O=e(61779);const T=l=>{let f=class extends l{get imageFormatIsOpaque(){return!1}get fullExtent(){return this.layer.fullExtent}get isOpaque(){return this.fullOpacity>=1&&this.imageFormatIsOpaque}get dataScaleRange(){const d=this.tileInfo.lods;let i=d[0].scale,h=d[d.length-1].scale;if("tilemapCache"in this.layer&&this.layer.tilemapCache){const{effectiveMinLOD:t,effectiveMaxLOD:c}=this.layer.tilemapCache;i=this.tileInfo.lodAt(t).scale,h=this.tileInfo.lodAt(c).scale}return{minScale:i,maxScale:h}}get dataLevelRange(){const{minScale:d,maxScale:i}=this.dataScaleRange;return this.levelRangeFromScaleRange(d,i)}get displayLevelRange(){const h=this.levelRangeFromScaleRange(this.layer.minScale||this.dataScaleRange.minScale,this.layer.maxScale||this.dataScaleRange.maxScale);return this.layer.maxScale&&h.maxLevel++,h}get performanceInfo(){return new y.W(this.view.basemapTerrain.getUsedMemoryForLayerView(this))}getTileUrl(d,i,h){return this.layer.getTileUrl(d,i,h)}_addTilingSchemeMatchPromise(){if(null==this.fullExtent)return this.addResolvingPromise(Promise.reject(new o.Z("tilingscheme:extent-not-defined","This layer doesn't define a fullExtent.")));const d=this._getTileInfoSupportError(this.tileInfo,this.fullExtent);if(d)return this.addResolvingPromise(Promise.reject(d));const i=(0,p.N1)(()=>this.view?.basemapTerrain?.tilingSchemeLocked).then(()=>{const t=this._getTileInfoCompatibilityError(this.tileInfo,this.view.basemapTerrain.tilingScheme);if(t)throw t});this.addResolvingPromise(i)}_getTileInfoSupportError(d,i){const h=(0,O.er)(d,i,this.view.spatialReference,this.view.state.viewingMode);if(h){const t={layer:this.layer,error:h};let c;switch(h.name){case"tilingscheme:spatial-reference-mismatch":case"tilingscheme:global-unsupported-spatial-reference":case"tilingscheme:local-unsupported-spatial-reference":c=new o.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",t);break;default:c=new o.Z("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",t)}return c}return null}_getTileInfoCompatibilityError(d,i){return null!=d&&i.compatibleWith(d)?null:new o.Z("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")}levelRangeFromScaleRange(d,i){const h={minLevel:0,maxLevel:1/0},t=this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.tilingScheme;if(!t)return h;const c=t.levels[0],E=P=>{const u=Math.log(c.scale/P)/Math.LN2;return.5-Math.abs(.5-u%1)<1e-9?Math.round(u):Math.ceil(u)};return null!=d&&d>0&&(h.minLevel=Math.max(0,E(d))),null!=i&&i>0&&(h.maxLevel=Math.max(0,E(i))),h}isUpdating(){return!!(this.view&&this.view.basemapTerrain&&this.view.basemapTerrain.updating)}};return(0,s._)([(0,M.Cb)({readOnly:!0})],f.prototype,"imageFormatIsOpaque",null),(0,s._)([(0,M.Cb)({readOnly:!0})],f.prototype,"updating",void 0),(0,s._)([(0,M.Cb)(m.q)],f.prototype,"updatingProgress",void 0),(0,s._)([(0,M.Cb)(m.V)],f.prototype,"updatingProgressValue",void 0),(0,s._)([(0,M.Cb)()],f.prototype,"fullExtent",null),(0,s._)([(0,M.Cb)({readOnly:!0})],f.prototype,"isOpaque",null),(0,s._)([(0,M.Cb)()],f.prototype,"dataScaleRange",null),(0,s._)([(0,M.Cb)({readOnly:!0})],f.prototype,"dataLevelRange",null),(0,s._)([(0,M.Cb)({readOnly:!0})],f.prototype,"displayLevelRange",null),(0,s._)([(0,M.Cb)()],f.prototype,"layer",void 0),f=(0,s._)([(0,v.j)("esri.views.3d.layers.TiledLayerView3D")],f),f}},32400:(N,U,e)=>{e.d(U,{D:()=>L});var s=e(15861),o=e(17626),p=e(88879),M=e(83761),_=e(46160),n=e(54024),a=e(62208),v=e(10699),y=e(32917),m=e(77712),f=(e(8314),e(63290),e(4619),e(76898)),d=e(84682),i=e(11426),h=e(44917),t=e(84786),c=e(39256),E=e(96854),P=e(62600),u=e(80960),g=e(13864),D=e(94991),j=e(83518),I=e(14752),b=e(67873),S=e(67225),A=e(42743),C=e(23147);let L=class extends M.Z{constructor(R){super(R),this.type="graphics-3d",this.graphicsCore=null,this.drapeSourceType=P.Lw.Features,this.scaleVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this._suspendResumeExtent=null,this._updatingHandles=new i.R}initialize(){const{layer:R}=this,B="effectiveScaleRange"in R?R:null,F=new g.w({owner:this,layer:this.owner.layer,preferredUpdatePolicy:C.j.SYNC,graphicSymbolSupported:!0,componentFactories:{elevationAlignment:($,J)=>new D._({graphicsCoreOwner:this,graphicsCore:$,queryGraphicUIDsInExtent:J,elevationProvider:this.view.elevationProvider}),scaleVisibility:this.scaleVisibilityEnabled&&null!=B?($,J)=>new b.c({graphicsCoreOwner:this,layer:B,queryGraphicUIDsInExtent:J,graphicsCore:$,basemapTerrain:this.owner.view.basemapTerrain}):null,objectStates:$=>new I.d($)}});if(this._set("graphicsCore",F),this.frustumVisibilityEnabled&&this._set("frustumVisibility",new j.L({graphicsCoreOwner:this})),"fullOpacity"in this.owner){const $=this.owner;this._updatingHandles.add(()=>$.fullOpacity,()=>this.graphicsCore.opacityChange())}if("elevationInfo"in R){const $=R;this._updatingHandles.add(()=>$.elevationInfo,(J,Y)=>{(0,d.Hg)(J,Y)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})}this._set("initializePromise",this._initializeAsync()),this._updatingHandles.addPromise(this.initializePromise)}_initializeAsync(){var R=this;return(0,s.Z)(function*(){try{yield R.graphicsCore.initializePromise}catch(B){if((0,v.D_)(B))return;throw B}R.destroyed||(R.addHandles((0,y.YP)(()=>R.view.clippingArea,()=>R._updateClippingExtent(),y.Z_)),R._updateClippingExtent(),R._setupSuspendResumeExtent(),R.graphicsCore.startCreateGraphics())})()}destroy(){this._updatingHandles.destroy(),this._set("frustumVisibility",(0,a.SC)(this.frustumVisibility)),this._set("graphicsCore",(0,a.SC)(this.graphicsCore))}get layer(){return this.owner.layer}get view(){return this.owner.view}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get objectStates(){return this.graphicsCore?.objectStates}get scaleVisibilitySuspended(){return!(null==this.scaleVisibility||!this.scaleVisibility.suspended)}get frustumVisibilitySuspended(){return null!=this.frustumVisibility&&this.frustumVisibility.suspended}get suspended(){return this.owner.suspended??!1}get updating(){return!!(this.graphicsCore?.updating||null!=this.scaleVisibility&&this.scaleVisibility.updating||null!=this.frustumVisibility&&this.frustumVisibility.updating||this._updatingHandles.updating)}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner.fullOpacity??1}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}notifyGraphicGeometryChanged(R){this.graphicsCore.notifyGraphicGeometryChanged(R)}notifyGraphicVisibilityChanged(R){this.graphicsCore.notifyGraphicVisibilityChanged(R)}getRenderingInfo(R,B,Z){const F=(0,c.Kb)(R,{renderer:B,arcade:Z});if(F?.color){const $=F.color;$[0]=$[0]/255,$[1]=$[1]/255,$[2]=$[2]/255}return F}getRenderingInfoAsync(R,B,Z,F){return(0,c.xn)(R,{renderer:B,arcade:Z,...F})}getHit(R){if(this.owner.loadedGraphics){const B=this.owner.loadedGraphics.find(Z=>Z.uid===R);if(B){const F=(0,t.mW)(B,this.layer instanceof h.Z?this.layer:null);return{type:"graphic",graphic:F,layer:F.layer}}}return null}whenGraphicBounds(R,B){return this.graphicsCore?this.graphicsCore.whenGraphicBounds(R,B):Promise.reject()}computeAttachmentOrigin(R,B){return this.graphicsCore?this.graphicsCore.computeAttachmentOrigin(R,B):null}getSymbolLayerSize(R,B){return this.graphicsCore?this.graphicsCore.getSymbolLayerSize(R,B):null}maskOccludee(R){const{set:B,handle:Z}=this.objectStates.acquireSet(A.V_.MaskOccludee,null);return this.objectStates.setUid(B,R.uid),Z}highlight(R){if(R instanceof E.Z)return K;if("number"==typeof R)return this.highlight([R]);if(R instanceof p.Z)return this.highlight([R]);if(R instanceof _.Z&&(R=R.toArray()),Array.isArray(R)&&R.length>0){if(R[0]instanceof p.Z){const B=R.map($=>$.uid),{set:Z,handle:F}=this.objectStates.acquireSet(A.V_.Highlight,null);return this.objectStates.setUids(Z,B),F}if("number"==typeof R[0]){const B=R,{set:Z,handle:F}=this.objectStates.acquireSet(A.V_.Highlight,null);return this.objectStates.setObjectIds(Z,B),F}}return K}_setupSuspendResumeExtent(){const{scaleVisibility:R,frustumVisibility:B}=this;if(null==R&&null==B)return;const Z=({computedExtent:F,extentPadding:$})=>{this._suspendResumeExtent=(0,S.Go)(F,this._suspendResumeExtent,u.PY,$),R?.setExtent(this._suspendResumeExtent),B?.setExtent(this._suspendResumeExtent)};this.addHandles((0,y.YP)(()=>({computedExtent:this.graphicsCore?.computedExtent,extentPadding:this.graphicsCore?.extentPadding}),F=>Z(F),y.tX))}_updateClippingExtent(){this.graphicsCore.setClippingExtent(this.view.clippingArea,this.view.spatialReference)&&this.graphicsCore.recreateAllGraphics()}};(0,o._)([(0,m.Cb)()],L.prototype,"type",void 0),(0,o._)([(0,m.Cb)({constructOnly:!0})],L.prototype,"owner",void 0),(0,o._)([(0,m.Cb)()],L.prototype,"layer",null),(0,o._)([(0,m.Cb)()],L.prototype,"view",null),(0,o._)([(0,m.Cb)({constructOnly:!0})],L.prototype,"graphicsCore",void 0),(0,o._)([(0,m.Cb)()],L.prototype,"scaleVisibility",null),(0,o._)([(0,m.Cb)({constructOnly:!0})],L.prototype,"frustumVisibility",void 0),(0,o._)([(0,m.Cb)()],L.prototype,"elevationAlignment",null),(0,o._)([(0,m.Cb)()],L.prototype,"objectStates",null),(0,o._)([(0,m.Cb)()],L.prototype,"scaleVisibilitySuspended",null),(0,o._)([(0,m.Cb)({readOnly:!0})],L.prototype,"frustumVisibilitySuspended",null),(0,o._)([(0,m.Cb)()],L.prototype,"suspended",null),(0,o._)([(0,m.Cb)({readOnly:!0})],L.prototype,"updating",null),(0,o._)([(0,m.Cb)()],L.prototype,"loadedGraphics",null),(0,o._)([(0,m.Cb)()],L.prototype,"fullOpacity",null),(0,o._)([(0,m.Cb)()],L.prototype,"slicePlaneEnabled",null),(0,o._)([(0,m.Cb)()],L.prototype,"drapeSourceType",void 0),(0,o._)([(0,m.Cb)()],L.prototype,"updatePolicy",null),(0,o._)([(0,m.Cb)({constructOnly:!0})],L.prototype,"scaleVisibilityEnabled",void 0),(0,o._)([(0,m.Cb)({constructOnly:!0})],L.prototype,"frustumVisibilityEnabled",void 0),(0,o._)([(0,m.Cb)()],L.prototype,"initializePromise",void 0),L=(0,o._)([(0,f.j)("esri.views.3d.layers.graphics.GraphicsProcessor")],L);const K=(0,n.kB)()},70211:(N,U,e)=>{e.d(U,{x:()=>M});var s=e(55475),o=e(97979),p=e(19038);class M extends o.a{constructor(n){super({...n,constraint:new s.Hk(n.targetPoint)})}get hints(){return[new p.n(this.targetPoint,this.isDraped,this.domain)]}}},9218:(N,U,e)=>{e.d(U,{X:()=>n,g:()=>a});var s=e(21733),o=e(61430),p=e(75897),M=e(70211);function _({x:v,y,z:m}){return(0,s.al)(v,y,m??0)}function n(v,y){switch(v.type){case"edge":return v.draped?new o.k({edgeStart:_(v.start),edgeEnd:_(v.end),targetPoint:_(v.target),objectId:v.objectId,getGroundElevation:y}):new p.L({edgeStart:_(v.start),edgeEnd:_(v.end),targetPoint:_(v.target),objectId:v.objectId,isDraped:!1});case"vertex":return new M.x({targetPoint:_(v.target),objectId:v.objectId,isDraped:!1})}}function a(v,y){return null!=v&&"3d"===v.type?(m,O)=>v.elevationProvider.getElevation(m,O,0,y,"ground"):()=>null}},17936:(N,U,e)=>{e.d(U,{p:()=>v});var s=e(15861),p=(e(8314),e(93961)),M=e(88159),_=e(10699),n=e(16730),a=e(29505);function v(d=!1,i){if(d){const{elevationInfo:h,alignPointsInFeatures:t}=i;return new O(h,t)}return new y}class y{alignCandidates(i,h,t){return(0,s.Z)(function*(){return i})()}notifyElevationSourceChange(){}}class O{constructor(i,h){this._elevationInfo=i,this._alignPointsInFeatures=h,this._alignmentsCache=new p.z(1024),this._cacheVersion=0}alignCandidates(i,h,t){var c=this;return(0,s.Z)(function*(){const E=c._elevationInfo;return null==E||"absolute-height"!==E.mode||E.featureExpressionInfo?c._alignComputedElevationCandidates(i,h,t):(c._alignAbsoluteElevationCandidates(i,h,E),i)})()}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignAbsoluteElevationCandidates(i,h,t){const{offset:c,unit:E}=t;if(null==c)return;const P=(0,n._R)(h),u=c*((0,a.Z7)(E??"meters")/P);for(const g of i)switch(g.type){case"edge":g.start.z+=u,g.end.z+=u;continue;case"vertex":g.target.z+=u;continue}}_alignComputedElevationCandidates(i,h,t){var c=this;return(0,s.Z)(function*(){const E=new Map;for(const S of i)(0,M.s1)(E,S.objectId,f).push(S);const[P,u,g]=c._prepareQuery(E,h),D=yield c._alignPointsInFeatures(P,t);if((0,_.k_)(t),g!==c._cacheVersion)return c._alignComputedElevationCandidates(i,h,t);c._applyCacheAndResponse(P,D,u);const{drapedObjectIds:j,failedObjectIds:I}=D,b=[];for(const S of i){const{objectId:A}=S;j.has(A)&&"edge"===S.type&&(S.draped=!0),I.has(A)||b.push(S)}return b})()}_prepareQuery(i,h){const t=[],c=[];for(const[E,P]of i){const u=[];for(const g of P)this._addToQueriesOrCachedResult(E,g.target,u,c),"edge"===g.type&&(this._addToQueriesOrCachedResult(E,g.start,u,c),this._addToQueriesOrCachedResult(E,g.end,u,c));0!==u.length&&t.push({objectId:E,points:u})}return[{spatialReference:h.toJSON(),pointsInFeatures:t},c,this._cacheVersion]}_addToQueriesOrCachedResult(i,h,t,c){const E=l(i,h),P=this._alignmentsCache.get(E);null==P?t.push(h):c.push(new T(h,P))}_applyCacheAndResponse(i,{elevations:h,drapedObjectIds:t,failedObjectIds:c},E){for(const g of E)g.apply();let P=0;const u=this._alignmentsCache;for(const{objectId:g,points:D}of i.pointsInFeatures){if(c.has(g)){P+=D.length;continue}const j=!t.has(g);for(const I of D){const b=l(g,I),S=h[P++];I.z=S,j&&u.put(b,S,1)}}}}class T{constructor(i,h){this.point=i,this.z=h}apply(){this.point.z=this.z}}function l(d,{x:i,y:h,z:t,spatialReference:c}){return`${d}-${i}-${h}-${t??0}}-wkid:${c?.wkid}`}function f(){return[]}},1520:(N,U,e)=>{e.d(U,{c:()=>_}),e(8314);class o{filter(T,l){return l}notifyElevationSourceChange(){}}class p{filter(T,l){const{point:f,distance:d}=T,{z:i}=f;if(null==i||0===l.length)return l;const h=function y(O){return"number"==typeof O?{x:O,y:O,z:O}:O}(d),t=this._updateCandidatesTo3D(l,f,h).filter(M);return t.sort(m),t}_updateCandidatesTo3D(T,l,f){for(const d of T)switch(d.type){case"edge":n(d,l,f);continue;case"vertex":v(d,l,f);continue}return T}}function M(O){return O.distance<=1}function _(O=!1){return O?new p:new o}function n(O,T,{x:l,y:f,z:d}){const{start:i,end:h,target:t}=O;O.draped||function a(O,T,l,f){const d=f.x-l.x,i=f.y-l.y,h=f.z-l.z,E=Math.min(1,Math.max(0,((T.x-l.x)*d+(T.y-l.y)*i+h*(T.z-l.z))/(d*d+i*i+h*h))),u=l.y+i*E,g=l.z+h*E;O.x=l.x+d*E,O.y=u,O.z=g}(t,T,i,h);const c=(T.x-t.x)/l,E=(T.y-t.y)/f,P=(T.z-t.z)/d;O.distance=Math.sqrt(c*c+E*E+P*P)}function v(O,T,{x:l,y:f,z:d}){const{target:i}=O,h=(T.x-i.x)/l,t=(T.y-i.y)/f,c=(T.z-i.z)/d,E=Math.sqrt(h*h+t*t+c*c);O.distance=E}function m(O,T){return O.distance-T.distance}},83010:(N,U,e)=>{e.d(U,{k:()=>a});var s=e(15861),p=(e(8314),e(58817)),M=e(93961),_=e(10699),n=e(77275);function a(T=!1,l){return T?new m(l):new v}class v{fetch(){return(0,s.Z)(function*(){return[]})()}notifySymbologyChange(){}}class m{constructor(l){this._getSymbologyCandidates=l,this._candidatesCache=new M.z(1024),this._cacheVersion=0}fetch(l,f){var d=this;return(0,s.Z)(function*(){if(0===l.length)return[];const i=[],h=[],t=d._candidatesCache;for(const D of l){const j=O(D),I=t.get(j);if(I)for(const b of I)h.push((0,p.d9)(b));else i.push(D),t.put(j,[],1)}if(0===i.length)return h;const c=d._cacheVersion,{candidates:E,sourceCandidateIndices:P}=yield d._getSymbologyCandidates(i,f);if((0,_.k_)(f),c!==d._cacheVersion)return d.fetch(l,f);const u=[],{length:g}=E;for(let D=0;D<g;++D){const j=E[D],I=O(i[P[D]]),b=t.get(I);b.push(j),t.put(I,b,b.length),u.push((0,p.d9)(j))}return h.concat(u)})()}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function O(T){switch(T.type){case"vertex":{const{objectId:l,target:f}=T;return(0,n.hP)(`${l}-vertex-${f.x}-${f.y}-${f.z??0}`).toString()}case"edge":{const{objectId:l,start:f,end:d}=T;return(0,n.hP)(`${l}-edge-${f.x}-${f.y}-${f.z??0}-to-${d.x}-${d.y}-${d.z??0}`).toString()}default:return""}}},961:(N,U,e)=>{e.r(U),e.d(U,{default:()=>T});var s=e(17626),o=e(46160),p=e(89726),M=e(32917),_=e(77712),y=(e(8314),e(63290),e(4619),e(76898)),m=e(45611);let O=class extends m.Z{constructor(l){super(l),this.type="group",this.layerViews=new o.Z}destroy(){this.layerViews.length=0}_allLayerViewVisibility(l){this.layerViews.forEach(f=>{f.visible=l})}initialize(){this.addHandles([this.layerViews.on("change",l=>this._layerViewsChangeHandler(l)),(0,M.YP)(()=>this.layer?.visibilityMode,()=>{this.layer&&this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(null))},M.Z_),(0,M.YP)(()=>this.visible,l=>{this._applyVisibility(()=>this._allLayerViewVisibility(l),()=>{})},M.Z_)],"grouplayerview"),this._layerViewsChangeHandler({target:null,added:this.layerViews.toArray(),removed:[],moved:[]})}set layerViews(l){this._set("layerViews",(0,p.Z)(l,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce((l,f)=>l+f.updatingProgress,0)/this.layerViews.length}isUpdating(){return this.layerViews.some(l=>l.updating)}_hasLayerViewVisibleOverrides(){return this.layerViews.some(l=>l._isOverridden("visible"))}_findLayerViewForLayer(l){return l&&this.layerViews.find(f=>f.layer===l)}_firstVisibleOnLayerOrder(){const l=this.layer.layers.find(f=>!!this._findLayerViewForLayer(f)?.visible);return l&&this._findLayerViewForLayer(l)}_applyExclusiveVisibility(l){null==l&&null==(l=this._firstVisibleOnLayerOrder())&&this.layerViews.length>0&&(l=this._findLayerViewForLayer(this.layer.layers.at(0))),this.layerViews.forEach(f=>{f.visible=f===l})}_layerViewsChangeHandler(l){this.removeHandles("grouplayerview:visible"),this.addHandles(this.layerViews.map(d=>(0,M.YP)(()=>d.visible,i=>this._applyVisibility(()=>{i!==this.visible&&(d.visible=this.visible)},()=>this._applyExclusiveVisibility(i?d:null)),M.Z_)).toArray(),"grouplayerview:visible");const f=l.added[l.added.length-1];this._applyVisibility(()=>this._allLayerViewVisibility(this.visible),()=>this._applyExclusiveVisibility(f?.visible?f:null))}_applyVisibility(l,f){this._hasLayerViewVisibleOverrides()&&("inherited"===this.layer?.visibilityMode?l():"exclusive"===this.layer?.visibilityMode&&f())}};(0,s._)([(0,_.Cb)({cast:p.R})],O.prototype,"layerViews",null),(0,s._)([(0,_.Cb)({readOnly:!0})],O.prototype,"updatingProgress",null),(0,s._)([(0,_.Cb)()],O.prototype,"view",void 0),O=(0,s._)([(0,y.j)("esri.views.layers.GroupLayerView")],O);const T=O},96942:(N,U,e)=>{e.d(U,{Z:()=>f});var s=e(15861),o=e(17626),p=e(26584),M=e(10699),_=e(77712),y=(e(8314),e(63290),e(4619),e(76898)),m=e(72642),O=e(13812),T=e(96854),l=e(10023);const f=d=>{let i=class extends d{constructor(){super(...arguments),this.view=null}fetchPopupFeaturesAtLocation(h,t){var c=this;return(0,s.Z)(function*(){const{layer:E}=c;if(!h)throw new p.Z("imagerylayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:E});const{popupEnabled:P}=E,u=(0,l.V5)(E,t);if(!P||null==u)throw new p.Z("imagerylayerview:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:P,popupTemplate:u});const g=yield u.getRequiredFields();(0,M.k_)(t);const D=new T.Z;D.timeExtent=c.timeExtent,D.geometry=h,D.outFields=g,D.outSpatialReference=h.spatialReference;const{resolution:j,spatialReference:I}=c.view,b="2d"===c.view.type?new m.Z(j,j,I):new m.Z(.5*j,.5*j,I),{returnTopmostRaster:S,showNoDataRecords:A}=u.layerOptions||{returnTopmostRaster:!0,showNoDataRecords:!1};return E.queryVisibleRasters(D,{returnDomainValues:!0,returnTopmostRaster:S,pixelSize:b,showNoDataRecords:A,signal:t?.signal}).then(L=>L)})()}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return(0,o._)([(0,_.Cb)()],i.prototype,"layer",void 0),(0,o._)([(0,_.Cb)()],i.prototype,"suspended",void 0),(0,o._)([(0,_.Cb)(O.qG)],i.prototype,"timeExtent",void 0),(0,o._)([(0,_.Cb)()],i.prototype,"view",void 0),i=(0,o._)([(0,y.j)("esri.views.layers.ImageryLayerView")],i),i}},12374:(N,U,e)=>{e.d(U,{Z:()=>l});var s=e(15861),o=e(17626),p=e(88879),M=e(26584),_=e(77712),y=(e(8314),e(63290),e(4619),e(76898)),m=e(13812),O=e(28594),T=e(10023);const l=f=>{let d=class extends f{constructor(){super(...arguments),this._rasterFieldPrefix="Raster.",this.layer=null,this.view=null,this.tileInfo=null}get fullExtent(){return this._getfullExtent()}_getfullExtent(){return(0,O.lK)(this.layer.serviceRasterInfo,this.view.spatialReference)}get hasTilingEffects(){return!!(this.layer.renderer&&"dynamicRangeAdjustment"in this.layer.renderer&&this.layer.renderer.dynamicRangeAdjustment)}get datumTransformation(){return(0,O._D)(this.layer.fullExtent,this.view.spatialReference,!0)}supportsSpatialReference(i){return!!(0,O.lK)(this.layer.serviceRasterInfo,i)}fetchPopupFeaturesAtLocation(i,h){var t=this;return(0,s.Z)(function*(){const{layer:c}=t;if(!i)throw new M.Z("imageryTileLayerView:fetchPopupFeatures","Nothing to fetch without area",{layer:c});const{popupEnabled:E}=c,P=(0,T.V5)(c,h);if(!E||null==P)throw new M.Z("imageryTileLayerView:fetchPopupFeatures","Missing required popupTemplate or popupEnabled",{popupEnabled:E,popupTemplate:P});const u=[],{value:g,magdirValue:D,processedValue:j}=yield c.identify(i,{timeExtent:t.timeExtent,signal:h?.signal});let I="";if(g&&g.length){I="imagery-tile"===c.type&&c.hasStandardTime()&&null!=g[0]?g.map(K=>c.getStandardTimeValue(K)).join(", "):g.join(", ");const b={ObjectId:0},S="Raster.ServicePixelValue";b[S]="imagery-tile"===c.type&&"Function"===c.raster.datasetFormat?j?.join(", "):I,b[S+".Raw"]=I;const A=c.serviceRasterInfo.attributeTable;if(null!=A){const{fields:K,features:R}=A,B=K.find(({name:F})=>"value"===F.toLowerCase()),Z=B?R.find(F=>String(F.attributes[B.name])===I):null;if(Z)for(const F in Z.attributes)Z.attributes.hasOwnProperty(F)&&(b[t._rasterFieldPrefix+F]=Z.attributes[F])}const C=c.serviceRasterInfo.dataType;"vector-magdir"!==C&&"vector-uv"!==C||(b["Raster.Magnitude"]=D?.[0],b["Raster.Direction"]=D?.[1]);const L=new p.Z(t.fullExtent.clone(),null,b);L.layer=c,L.sourceLayer=L.layer,u.push(L)}return u})()}};return(0,o._)([(0,_.Cb)()],d.prototype,"layer",void 0),(0,o._)([(0,_.Cb)(m.qG)],d.prototype,"timeExtent",void 0),(0,o._)([(0,_.Cb)()],d.prototype,"view",void 0),(0,o._)([(0,_.Cb)()],d.prototype,"fullExtent",null),(0,o._)([(0,_.Cb)()],d.prototype,"tileInfo",void 0),(0,o._)([(0,_.Cb)({readOnly:!0})],d.prototype,"hasTilingEffects",null),(0,o._)([(0,_.Cb)()],d.prototype,"datumTransformation",null),d=(0,o._)([(0,y.j)("esri.views.layers.ImageryTileLayerView")],d),d}},17845:(N,U,e)=>{e.d(U,{Z:()=>y});var s=e(17626),o=e(77712),n=(e(8314),e(63290),e(4619),e(76898)),a=e(13812),v=e(14772);const y=m=>{let O=class extends m{initialize(){this.exportImageParameters=new v.R({layer:this.layer})}destroy(){this.exportImageParameters.destroy(),this.exportImageParameters=null}get floors(){return this.view?.floors??null}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),this.commitProperty("floors"),(this._get("exportImageVersion")||0)+1}canResume(){return!!super.canResume()&&!this.timeExtent?.isEmpty}};return(0,s._)([(0,o.Cb)()],O.prototype,"exportImageParameters",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],O.prototype,"floors",null),(0,s._)([(0,o.Cb)({readOnly:!0})],O.prototype,"exportImageVersion",null),(0,s._)([(0,o.Cb)()],O.prototype,"layer",void 0),(0,s._)([(0,o.Cb)()],O.prototype,"suspended",void 0),(0,s._)([(0,o.Cb)(a.qG)],O.prototype,"timeExtent",void 0),O=(0,s._)([(0,n.j)("esri.views.layers.MapImageLayerView")],O),O}},53818:(N,U,e)=>{e.d(U,{Z:()=>a});var s=e(17626),o=e(77712),n=(e(8314),e(63290),e(4619),e(76898));const a=v=>{let y=class extends v{get availableFields(){return this.layer.fieldsIndex.fields.map(m=>m.name)}};return(0,s._)([(0,o.Cb)()],y.prototype,"layer",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],y.prototype,"availableFields",null),y=(0,s._)([(0,n.j)("esri.views.layers.OGCFeatureLayerView")],y),y}},61092:(N,U,e)=>{e.d(U,{Z:()=>v});var s=e(17626),o=e(77712),n=(e(8314),e(63290),e(4619),e(76898)),a=e(98624);const v=y=>{let m=class extends y{resume(){this._isUserPaused=!1,this.suspended||this._doResume()}pause(){this._isUserPaused=!0,this.suspended||this._doPause()}disconnect(){this._doDisconnect()}connect(){this._doConnect()}clear(){this._doClear()}constructor(...O){super(...O),this._isUserPaused=!1,this.filter=null}get connectionStatus(){return(this._isUserPaused||this.suspended)&&"connected"===this._streamConnectionStatus?"paused":this._streamConnectionStatus}_onSuspendedChange(O){O?this._doPause():this._isUserPaused||this._doResume()}};return(0,s._)([(0,o.Cb)()],m.prototype,"_isUserPaused",void 0),(0,s._)([(0,o.Cb)({readOnly:!0})],m.prototype,"connectionStatus",null),(0,s._)([(0,o.Cb)({type:a.Z})],m.prototype,"filter",void 0),m=(0,s._)([(0,n.j)("esri.layers.mixins.StreamLayerView")],m),m}},73535:(N,U,e)=>{e.d(U,{Z:()=>l});var s=e(15861),o=e(17626),p=e(26584),M=e(62208),_=e(10699),n=e(77712),m=(e(8314),e(63290),e(4619),e(76898)),O=e(13812),T=e(51920);const l=f=>{let d=class extends f{initialize(){this.exportImageParameters=new T.j({layer:this.layer})}destroy(){this.exportImageParameters=(0,M.SC)(this.exportImageParameters)}get exportImageVersion(){return this.exportImageParameters?.commitProperty("version"),this.commitProperty("timeExtent"),(this._get("exportImageVersion")||0)+1}fetchPopupFeaturesAtLocation(i,h){var t=this;return(0,s.Z)(function*(){const{layer:c}=t;if(!i)throw new p.Z("wmslayerview:fetchPopupFeatures","Nothing to fetch without area",{layer:c});const{popupEnabled:E}=c;if(!E)throw new p.Z("wmslayerview:fetchPopupFeatures","popupEnabled should be true",{popupEnabled:E});const P=t.createFetchPopupFeaturesQuery(i);if(!P)return[];const{extent:u,width:g,height:D,x:j,y:I}=P;if(!(u&&g&&D))throw new p.Z("wmslayerview:fetchPopupFeatures","WMSLayer does not support fetching features.",{extent:u,width:g,height:D});const b=yield c.fetchFeatureInfo(u,g,D,j,I);return(0,_.k_)(h),b})()}};return(0,o._)([(0,n.Cb)()],d.prototype,"exportImageParameters",void 0),(0,o._)([(0,n.Cb)({readOnly:!0})],d.prototype,"exportImageVersion",null),(0,o._)([(0,n.Cb)()],d.prototype,"layer",void 0),(0,o._)([(0,n.Cb)(O.qG)],d.prototype,"timeExtent",void 0),d=(0,o._)([(0,m.j)("esri.layers.mixins.WMSLayerView")],d),d}},73187:(N,U,e)=>{e.d(U,{q:()=>P});var s=e(17626),o=e(91558),p=e(88879),_=(e(20383),e(83761)),n=e(46160),a=e(21286),v=e(77712),T=(e(8314),e(63290),e(4619),e(76898)),l=e(69852),f=e(88493),d=e(35540),i=e(21716),h=e(97595),t=e(17497),c=e(15895);const E=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];let P=class extends _.Z{constructor(u){super(u),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._enabled=!0}initialize(){this._symbols=E.map(u=>new f.Z({color:[u[0],u[1],u[2],.6],outline:{color:"black",width:1}})),this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(u){this._enabled!==u&&(this._enabled=u,this.update())}update(){if(!this._enabled)return void this.clear();const g=this.getTiles(),D=new Array,j=new Set(this._labels.keys());g.forEach((b,S)=>{const A=b.lij.toString();j.delete(A);const C=b.lij[0],L=b.geometry;if(this.enablePolygons&&!this._polygons.has(A)){const K=new p.Z({geometry:L,symbol:this._symbols[C%this._symbols.length]});this._polygons.set(A,K),D.push(K)}if(this.enableLabels){const K=(b=>{if(null!=b.label)return b.label;let S=b.lij.toString();return null!=b.loadPriority&&(S+=` (${b.loadPriority})`),S})(b),R=S/(g.length-1),B=(0,a.t7)(0,200,R),Z=(0,a.t7)(20,6,R)/.75,F=null!=b.loadPriority&&b.loadPriority>=g.length,$=new o.Z([B,F?0:B,F?0:B]),J="3d"===this.view.type?()=>new l.Z({verticalOffset:new h.Z({screenLength:40/.75}),callout:new t.Z({color:new o.Z("white"),border:new c.Z({color:new o.Z("black")})}),symbolLayers:new n.Z([new i.Z({text:K,halo:{color:"white",size:1/.75},material:{color:$},size:Z})])}):()=>new d.Z({text:K,haloColor:"white",haloSize:1/.75,color:$,size:Z}),Y=this._labels.get(A);if(Y){const V=J();null!=Y.symbol&&JSON.stringify(V)===JSON.stringify(Y.symbol)||(Y.symbol=V)}else{const V=new p.Z({geometry:L.extent.center,symbol:J()});this._labels.set(A,V),D.push(V)}}});const I=new Array;j.forEach(b=>{const S=this._polygons.get(b);null!=S&&(I.push(S),this._polygons.delete(b));const A=this._labels.get(b);null!=A&&(I.push(A),this._labels.delete(b))}),this.view.graphics.removeMany(I),this.view.graphics.addMany(D)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};(0,s._)([(0,v.Cb)({constructOnly:!0})],P.prototype,"view",void 0),(0,s._)([(0,v.Cb)({readOnly:!0})],P.prototype,"updating",void 0),(0,s._)([(0,v.Cb)()],P.prototype,"enabled",null),P=(0,s._)([(0,T.j)("esri.views.support.TileTreeDebugger")],P)},91622:(N,U,e)=>{e.d(U,{T:()=>p,Y:()=>M});var s=e(10049),o=e(37053);function p(_,n,a,v,...y){return(0,o.sT)(_)&&(0,s.Gb)(_)?n.apply(void 0,y):(0,o.sS)(_)?a.apply(void 0,y):v.apply(void 0,y)}const M=1e5},21023:(N,U,e)=>{e.d(U,{A:()=>t,S:()=>l,d:()=>c});var s=e(15861),o=e(76210),p=e(8225),M=e(24189),_=e(23663),n=e(66554),a=e(34792),v=e(46203),y=e(48346),m=e(98635),O=e(85589),T=e(66765);const l={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},t=(0,o.GH)(class extends o.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.setMenuOpen=P=>{this.menuOpen=!!P.target.open},this.handleMenuActionsSlotChange=P=>{this.hasMenuActions=(0,v.d)(P)},this.expanded=!1,this.label=void 0,this.layout="vertical",this.columns=void 0,this.menuOpen=!1,this.overlayPositioning="absolute",this.scale=void 0,this.messages=void 0,this.messageOverrides=void 0,this.effectiveLocale="",this.defaultMessages=void 0,this.hasMenuActions=!1}expandedHandler(){this.menuOpen=!1}onMessagesChange(){}effectiveLocaleChange(){(0,n.u)(this,this.effectiveLocale)}setFocus(){var P=this;return(0,s.Z)(function*(){yield(0,M.c)(P),P.el.focus()})()}connectedCallback(){(0,_.c)(this),(0,n.c)(this),(0,p.c)(this)}disconnectedCallback(){(0,_.d)(this),(0,n.d)(this),(0,p.d)(this)}componentWillLoad(){var P=this;return(0,s.Z)(function*(){(0,M.s)(P),yield(0,n.s)(P)})()}componentDidLoad(){(0,M.a)(this)}renderMenu(){const{expanded:P,menuOpen:u,scale:g,layout:D,messages:j,overlayPositioning:I,hasMenuActions:b}=this;return(0,o.h)("calcite-action-menu",{expanded:P,flipPlacements:["left","right"],hidden:!b,label:j.more,onCalciteActionMenuOpen:this.setMenuOpen,open:u,overlayPositioning:I,placement:"horizontal"===D?"bottom-start":"leading-start",scale:g},(0,o.h)("calcite-action",{icon:"ellipsis",scale:g,slot:a.S.trigger,text:j.more,textEnabled:P}),(0,o.h)("slot",{name:l.menuActions,onSlotchange:this.handleMenuActionsSlotChange}),(0,o.h)("slot",{name:l.menuTooltip,slot:a.S.tooltip}))}render(){return(0,o.h)("div",{key:"689447fecc5bda66fb3b0017288c192033131615","aria-label":this.label,class:"container",role:"group"},(0,o.h)("slot",{key:"d168163c365d6ec486aa5fa975fad904ba3a525e"}),this.renderMenu())}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{expanded:["expandedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return':host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:flex;flex-direction:column;padding:0px;--calcite-action-group-columns:3;--calcite-action-group-gap:1px;--calcite-action-group-padding:1px}.container{display:flex;flex-grow:1;flex-direction:column}:host([columns="1"]){--calcite-action-group-columns:1}:host([columns="2"]){--calcite-action-group-columns:2}:host([columns="3"]){--calcite-action-group-columns:3}:host([columns="4"]){--calcite-action-group-columns:4}:host([columns="5"]){--calcite-action-group-columns:5}:host([columns="6"]){--calcite-action-group-columns:6}:host(:first-child){padding-block-start:0px}:host([layout=horizontal]),:host([layout=horizontal]) .container{flex-direction:row}:host([layout=grid]){display:grid}:host([layout=grid]) .container{display:grid;place-content:stretch;background-color:var(--calcite-color-background);gap:var(--calcite-action-group-gap);padding:var(--calcite-action-group-gap);grid-template-columns:repeat(var(--calcite-action-group-columns), auto)}:host([hidden]){display:none}[hidden]{display:none}'}},[17,"calcite-action-group",{expanded:[516],label:[1],layout:[513],columns:[514],menuOpen:[1540,"menu-open"],overlayPositioning:[513,"overlay-positioning"],scale:[513],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],hasMenuActions:[32],setFocus:[64]},void 0,{expanded:["expandedHandler"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function c(){typeof customElements>"u"||["calcite-action-group","calcite-action","calcite-action-menu","calcite-icon","calcite-loader","calcite-popover"].forEach(P=>{switch(P){case"calcite-action-group":customElements.get(P)||customElements.define(P,t);break;case"calcite-action":customElements.get(P)||(0,y.d)();break;case"calcite-action-menu":customElements.get(P)||(0,a.d)();break;case"calcite-icon":customElements.get(P)||(0,m.d)();break;case"calcite-loader":customElements.get(P)||(0,O.d)();break;case"calcite-popover":customElements.get(P)||(0,T.d)()}})}c()},8225:(N,U,e)=>{e.d(U,{c:()=>_,d:()=>n});var s=e(76210),o=e(22757);let p;const M={childList:!0};function _(v){p||(p=(0,o.c)("mutation",a)),p.observe(v.el,M)}function n(v){p.unobserve(v.el)}function a(v){v.forEach(({target:y})=>{(0,s.xE)(y)})}},19141:(N,U,e)=>{e.d(U,{C:()=>s,I:()=>M,M:()=>p,S:()=>o,a:()=>_});const s={wrapper:"wrapper",wrapperBordered:"wrapper--bordered",container:"container",indent:"indent",containerHover:"container--hover",containerBorder:"container--border",containerBorderSelected:"container--border-selected",containerBorderUnselected:"container--border-unselected",contentContainer:"content-container",contentContainerSelectable:"content-container--selectable",contentContainerHasCenterContent:"content-container--has-center-content",nestedContainer:"nested-container",nestedContainerHidden:"nested-container--hidden",content:"content",customContent:"custom-content",actionsStart:"actions-start",contentStart:"content-start",label:"label",description:"description",contentEnd:"content-end",contentBottom:"content-bottom",actionsEnd:"actions-end",selectionContainer:"selection-container",selectionContainerSingle:"selection-container--single",openContainer:"open-container",dragContainer:"drag-container"},o={actionsStart:"actions-start",contentStart:"content-start",content:"content",contentBottom:"content-bottom",contentEnd:"content-end",actionsEnd:"actions-end"},p=0,M={selectedMultiple:"check-square-f",selectedSingle:"bullet-point-large",unselectedMultiple:"square",unselectedSingle:"bullet-point-large",closedLTR:"chevron-right",closedRTL:"chevron-left",open:"chevron-down",blank:"blank",close:"x"},_="data-test-active"},60863:(N,U,e)=>{e.d(U,{S:()=>T,d:()=>l});var s=e(15861),o=e(76210),p=e(23663),M=e(66554),_=e(22757),n=e(46203),a=e(85589);const T=(0,o.GH)(class extends o.mv{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.resizeObserver=(0,_.c)("resize",()=>this.handleResize()),this.handleDefaultSlotChange=d=>{this.hasContent=(0,n.r)(d)},this.storeLoaderEl=d=>{this.loaderEl=d,this.handleResize()},this.loading=!1,this.messages=void 0,this.messageOverrides=void 0,this.loaderScale=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasContent=!1}onMessagesChange(){}effectiveLocaleChange(){(0,M.u)(this,this.effectiveLocale)}connectedCallback(){(0,p.c)(this),(0,M.c)(this),this.resizeObserver?.observe(this.el)}componentWillLoad(){var d=this;return(0,s.Z)(function*(){yield(0,M.s)(d)})()}disconnectedCallback(){(0,p.d)(this),(0,M.d)(this),this.resizeObserver?.disconnect()}render(){const{hasContent:d,loading:i,messages:h}=this;return(0,o.h)("div",{key:"8da71202fdcfc4d149c91d99870c2be6254baecd",class:"scrim"},i?(0,o.h)("calcite-loader",{label:h.loading,ref:this.storeLoaderEl,scale:this.loaderScale}):null,(0,o.h)("div",{key:"893fff6ab8f12415f79cc1a51831029a25215523",class:"content",hidden:!d},(0,o.h)("slot",{key:"08f17320892c630d53a80f5853299f4d7cc72a7e",onSlotchange:this.handleDefaultSlotChange})))}getScale(d){return d<72?"s":d>=480?"l":"m"}handleResize(){const{loaderEl:d,el:i}=this;d&&(this.loaderScale=this.getScale(Math.min(i.clientHeight,i.clientWidth)??0))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return":host{--calcite-scrim-background:var(--calcite-color-transparent-scrim);position:absolute;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;inset:0px;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}"}},[1,"calcite-scrim",{loading:[516],messages:[1040],messageOverrides:[1040],loaderScale:[32],defaultMessages:[32],effectiveLocale:[32],hasContent:[32]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function l(){typeof customElements>"u"||["calcite-scrim","calcite-loader"].forEach(d=>{switch(d){case"calcite-scrim":customElements.get(d)||customElements.define(d,T);break;case"calcite-loader":customElements.get(d)||(0,a.d)()}})}l()},89251:(N,U,e)=>{e.d(U,{a:()=>v,b:()=>_,g:()=>n,u:()=>a});var s=e(76210);const o="calcite-list",p="calcite-list-item-group",M="calcite-list-item";function _(y){return Array.from(y.assignedElements({flatten:!0}).filter(m=>m.matches(o)))}function n(y){const m=y.assignedElements({flatten:!0}),O=m.filter(f=>f?.matches(p)).map(f=>Array.from(f.querySelectorAll(M))).reduce((f,d)=>[...f,...d],[]),T=m.filter(f=>f?.matches(M));return[...m.filter(f=>f?.matches(o)).map(f=>Array.from(f.querySelectorAll(M))).reduce((f,d)=>[...f,...d],[]),...O,...T]}function a(y){y.forEach(m=>{m.setPosition=y.indexOf(m)+1,m.setSize=y.length})}function v(y,m=!1){return s.Z5.isBrowser?document.evaluate(m?"ancestor::calcite-list-item | ancestor::calcite-list-item-group":"ancestor::calcite-list-item",y,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength:0}},24191:(N,U,e)=>{function s(o,p){this.v=o,this.k=p}e.d(U,{Z:()=>s})},16296:(N,U,e)=>{function s(p){var M,_,n,a=2;for(typeof Symbol<"u"&&(_=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(_&&null!=(M=p[_]))return M.call(p);if(n&&null!=(M=p[n]))return new o(M.call(p));_="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function o(p){function M(_){if(Object(_)!==_)return Promise.reject(new TypeError(_+" is not an object."));var n=_.done;return Promise.resolve(_.value).then(function(a){return{value:a,done:n}})}return(o=function(n){this.s=n,this.n=n.next}).prototype={s:null,n:null,next:function(){return M(this.n.apply(this.s,arguments))},return:function(n){var a=this.s.return;return void 0===a?Promise.resolve({value:n,done:!0}):M(a.apply(this.s,arguments))},throw:function(n){var a=this.s.return;return void 0===a?Promise.reject(n):M(a.apply(this.s,arguments))}},new o(p)}e.d(U,{Z:()=>s})},26420:(N,U,e)=>{e.d(U,{Z:()=>o});var s=e(24191);function o(p){return new s.Z(p,0)}},79671:(N,U,e)=>{e.d(U,{Z:()=>p});var s=e(24191);function o(M){var _,n;function a(y,m){try{var O=M[y](m),T=O.value,l=T instanceof s.Z;Promise.resolve(l?T.v:T).then(function(f){if(l){var d="return"===y?"return":"next";if(!T.k||f.done)return a(d,f);f=M[d](f).value}v(O.done?"return":"normal",f)},function(f){a("throw",f)})}catch(f){v("throw",f)}}function v(y,m){switch(y){case"return":_.resolve({value:m,done:!0});break;case"throw":_.reject(m);break;default:_.resolve({value:m,done:!1})}(_=_.next)?a(_.key,_.arg):n=null}this._invoke=function(y,m){return new Promise(function(O,T){var l={key:y,arg:m,resolve:O,reject:T,next:null};n?n=n.next=l:(_=n=l,a(y,m))})},"function"!=typeof M.return&&(this.return=void 0)}function p(M){return function(){return new o(M.apply(this,arguments))}}o.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},o.prototype.next=function(M){return this._invoke("next",M)},o.prototype.throw=function(M){return this._invoke("throw",M)},o.prototype.return=function(M){return this._invoke("return",M)}}}]);