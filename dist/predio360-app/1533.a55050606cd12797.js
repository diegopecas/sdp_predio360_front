"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[1533],{89890:(Ie,Ae,se)=>{se.d(Ae,{J:()=>xe});var oe,Te,Ce,xe={};oe={get exports(){return xe},set exports(Ce){xe=Ce}},void 0!==(Ce=function(){function ae(D){this.message="JPEG error: "+D}return(ae.prototype=new Error).name="JpegError",ae.constructor=ae,ae}(),Te=function(){if(!self||!self.Uint8ClampedArray)return null;var ae=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),D=4017,pe=799,ye=3406,H=2276,ie=1567,$=3784,le=5793,Q=2896;function K(){this.decodeTransform=null,this.colorTransform=-1}function ue(R,u){for(var M,x,f=0,m=[],b=16;b>0&&!R[b-1];)b--;m.push({children:[],index:0});var B,P=m[0];for(M=0;M<b;M++){for(x=0;x<R[M];x++){for((P=m.pop()).children[P.index]=u[f];P.index>0;)P=m.pop();for(P.index++,m.push(P);m.length<=M;)m.push(B={children:[],index:0}),P.children[P.index]=B.children,P=B;f++}M+1<b&&(m.push(B={children:[],index:0}),P.children[P.index]=B.children,P=B)}return m[0].children}function J(R,u,M){return 64*((R.blocksPerLine+1)*u+M)}function Z(R,u,M,x,f,m,b,B,P){var w=M.mcusPerLine,G=u,F=0,N=0;function O(){if(N>0)return N--,F>>N&1;if(255===(F=R[u++])){var Y=R[u++];if(Y)throw new Ce("unexpected marker "+(F<<8|Y).toString(16))}return N=7,F>>>7}function s(Y){for(var q=Y;;){if("number"==typeof(q=q[O()]))return q;if("object"!=typeof q)throw new Ce("invalid huffman sequence")}}function c(Y){for(var q=0;Y>0;)q=q<<1|O(),Y--;return q}function h(Y){if(1===Y)return 1===O()?1:-1;var q=c(Y);return q>=1<<Y-1?q:q+(-1<<Y)+1}var I,g=0,U=0;function p(Y,q,fe,ve,me){q(Y,J(Y,(fe/w|0)*Y.v+ve,fe%w*Y.h+me))}var d,k,T,S,L,j,z=x.length;j=M.progressive?0===m?0===B?function _(Y,q){var fe=s(Y.huffmanTableDC),ve=0===fe?0:h(fe)<<P;Y.blockData[q]=Y.pred+=ve}:function t(Y,q){Y.blockData[q]|=O()<<P}:0===B?function v(Y,q){if(g>0)g--;else for(var fe=m,ve=b;fe<=ve;){var me=s(Y.huffmanTableAC),we=15&me,ge=me>>4;if(0!==we){var be=ae[fe+=ge];Y.blockData[q+be]=h(we)*(1<<P),fe++}else{if(ge<15){g=c(ge)+(1<<ge)-1;break}fe+=16}}}:function i(Y,q){for(var fe,ve,me=m,we=b,ge=0;me<=we;){var be=ae[me];switch(U){case 0:if(ge=(ve=s(Y.huffmanTableAC))>>4,0==(fe=15&ve))ge<15?(g=c(ge)+(1<<ge),U=4):(ge=16,U=1);else{if(1!==fe)throw new Ce("invalid ACn encoding");I=h(fe),U=ge?2:3}continue;case 1:case 2:Y.blockData[q+be]?Y.blockData[q+be]+=O()<<P:0==--ge&&(U=2===U?3:0);break;case 3:Y.blockData[q+be]?Y.blockData[q+be]+=O()<<P:(Y.blockData[q+be]=I<<P,U=0);break;case 4:Y.blockData[q+be]&&(Y.blockData[q+be]+=O()<<P)}me++}4===U&&0==--g&&(U=0)}:function C(Y,q){var fe=s(Y.huffmanTableDC),ve=0===fe?0:h(fe);Y.blockData[q]=Y.pred+=ve;for(var me=1;me<64;){var we=s(Y.huffmanTableAC),ge=15&we,be=we>>4;if(0!==ge){var Ee=ae[me+=be];Y.blockData[q+Ee]=h(ge),me++}else{if(be<15)break;me+=16}}};var V,re,he,ee,Y,fe,te=0;for(re=1===z?x[0].blocksPerLine*x[0].blocksPerColumn:w*M.mcusPerColumn;te<re;){var ne=f?Math.min(re-te,f):re;for(k=0;k<z;k++)x[k].pred=0;if(g=0,1===z)for(d=x[0],L=0;L<ne;L++)j(Y=d,J(Y,(fe=te)/Y.blocksPerLine|0,fe%Y.blocksPerLine)),te++;else for(L=0;L<ne;L++){for(k=0;k<z;k++)for(he=(d=x[k]).h,ee=d.v,T=0;T<ee;T++)for(S=0;S<he;S++)p(d,j,te,T,S);te++}N=0,(V=W(R,u))&&V.invalid&&(console.log("decodeScan - unexpected MCU data, next marker is: "+V.invalid),u=V.offset);var ce=V&&V.marker;if(!ce||ce<=65280)throw new Ce("marker was not found");if(!(ce>=65488&&ce<=65495))break;u+=2}return(V=W(R,u))&&V.invalid&&(console.log("decodeScan - unexpected Scan data, next marker is: "+V.invalid),u=V.offset),u-G}function X(R,u,M){var x,f,m,b,B,P,w,A,G,F,N,O,s,c,h,C,_,t=R.quantizationTable,g=R.blockData;if(!t)throw new Ce("missing required Quantization Table.");for(var v=0;v<64;v+=8)G=g[u+v],G*=t[v],(F=g[u+v+1])|(N=g[u+v+2])|(O=g[u+v+3])|(s=g[u+v+4])|(c=g[u+v+5])|(h=g[u+v+6])|(C=g[u+v+7])?(f=(x=(x=le*G+128>>8)+(f=le*(s*=t[v+4])+128>>8)+1>>1)-f,_=(m=N*=t[v+2])*$+(b=h*=t[v+6])*ie+128>>8,m=m*ie-b*$+128>>8,w=(B=(B=Q*((F*=t[v+1])-(C*=t[v+7]))+128>>8)+(w=(c*=t[v+5])<<4)+1>>1)-w,P=(A=(A=Q*(F+C)+128>>8)+(P=(O*=t[v+3])<<4)+1>>1)-P,b=(x=x+(b=_)+1>>1)-b,m=(f=f+m+1>>1)-m,_=B*H+A*ye+2048>>12,B=B*ye-A*H+2048>>12,A=_,_=P*pe+w*D+2048>>12,P=P*D-w*pe+2048>>12,w=_,M[v]=x+A,M[v+7]=x-A,M[v+1]=f+w,M[v+6]=f-w,M[v+2]=m+P,M[v+5]=m-P,M[v+3]=b+B,M[v+4]=b-B):(M[v]=_=le*G+512>>10,M[v+1]=_,M[v+2]=_,M[v+3]=_,M[v+4]=_,M[v+5]=_,M[v+6]=_,M[v+7]=_);for(var I=0;I<8;++I)G=M[I],(F=M[I+8])|(N=M[I+16])|(O=M[I+24])|(s=M[I+32])|(c=M[I+40])|(h=M[I+48])|(C=M[I+56])?(f=(x=4112+((x=le*G+2048>>12)+(f=le*s+2048>>12)+1>>1))-f,_=(m=N)*$+(b=h)*ie+2048>>12,m=m*ie-b*$+2048>>12,b=_,w=(B=(B=Q*(F-C)+2048>>12)+(w=c)+1>>1)-w,P=(A=(A=Q*(F+C)+2048>>12)+(P=O)+1>>1)-P,_=B*H+A*ye+2048>>12,B=B*ye-A*H+2048>>12,A=_,_=P*pe+w*D+2048>>12,P=P*D-w*pe+2048>>12,G=(G=(x=x+b+1>>1)+A)<16?0:G>=4080?255:G>>4,F=(F=(f=f+m+1>>1)+(w=_))<16?0:F>=4080?255:F>>4,N=(N=(m=f-m)+P)<16?0:N>=4080?255:N>>4,O=(O=(b=x-b)+B)<16?0:O>=4080?255:O>>4,s=(s=b-B)<16?0:s>=4080?255:s>>4,c=(c=m-P)<16?0:c>=4080?255:c>>4,h=(h=f-w)<16?0:h>=4080?255:h>>4,C=(C=x-A)<16?0:C>=4080?255:C>>4,g[u+I]=G,g[u+I+8]=F,g[u+I+16]=N,g[u+I+24]=O,g[u+I+32]=s,g[u+I+40]=c,g[u+I+48]=h,g[u+I+56]=C):(_=(_=le*G+8192>>14)<-2040?0:_>=2024?255:_+2056>>4,g[u+I]=_,g[u+I+8]=_,g[u+I+16]=_,g[u+I+24]=_,g[u+I+32]=_,g[u+I+40]=_,g[u+I+48]=_,g[u+I+56]=_)}function E(R,u){for(var M=u.blocksPerLine,x=u.blocksPerColumn,f=new Int16Array(64),m=0;m<x;m++)for(var b=0;b<M;b++)X(u,J(u,m,b),f);return u.blockData}function W(R,u,M){function x(P){return R[P]<<8|R[P+1]}var f=R.length-1,m=M<u?M:u;if(u>=f)return null;var b=x(u);if(b>=65472&&b<=65534)return{invalid:null,marker:b,offset:u};for(var B=x(m);!(B>=65472&&B<=65534);){if(++m>=f)return null;B=x(m)}return{invalid:b.toString(16),marker:B,offset:m}}return K.prototype={parse:function(R){function u(){var Y=R[b]<<8|R[b+1];return b+=2,Y}function M(){var Y=u(),q=b+Y-2,fe=W(R,q,b);fe&&fe.invalid&&(console.log("readDataBlock - incorrect length, next marker is: "+fe.invalid),q=fe.offset);var ve=R.subarray(b,q);return b+=ve.length,ve}function x(Y){for(var q=Math.ceil(Y.samplesPerLine/8/Y.maxH),fe=Math.ceil(Y.scanLines/8/Y.maxV),ve=0;ve<Y.components.length;ve++){L=Y.components[ve];var me=Math.ceil(Math.ceil(Y.samplesPerLine/8)*L.h/Y.maxH),we=Math.ceil(Math.ceil(Y.scanLines/8)*L.v/Y.maxV);L.blockData=new Int16Array(fe*L.v*64*(q*L.h+1)),L.blocksPerLine=me,L.blocksPerColumn=we}Y.mcusPerLine=q,Y.mcusPerColumn=fe}var f,m,b=0,B=null,P=null,w=[],A=[],G=[],F=u();if(65496!==F)throw new Ce("SOI not found");for(F=u();65497!==F;){var N,O,s;switch(F){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var c=M();65504===F&&74===c[0]&&70===c[1]&&73===c[2]&&70===c[3]&&0===c[4]&&(B={version:{major:c[5],minor:c[6]},densityUnits:c[7],xDensity:c[8]<<8|c[9],yDensity:c[10]<<8|c[11],thumbWidth:c[12],thumbHeight:c[13],thumbData:c.subarray(14,14+3*c[12]*c[13])}),65518===F&&65===c[0]&&100===c[1]&&111===c[2]&&98===c[3]&&101===c[4]&&(P={version:c[5]<<8|c[6],flags0:c[7]<<8|c[8],flags1:c[9]<<8|c[10],transformCode:c[11]});break;case 65499:for(var h=u()+b-2;b<h;){var C=R[b++],_=new Uint16Array(64);if(C>>4){if(C>>4!=1)throw new Ce("DQT - invalid table spec");for(O=0;O<64;O++)_[ae[O]]=u()}else for(O=0;O<64;O++)_[ae[O]]=R[b++];w[15&C]=_}break;case 65472:case 65473:case 65474:if(f)throw new Ce("Only single frame JPEGs supported");u(),(f={}).extended=65473===F,f.progressive=65474===F,f.precision=R[b++],f.scanLines=u(),f.samplesPerLine=u(),f.components=[],f.componentIds={};var t,g=R[b++],v=0,I=0;for(N=0;N<g;N++){t=R[b];var U=R[b+1]>>4,i=15&R[b+1];v<U&&(v=U),I<i&&(I=i),s=f.components.push({h:U,v:i,quantizationId:R[b+2],quantizationTable:null}),f.componentIds[t]=s-1,b+=3}f.maxH=v,f.maxV=I,x(f);break;case 65476:var y=u();for(N=2;N<y;){var d=R[b++],k=new Uint8Array(16),T=0;for(O=0;O<16;O++,b++)T+=k[O]=R[b];var S=new Uint8Array(T);for(O=0;O<T;O++,b++)S[O]=R[b];N+=17+T,(d>>4?A:G)[15&d]=ue(k,S)}break;case 65501:u(),m=u();break;case 65498:u();var L,j=R[b++],z=[];for(N=0;N<j;N++){var V=f.componentIds[R[b++]],re=R[b++];(L=f.components[V]).huffmanTableDC=G[re>>4],L.huffmanTableAC=A[15&re],z.push(L)}var he=R[b++],ee=R[b++],te=R[b++],ne=Z(R,b,f,z,m,he,ee,te>>4,15&te);b+=ne;break;case 65535:255!==R[b]&&b--;break;default:if(255===R[b-3]&&R[b-2]>=192&&R[b-2]<=254){b-=3;break}throw new Ce("unknown marker "+F.toString(16))}F=u()}for(this.width=f.samplesPerLine,this.height=f.scanLines,this.jfif=B,this.eof=b,this.adobe=P,this.components=[],N=0;N<f.components.length;N++){var ce=w[(L=f.components[N]).quantizationId];ce&&(L.quantizationTable=ce),this.components.push({output:E(0,L),scaleX:L.h/f.maxH,scaleY:L.v/f.maxV,blocksPerLine:L.blocksPerLine,blocksPerColumn:L.blocksPerColumn})}this.numComponents=this.components.length},_getLinearizedBlockData:function(R,u){var M,x,f,m,b,B,P,w,A,G,F,N=this.width/R,O=this.height/u,s=0,c=this.components.length,h=R*u*c,C=new Uint8ClampedArray(h),_=new Uint32Array(R),t=4294967288;for(P=0;P<c;P++){for(x=(M=this.components[P]).scaleX*N,f=M.scaleY*O,s=P,F=M.output,m=M.blocksPerLine+1<<3,b=0;b<R;b++)_[b]=((w=0|b*x)&t)<<3|7&w;for(B=0;B<u;B++)for(G=m*((w=0|B*f)&t)|(7&w)<<3,b=0;b<R;b++)C[s]=F[G+_[b]],s+=c}var g=this.decodeTransform;if(g)for(P=0;P<h;)for(w=0,A=0;w<c;w++,P++,A+=2)C[P]=(C[P]*g[A]>>8)+g[A+1];return C},_isColorConversionNeeded:function(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this.colorTransform:1===this.colorTransform},_convertYccToRgb:function(R){for(var u,M,x,f=0,m=R.length;f<m;f+=3)M=R[f+1],R[f]=(u=R[f])-179.456+1.402*(x=R[f+2]),R[f+1]=u+135.459-.344*M-.714*x,R[f+2]=u-226.816+1.772*M;return R},_convertYcckToRgb:function(R){for(var u,M,x,f,m=0,b=0,B=R.length;b<B;b+=4)R[m++]=(M=R[b+1])*(-660635669420364e-19*M+.000437130475926232*(x=R[b+2])-54080610064599e-18*(u=R[b])+.00048449797120281*(f=R[b+3])-.154362151871126)-122.67195406894+x*(-.000957964378445773*x+.000817076911346625*u-.00477271405408747*f+1.53380253221734)+u*(.000961250184130688*u-.00266257332283933*f+.48357088451265)+f*(-.000336197177618394*f+.484791561490776),R[m++]=107.268039397724+M*(219927104525741e-19*M-.000640992018297945*x+.000659397001245577*u+.000426105652938837*f-.176491792462875)+x*(-.000778269941513683*x+.00130872261408275*u+.000770482631801132*f-.151051492775562)+u*(.00126935368114843*u-.00265090189010898*f+.25802910206845)+f*(-.000318913117588328*f-.213742400323665),R[m++]=M*(-.000570115196973677*M-263409051004589e-19*x+.0020741088115012*u-.00288260236853442*f+.814272968359295)-20.810012546947+x*(-153496057440975e-19*x-.000132689043961446*u+.000560833691242812*f-.195152027534049)+u*(.00174418132927582*u-.00255243321439347*f+.116935020465145)+f*(-.000343531996510555*f+.24165260232407);return R},_convertYcckToCmyk:function(R){for(var u,M,x,f=0,m=R.length;f<m;f+=4)M=R[f+1],R[f]=434.456-(u=R[f])-1.402*(x=R[f+2]),R[f+1]=119.541-u+.344*M+.714*x,R[f+2]=481.816-u-1.772*M;return R},_convertCmykToRgb:function(R){for(var u,M,x,f,m=0,b=1/255,B=0,P=R.length;B<P;B+=4)R[m++]=255+(u=R[B]*b)*(-4.387332384609988*u+54.48615194189176*(M=R[B+1]*b)+18.82290502165302*(x=R[B+2]*b)+212.25662451639585*(f=R[B+3]*b)-285.2331026137004)+M*(1.7149763477362134*M-5.6096736904047315*x-17.873870861415444*f-5.497006427196366)+x*(-2.5217340131683033*x-21.248923337353073*f+17.5119270841813)-f*(21.86122147463605*f+189.48180835922747),R[m++]=255+u*(8.841041422036149*u+60.118027045597366*M+6.871425592049007*x+31.159100130055922*f-79.2970844816548)+M*(-15.310361306967817*M+17.575251261109482*x+131.35250912493976*f-190.9453302588951)+x*(4.444339102852739*x+9.8632861493405*f-24.86741582555878)-f*(20.737325471181034*f+187.80453709719578),R[m++]=255+u*(.8842522430003296*u+8.078677503112928*M+30.89978309703729*x-.23883238689178934*f-14.183576799673286)+M*(10.49593273432072*M+63.02378494754052*x+50.606957656360734*f-112.23884253719248)+x*(.03296041114873217*x+115.60384449646641*f-193.58209356861505)-f*(22.33816807309886*f+180.12613974708367);return R},getData:function(R,u,M){if(this.numComponents>4)throw new Ce("Unsupported color mode");var x=this._getLinearizedBlockData(R,u);if(1===this.numComponents&&M){for(var f=x.length,m=new Uint8ClampedArray(3*f),b=0,B=0;B<f;B++){var P=x[B];m[b++]=P,m[b++]=P,m[b++]=P}return m}if(3===this.numComponents&&this._isColorConversionNeeded())return this._convertYccToRgb(x);if(4===this.numComponents){if(this._isColorConversionNeeded())return M?this._convertYcckToRgb(x):this._convertYcckToCmyk(x);if(M)return this._convertCmykToRgb(x)}return x}},K}())&&(oe.exports=Te)},34022:(Ie,Ae,se)=>{se.d(Ae,{Z:()=>xe});var oe,_e,Te,xe={};_e={get exports(){return xe},set exports(Ce){xe=Ce}},oe=function(){function Ce(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return Ce.prototype={ensureBuffer:function(ae){var D=this.buffer,pe=D?D.byteLength:0;if(ae<pe)return D;for(var ye=512;ye<ae;)ye<<=1;for(var H=new Uint8Array(ye),ie=0;ie<pe;++ie)H[ie]=D[ie];return this.buffer=H},getByte:function(){for(var ae=this.pos;this.bufferLength<=ae;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(ae){var D=this.pos;if(ae){this.ensureBuffer(D+ae);for(var pe=D+ae;!this.eof&&this.bufferLength<pe;)this.readBlock();var ye=this.bufferLength;pe>ye&&(pe=ye)}else{for(;!this.eof;)this.readBlock();pe=this.bufferLength}return this.pos=pe,this.buffer.subarray(D,pe)},lookChar:function(){for(var ae=this.pos;this.bufferLength<=ae;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var ae=this.pos;this.bufferLength<=ae;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(ae,D,pe){for(var ye=ae+D;this.bufferLength<=ye&&!this.eof;)this.readBlock();return new Stream(this.buffer,ae,D,pe)},skip:function(ae){ae||(ae=1),this.pos+=ae},reset:function(){this.pos=0}},Ce}(),void 0!==(Te=function(){if(!self||!self.Uint32Array)return null;var Ce=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ae=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),D=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),pe=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],ye=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];function H($){throw new Error($)}function ie($){var le=0,Q=$[le++],K=$[le++];-1!=Q&&-1!=K||H("Invalid header in flate stream"),8!=(15&Q)&&H("Unknown compression method in flate stream"),((Q<<8)+K)%31!=0&&H("Bad FCHECK in flate stream"),32&K&&H("FDICT bit set in flate stream"),this.bytes=$,this.bytesPos=2,this.codeSize=0,this.codeBuf=0,oe.call(this)}return(ie.prototype=Object.create(oe.prototype)).getBits=function($){for(var le,Q=this.codeSize,K=this.codeBuf,ue=this.bytes,J=this.bytesPos;Q<$;)void 0===(le=ue[J++])&&H("Bad encoding in flate stream"),K|=le<<Q,Q+=8;return le=K&(1<<$)-1,this.codeBuf=K>>$,this.codeSize=Q-=$,this.bytesPos=J,le},ie.prototype.getCode=function($){for(var le=$[0],Q=$[1],K=this.codeSize,ue=this.codeBuf,J=this.bytes,Z=this.bytesPos;K<Q;){var X;void 0===(X=J[Z++])&&H("Bad encoding in flate stream"),ue|=X<<K,K+=8}var E=le[ue&(1<<Q)-1],W=E>>16,R=65535&E;return(0==K||K<W||0==W)&&H("Bad encoding in flate stream"),this.codeBuf=ue>>W,this.codeSize=K-W,this.bytesPos=Z,R},ie.prototype.generateHuffmanTable=function($){for(var le=$.length,Q=0,K=0;K<le;++K)$[K]>Q&&(Q=$[K]);for(var ue=1<<Q,J=new Uint32Array(ue),Z=1,X=0,E=2;Z<=Q;++Z,X<<=1,E<<=1)for(var W=0;W<le;++W)if($[W]==Z){var R=0,u=X;for(K=0;K<Z;++K)R=R<<1|1&u,u>>=1;for(K=R;K<ue;K+=E)J[K]=Z<<16|W;++X}return[J,Q]},ie.prototype.readBlock=function(){function $(_,t,g,v,I){for(var U=_.getBits(g)+v;U-- >0;)t[E++]=I}var le=this.getBits(3);if(1&le&&(this.eof=!0),0!=(le>>=1)){var Q,K;if(1==le)Q=pe,K=ye;else if(2==le){for(var ue=this.getBits(5)+257,J=this.getBits(5)+1,Z=this.getBits(4)+4,X=Array(Ce.length),E=0;E<Z;)X[Ce[E++]]=this.getBits(3);for(var W=this.generateHuffmanTable(X),R=0,u=(E=0,ue+J),M=new Array(u);E<u;){var x=this.getCode(W);16==x?$(this,M,2,3,R):17==x?$(this,M,3,3,R=0):18==x?$(this,M,7,11,R=0):M[E++]=R=x}Q=this.generateHuffmanTable(M.slice(0,ue)),K=this.generateHuffmanTable(M.slice(ue,u))}else H("Unknown block type in flate stream");for(var f=(c=this.buffer)?c.length:0,m=this.bufferLength;;){var b=this.getCode(Q);if(b<256)m+1>=f&&(f=(c=this.ensureBuffer(m+1)).length),c[m++]=b;else{if(256==b)return void(this.bufferLength=m);var B=(b=ae[b-=257])>>16;B>0&&(B=this.getBits(B)),R=(65535&b)+B,b=this.getCode(K),(B=(b=D[b])>>16)>0&&(B=this.getBits(B));var P=(65535&b)+B;m+R>=f&&(f=(c=this.ensureBuffer(m+R)).length);for(var w=0;w<R;++w,++m)c[m]=c[m-P]}}}else{var A,G=this.bytes,F=this.bytesPos;void 0===(A=G[F++])&&H("Bad block header in flate stream");var N=A;void 0===(A=G[F++])&&H("Bad block header in flate stream"),N|=A<<8,void 0===(A=G[F++])&&H("Bad block header in flate stream");var O=A;void 0===(A=G[F++])&&H("Bad block header in flate stream"),(O|=A<<8)!=(65535&~N)&&H("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var s=this.bufferLength,c=this.ensureBuffer(s+N),h=s+N;this.bufferLength=h;for(var C=s;C<h;++C){if(void 0===(A=G[F++])){this.eof=!0;break}c[C]=A}this.bytesPos=F}},ie}())&&(_e.exports=Te)},25688:(Ie,Ae,se)=>{se.d(Ae,{Z:()=>le});var oe=se(17626),_e=se(26584),Te=se(86810),xe=se(58817),de=se(63290),Ce=se(62208),ae=se(77712),D=se(66656),pe=se(76898);class ye{constructor(K=null,ue=null,J=null){this.minValue=K,this.maxValue=ue,this.noDataValue=J}}var ie,H=se(67313);let $=ie=class extends Te.wq{static createEmptyBand(Q,K){return new(ie.getPixelArrayConstructor(Q))(K)}static getPixelArrayConstructor(Q){let K;switch(Q){case"u1":case"u2":case"u4":case"u8":K=Uint8Array;break;case"u16":K=Uint16Array;break;case"u32":K=Uint32Array;break;case"s8":K=Int8Array;break;case"s16":K=Int16Array;break;case"s32":K=Int32Array;break;case"f32":case"c64":case"c128":case"unknown":K=Float32Array;break;case"f64":K=Float64Array}return K}constructor(Q){super(Q),this.width=null,this.height=null,this.pixelType="f32",this.validPixelCount=null,this.mask=null,this.maskIsAlpha=!1,this.premultiplyAlpha=!1,this.statistics=null,this.depthCount=1}castPixelType(Q){if(!Q)return"f32";let K=Q.toLowerCase();return["u1","u2","u4"].includes(K)?K="u8":["unknown","u8","s8","u16","s16","u32","s32","f32","f64"].includes(K)||(K="f32"),K}getPlaneCount(){return this.pixels?.length}addData(Q){if(!Q.pixels||Q.pixels.length!==this.width*this.height)throw new _e.Z("pixelblock:invalid-or-missing-pixels","add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]),this.statistics||(this.statistics=[]),this.pixels.push(Q.pixels),this.statistics.push(Q.statistics??new ye)}getAsRGBA(){const Q=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case"s8":case"s16":case"u16":case"s32":case"u32":case"f32":case"f64":this._fillFromNon8Bit(Q);break;default:this._fillFrom8Bit(Q)}return new Uint8ClampedArray(Q)}getAsRGBAFloat(){const Q=new Float32Array(this.width*this.height*4);return this._fillFrom32Bit(Q),Q}updateStatistics(){if(!this.pixels)return;this.statistics=this.pixels.map(ue=>this._calculateBandStatistics(ue,this.mask));const Q=this.mask;let K=0;if((0,Ce.pC)(Q))for(let ue=0;ue<Q.length;ue++)Q[ue]&&K++;else K=this.width*this.height;this.validPixelCount=K}clamp(Q){if(!Q||"f64"===Q||"f32"===Q||!this.pixels)return;const[K,ue]=(0,H.r)(Q),J=this.pixels,Z=this.width*this.height,X=J.length;let E,W,R;const u=[];for(let M=0;M<X;M++){R=ie.createEmptyBand(Q,Z),E=J[M];for(let x=0;x<Z;x++)W=E[x],R[x]=W>ue?ue:W<K?K:W;u.push(R)}this.pixels=u,this.pixelType=Q}extractBands(Q){const{pixels:K,statistics:ue}=this;if((0,Ce.Wi)(Q)||0===Q.length||!K||0===K.length)return this;const J=K.length,Z=Q.some(E=>E>=K.length),X=J===Q.length&&!Q.some((E,W)=>E!==W);return Z||X?this:new ie({pixelType:this.pixelType,width:this.width,height:this.height,mask:this.mask,validPixelCount:this.validPixelCount,maskIsAlpha:this.maskIsAlpha,pixels:Q.map(E=>K[E]),statistics:ue&&Q.map(E=>ue[E])})}clone(){const Q=new ie({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});let K;(0,Ce.pC)(this.mask)&&(Q.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):this.mask.slice(0));const ue=ie.getPixelArrayConstructor(this.pixelType);if(this.pixels&&this.pixels.length>0){Q.pixels=[];const J=!!this.pixels[0].slice;for(K=0;K<this.pixels.length;K++)Q.pixels[K]=J?this.pixels[K].slice(0,this.pixels[K].length):new ue(this.pixels[K])}if(this.statistics)for(Q.statistics=[],K=0;K<this.statistics.length;K++)Q.statistics[K]=(0,xe.d9)(this.statistics[K]);return Q.premultiplyAlpha=this.premultiplyAlpha,Q}_fillFrom8Bit(Q){const{mask:K,maskIsAlpha:ue,premultiplyAlpha:J,pixels:Z}=this;if(!Q||!Z||!Z.length)return void de.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");let X,E,W,R;X=E=W=Z[0],Z.length>=3?(E=Z[1],W=Z[2]):2===Z.length&&(E=Z[1]);const u=new Uint32Array(Q),M=this.width*this.height;if(X.length===M)if((0,Ce.pC)(K)&&K.length===M)if(ue)for(R=0;R<M;R++){const x=K[R];if(x){const f=x/255;u[R]=J?x<<24|W[R]*f<<16|E[R]*f<<8|X[R]*f:x<<24|W[R]<<16|E[R]<<8|X[R]}}else for(R=0;R<M;R++)K[R]&&(u[R]=255<<24|W[R]<<16|E[R]<<8|X[R]);else for(R=0;R<M;R++)u[R]=255<<24|W[R]<<16|E[R]<<8|X[R];else de.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.")}_fillFromNon8Bit(Q){const{pixels:K,mask:ue,statistics:J}=this;if(!Q||!K||!K.length)return void de.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.");const Z=this.pixelType;let X=1,E=0,W=1;if(J&&J.length>0){for(const B of J)null!=B.minValue&&(E=Math.min(E,B.minValue)),null!=B.maxValue&&null!=B.minValue&&(W=Math.max(W,B.maxValue-B.minValue));X=255/W}else{let B=255;"s8"===Z?(E=-128,B=127):"u16"===Z?B=65535:"s16"===Z?(E=-32768,B=32767):"u32"===Z?B=4294967295:"s32"===Z?(E=-2147483648,B=2147483647):"f32"===Z?(E=-34e38,B=34e38):"f64"===Z&&(E=-Number.MAX_VALUE,B=Number.MAX_VALUE),X=255/(B-E)}const R=new Uint32Array(Q),u=this.width*this.height;let M,x,f,m,b;if(M=x=f=K[0],M.length!==u)return de.Z.getLogger(this.declaredClass).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(K.length>=2)if(x=K[1],K.length>=3&&(f=K[2]),(0,Ce.pC)(ue)&&ue.length===u)for(m=0;m<u;m++)ue[m]&&(R[m]=255<<24|(f[m]-E)*X<<16|(x[m]-E)*X<<8|(M[m]-E)*X);else for(m=0;m<u;m++)R[m]=255<<24|(f[m]-E)*X<<16|(x[m]-E)*X<<8|(M[m]-E)*X;else if((0,Ce.pC)(ue)&&ue.length===u)for(m=0;m<u;m++)b=(M[m]-E)*X,ue[m]&&(R[m]=255<<24|b<<16|b<<8|b);else for(m=0;m<u;m++)b=(M[m]-E)*X,R[m]=255<<24|b<<16|b<<8|b}_fillFrom32Bit(Q){const{pixels:K,mask:ue}=this;if(!Q||!K||!K.length)return de.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The input pixel block is empty.");let J,Z,X,E;J=Z=X=K[0],K.length>=3?(Z=K[1],X=K[2]):2===K.length&&(Z=K[1]);const W=this.width*this.height;if(J.length!==W)return de.Z.getLogger(this.declaredClass).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let R=0;if((0,Ce.pC)(ue)&&ue.length===W)for(E=0;E<W;E++)Q[R++]=J[E],Q[R++]=Z[E],Q[R++]=X[E],Q[R++]=1&ue[E];else for(E=0;E<W;E++)Q[R++]=J[E],Q[R++]=Z[E],Q[R++]=X[E],Q[R++]=1}_calculateBandStatistics(Q,K){let ue=1/0,J=-1/0;const Z=Q.length;let X,E=0;if((0,Ce.pC)(K))for(X=0;X<Z;X++)K[X]&&(E=Q[X],ue=E<ue?E:ue,J=E>J?E:J);else for(X=0;X<Z;X++)E=Q[X],ue=E<ue?E:ue,J=E>J?E:J;return new ye(ue,J)}};(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"width",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"height",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"pixelType",void 0),(0,oe._)([(0,D.p)("pixelType")],$.prototype,"castPixelType",null),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"validPixelCount",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"mask",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"maskIsAlpha",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"pixels",void 0),(0,oe._)([(0,ae.Cb)()],$.prototype,"premultiplyAlpha",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"statistics",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"depthCount",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"noDataValues",void 0),(0,oe._)([(0,ae.Cb)({json:{write:!0}})],$.prototype,"bandMasks",void 0),$=ie=(0,oe._)([(0,pe.j)("esri.layers.support.PixelBlock")],$);const le=$},79645:(Ie,Ae,se)=>{se.d(Ae,{Z:()=>$});var H,oe=se(17626),_e=se(86810),Te=se(58817),xe=se(62208),de=se(77712),ae=(se(90912),se(76898)),D=se(2004),pe=se(65234),ye=se(27497);let ie=H=class extends _e.wq{constructor(le){super(le),this.attributeTable=null,this.bandCount=null,this.colormap=null,this.extent=null,this.format=void 0,this.height=null,this.width=null,this.histograms=null,this.keyProperties={},this.multidimensionalInfo=null,this.noDataValue=null,this.pixelSize=null,this.pixelType=null,this.isPseudoSpatialReference=!1,this.spatialReference=null,this.statistics=null,this.storageInfo=null,this.transform=null}get dataType(){const le=this.keyProperties?.DataType?.toLowerCase()??"generic";return"stdtime"===le?"standard-time":le}get nativeExtent(){return this._get("nativeExtent")||this.extent}set nativeExtent(le){le&&this._set("nativeExtent",le)}get nativePixelSize(){if((0,xe.Wi)(this.transform)||!this.transform.affectsPixelSize)return this.pixelSize;const le=this.nativeExtent;return{x:le.width/this.width,y:le.height/this.height}}get hasMultidimensionalTranspose(){return!!this.storageInfo?.transposeInfo}clone(){return new H({attributeTable:(0,Te.d9)(this.attributeTable),bandCount:this.bandCount,colormap:(0,Te.d9)(this.colormap),extent:(0,Te.d9)(this.extent),nativePixelSize:(0,Te.d9)(this.nativePixelSize),format:this.format,height:this.height,width:this.width,histograms:(0,Te.d9)(this.histograms),keyProperties:(0,Te.d9)(this.keyProperties),multidimensionalInfo:(0,Te.d9)(this.multidimensionalInfo),noDataValue:this.noDataValue,pixelSize:(0,Te.d9)(this.pixelSize),pixelType:this.pixelType,isPseudoSpatialReference:this.isPseudoSpatialReference,spatialReference:(0,Te.d9)(this.spatialReference),statistics:(0,Te.d9)(this.statistics),storageInfo:(0,Te.d9)(this.storageInfo),transform:(0,Te.d9)(this.transform)})}};(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"attributeTable",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"bandCount",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"colormap",void 0),(0,oe._)([(0,de.Cb)({type:String,readOnly:!0})],ie.prototype,"dataType",null),(0,oe._)([(0,de.Cb)({type:D.Z,json:{write:!0}})],ie.prototype,"extent",void 0),(0,oe._)([(0,de.Cb)({type:D.Z,json:{write:!0}})],ie.prototype,"nativeExtent",null),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"nativePixelSize",null),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"format",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"height",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"width",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"hasMultidimensionalTranspose",null),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"histograms",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"keyProperties",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"multidimensionalInfo",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"noDataValue",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"pixelSize",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"pixelType",void 0),(0,oe._)([(0,de.Cb)()],ie.prototype,"isPseudoSpatialReference",void 0),(0,oe._)([(0,de.Cb)({type:pe.Z,json:{write:!0}})],ie.prototype,"spatialReference",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"statistics",void 0),(0,oe._)([(0,de.Cb)({type:ye.Z,json:{write:!0}})],ie.prototype,"storageInfo",void 0),(0,oe._)([(0,de.Cb)({json:{write:!0}})],ie.prototype,"transform",void 0),ie=H=(0,oe._)([(0,ae.j)("esri.layers.support.RasterInfo")],ie);const $=ie},27497:(Ie,Ae,se)=>{se.d(Ae,{Z:()=>ye});var D,oe=se(17626),_e=se(86810),Te=se(58817),xe=se(77712),Ce=(se(90912),se(76898)),ae=se(72642);let pe=D=class extends _e.wq{constructor(){super(...arguments),this.blockWidth=void 0,this.blockHeight=void 0,this.compression=null,this.origin=null,this.firstPyramidLevel=null,this.maximumPyramidLevel=null,this.pyramidScalingFactor=2,this.pyramidBlockWidth=null,this.pyramidBlockHeight=null,this.isVirtualTileInfo=!1,this.tileInfo=null,this.transposeInfo=null,this.blockBoundary=null}clone(){return new D({blockWidth:this.blockWidth,blockHeight:this.blockHeight,compression:this.compression,origin:(0,Te.d9)(this.origin),firstPyramidLevel:this.firstPyramidLevel,maximumPyramidLevel:this.maximumPyramidLevel,pyramidResolutions:(0,Te.d9)(this.pyramidResolutions),pyramidScalingFactor:this.pyramidScalingFactor,pyramidBlockWidth:this.pyramidBlockWidth,pyramidBlockHeight:this.pyramidBlockHeight,isVirtualTileInfo:this.isVirtualTileInfo,tileInfo:(0,Te.d9)(this.tileInfo),transposeInfo:(0,Te.d9)(this.transposeInfo),blockBoundary:(0,Te.d9)(this.blockBoundary)})}};(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"blockWidth",void 0),(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"blockHeight",void 0),(0,oe._)([(0,xe.Cb)({type:String,json:{write:!0}})],pe.prototype,"compression",void 0),(0,oe._)([(0,xe.Cb)({type:ae.Z,json:{write:!0}})],pe.prototype,"origin",void 0),(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"firstPyramidLevel",void 0),(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"maximumPyramidLevel",void 0),(0,oe._)([(0,xe.Cb)({json:{write:!0}})],pe.prototype,"pyramidResolutions",void 0),(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"pyramidScalingFactor",void 0),(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"pyramidBlockWidth",void 0),(0,oe._)([(0,xe.Cb)({type:Number,json:{write:!0}})],pe.prototype,"pyramidBlockHeight",void 0),(0,oe._)([(0,xe.Cb)({type:Boolean,json:{write:!0}})],pe.prototype,"isVirtualTileInfo",void 0),(0,oe._)([(0,xe.Cb)({json:{write:!0}})],pe.prototype,"tileInfo",void 0),(0,oe._)([(0,xe.Cb)()],pe.prototype,"transposeInfo",void 0),(0,oe._)([(0,xe.Cb)()],pe.prototype,"blockBoundary",void 0),pe=D=(0,oe._)([(0,Ce.j)("esri.layers.support.RasterStorageInfo")],pe);const ye=pe},15365:(Ie,Ae,se)=>{function oe(_e,Te){let xe=0,de="",Ce=0,ae=0;const D=_e.length;for(;xe<D;)ae=_e[xe++],Ce=ae>>4,Ce<8?Ce=1:15===Ce?(Ce=4,ae=(7&ae)<<18|(63&_e[xe++])<<12|(63&_e[xe++])<<6|63&_e[xe++]):14===Ce?(Ce=3,ae=(15&ae)<<12|(63&_e[xe++])<<6|63&_e[xe++]):(Ce=2,ae=(31&ae)<<6|63&_e[xe++]),(0!==ae||Te)&&(de+=String.fromCharCode(ae));return de}se.d(Ae,{f:()=>oe})},68786:(Ie,Ae,se)=>{se.d(Ae,{Jx:()=>ie,zD:()=>de});var oe=se(54346);const _e=[{pixelType:"S8",size:1,ctor:Int8Array,range:[-128,127]},{pixelType:"U8",size:1,ctor:Uint8Array,range:[0,255]},{pixelType:"S16",size:2,ctor:Int16Array,range:[-32768,32767]},{pixelType:"U16",size:2,ctor:Uint16Array,range:[0,65536]},{pixelType:"S32",size:4,ctor:Int32Array,range:[-2147483648,2147483647]},{pixelType:"U32",size:4,ctor:Uint32Array,range:[0,4294967296]},{pixelType:"F32",size:4,ctor:Float32Array,range:[-34027999387901484e22,34027999387901484e22]},{pixelType:"F64",size:8,ctor:Float64Array,range:[-17976931348623157e292,17976931348623157e292]}];let Te=null,xe=null;function de(){return Te||(Te=se.e(2045).then(se.bind(se,72045)).then(le=>le.l).then(({default:le})=>le({locateFile:Q=>(0,oe.V)(`esri/layers/support/rasterFormats/${Q}`)})).then(le=>{(function ye(le){const{_malloc:Q,_free:K,_lerc_getBlobInfo:ue,_lerc_getDataRanges:J,_lerc_decode_4D:Z,asm:X}=le;let E;const W=Object.values(X).find(u=>u&&"buffer"in u&&u.buffer===le.HEAPU8.buffer),R=u=>{const M=u.map(b=>function D(le){return 16+(le>>3<<3)}(b)),x=M.reduce((b,B)=>b+B),f=Q(x);E=new Uint8Array(W.buffer);let m=M[0];M[0]=f;for(let b=1;b<M.length;b++){const B=M[b];M[b]=M[b-1]+m,m=B}return M};ae.getBlobInfo=u=>{const f=new Uint8Array(48),m=new Uint8Array(24),[b,B,P]=R([u.length,f.length,m.length]);E.set(u,b),E.set(f,B),E.set(m,P);let w=ue(b,u.length,B,P,12,3);if(w)throw K(b),new Error(`lerc-getBlobInfo: error code is ${w}`);E=new Uint8Array(W.buffer),pe(E,B,f),pe(E,P,m);const A=new Uint32Array(f.buffer),G=new Float64Array(m.buffer),[F,N,,O,s,c,h,C,_,t,g]=A,v={version:F,depthCount:t,width:O,height:s,validPixelCount:h,bandCount:c,blobSize:C,maskCount:_,dataType:N,minValue:G[0],maxValue:G[1],maxZerror:G[2],statistics:[],bandCountWithNoData:g};if(g)return v;if(1===t&&1===c)return K(b),v.statistics.push({minValue:G[0],maxValue:G[1]}),v;const I=t*c*8,U=new Uint8Array(I),i=new Uint8Array(I);let p=b,y=0,d=0,k=!1;if(E.byteLength<b+2*I?(K(b),k=!0,[p,y,d]=R([u.length,I,I]),E.set(u,p)):[y,d]=R([I,I]),E.set(U,y),E.set(i,d),w=J(p,u.length,t,c,y,d),w)throw K(p),k||K(y),new Error(`lerc-getDataRanges: error code is ${w}`);E=new Uint8Array(W.buffer),pe(E,y,U),pe(E,d,i);const T=new Float64Array(U.buffer),S=new Float64Array(i.buffer),L=v.statistics;for(let j=0;j<c;j++)if(t>1){const z=T.slice(j*t,(j+1)*t),V=S.slice(j*t,(j+1)*t),re=Math.min.apply(null,z),he=Math.max.apply(null,V);L.push({minValue:re,maxValue:he,depthStats:{minValues:z,maxValues:V}})}else L.push({minValue:T[j],maxValue:S[j]});return K(p),k||K(y),v},ae.decode=(u,M)=>{const{maskCount:x,depthCount:f,bandCount:m,width:b,height:B,dataType:P,bandCountWithNoData:w}=M,A=_e[P],G=b*B,F=new Uint8Array(G*m),O=new Uint8Array(G*f*m*A.size),s=new Uint8Array(m),c=new Uint8Array(8*m),[h,C,_,t,g]=R([u.length,F.length,O.length,s.length,c.length]);E.set(u,h),E.set(F,C),E.set(O,_),E.set(s,t),E.set(c,g);const v=Z(h,u.length,x,C,f,b,B,m,P,_,t,g);if(v)throw K(h),new Error(`lerc-decode: error code is ${v}`);E=new Uint8Array(W.buffer),pe(E,_,O),pe(E,C,F);let I=null;if(w){pe(E,t,s),pe(E,g,c),I=[];const U=new Float64Array(c.buffer);for(let i=0;i<s.length;i++)I.push(s[i]?U[i]:null)}return K(h),{data:O,maskData:F,noDataValues:I}}})(le),xe=!0}),Te)}const ae={getBlobInfo:null,decode:null};function pe(le,Q,K){K.set(le.slice(Q,Q+K.length))}function H(le,Q,K,ue,J){if(K<2)return le;const Z=new ue(Q*K);if(J)for(let X=0,E=0;X<Q;X++)for(let W=0,R=X;W<K;W++,R+=Q)Z[R]=le[E++];else for(let X=0,E=0;X<Q;X++)for(let W=0,R=X;W<K;W++,R+=Q)Z[E++]=le[R];return Z}function ie(le,Q={}){const K=Q.inputOffset??0,ue=le instanceof Uint8Array?le.subarray(K):new Uint8Array(le,K),J=ae.getBlobInfo(ue),{data:Z,maskData:X,noDataValues:E}=ae.decode(ue,J),{width:W,height:R,bandCount:u,depthCount:M,dataType:x,maskCount:f,statistics:m}=J,b=_e[x],B=new b.ctor(Z.buffer),P=[],w=[],A=W*R,G=A*M;for(let h=0;h<u;h++){const C=B.subarray(h*G,(h+1)*G);if(Q.returnInterleaved)P.push(C);else{const _=H(C,A,M,b.ctor,!0);P.push(_)}w.push(X.subarray(h*G,(h+1)*G))}const F=0===f?null:1===f?w[0]:new Uint8Array(A);if(f>1){F.set(w[0]);for(let h=1;h<w.length;h++){const C=w[h];for(let _=0;_<A;_++)F[_]=F[_]&C[_]}}const{noDataValue:N}=Q;if(f>0&&null!=N&&b.range[0]<=N&&b.range[1]>=N)for(let h=0;h<u;h++){const C=P[h],_=w[h]||F;for(let t=0;t<A;t++)0===_[t]&&(C[t]=N)}const s=f===u&&u>1?w:null,{pixelType:c}=b;return{width:W,height:R,bandCount:u,pixelType:c,depthCount:M,statistics:m,pixels:P,mask:F,bandMasks:s,noDataValues:E}}},94194:(Ie,Ae,se)=>{function _e(){const Ce=[];for(let ae=0;ae<=257;ae++)Ce[ae]=[ae];return Ce}function Te(Ce,ae){for(let D=0;D<ae.length;D++)Ce.push(ae[D])}se.d(Ae,{J:()=>de});const xe=new Set;function de(Ce,ae,D,pe=!0){const ye=function oe(Ce,ae,D,pe=!0){if(ae%4!=0||D%4!=0){const ye=new ArrayBuffer(4*Math.ceil(D/4)),H=new Uint8Array(ye),ie=new Uint8Array(Ce,ae,D);if(pe)for(let $=0;$<H.length;$+=4)H[$]=ie[$+3],H[$+1]=ie[$+2],H[$+2]=ie[$+1],H[$+3]=ie[$];else H.set(ie);return new Uint32Array(H.buffer)}if(pe){const ye=new Uint8Array(Ce,ae,D),H=new Uint8Array(ye.length);for(let ie=0;ie<H.length;ie+=4)H[ie]=ye[ie+3],H[ie+1]=ye[ie+2],H[ie+2]=ye[ie+1],H[ie+3]=ye[ie];return new Uint32Array(H.buffer)}return new Uint32Array(Ce,ae,D/4)}(Ce,ae,D,pe);let H=9,ie=_e(),$=32,le=ie.length,Q=[],K=1,ue=ye[0],J=0;const Z=ye.length,X=8*(4*Z-D),E=[];for(;null!=ue;){if($>=H)$-=H,J=ue>>>32-H,ue<<=H;else{J=ue>>>32-$,ue=ye[K++];const R=H-$;$=32-R,J=(J<<R)+(ue>>>$),ue<<=R}if(257===J)break;if(256===J){H=9,ie=_e(),le=ie.length,Q=[];continue}const W=ie[J];if(null==W){if(J>ie.length)throw new Error("data integrity issue: code does not exist on code page");Q.push(Q[0]),ie[le++]=Q.slice(),Te(E,Q)}else Te(E,W),Q.push(W[0]),Q.length>1&&(ie[le++]=Q.slice()),Q=W.slice();if(xe.has(le)&&H++,0===$&&(ue=ye[K++],$=32),K>Z||K===Z&&$<=X)break}return new Uint8Array(E)}xe.add(511),xe.add(1023),xe.add(2047),xe.add(4095),xe.add(8191)},8614:(Ie,Ae,se)=>{se.d(Ae,{J:()=>h,y:()=>c});var oe=se(15861),_e=se(26584),Te=se(62208),xe=se(25688),de=se(10699),Ce=se(34022);class ae{constructor(t){this._canvas=null,this._ctx=null,t&&(this._canvas=t.canvas,this._ctx=t.ctx||t.canvas&&t.canvas.getContext("2d"))}decode(t,g,v){if(!t||t.byteLength<10)throw new _e.Z("imagecanvasdecoder: decode","required a valid encoded data as input.");let{width:I=0,height:U=0,format:i}=g;const{applyJpegMask:p}=g;if(p&&(!I||!U))throw new _e.Z("imagecanvasdecoder: decode","image width and height are needed to apply jpeg mask directly to canvas");return new Promise((y,d)=>{let k=null;"jpg"===i&&p&&(k=ae._getMask(t,{width:I,height:U}));const T=new Blob([new Uint8Array(t)],{type:"image/"+i=="jpg"?"jpeg":i}),S=URL.createObjectURL(T),L=new Image;let j;L.src=S,L.onload=()=>{if(URL.revokeObjectURL(S),(0,de.Hc)(v))return void d((0,de.zE)());I=L.width,U=L.height,this._canvas&&this._ctx?(this._canvas.width===I&&this._canvas.height===U||(this._canvas.width=I,this._canvas.height=U),this._ctx.clearRect(0,0,I,U)):(this._canvas=document.createElement("canvas"),this._canvas.width=I,this._canvas.height=U,this._ctx=this._canvas.getContext("2d")),this._ctx.drawImage(L,0,0);const z=this._ctx.getImageData(0,0,I,U);let V;if(j=z.data,g.renderOnCanvas){if(k)for(V=0;V<k.length;V++)j[4*V+3]=k[V]?255:0;return this._ctx.putImageData(z,0,0),void y(null)}const re=I*U,he=new Uint8Array(re),ee=new Uint8Array(re),te=new Uint8Array(re);if(k)for(V=0;V<re;V++)he[V]=j[4*V],ee[V]=j[4*V+1],te[V]=j[4*V+2];else for(k=new Uint8Array(re),V=0;V<re;V++)he[V]=j[4*V],ee[V]=j[4*V+1],te[V]=j[4*V+2],k[V]=j[4*V+3];y({width:I,height:U,pixels:[he,ee,te],mask:k,pixelType:"u8"})},L.onerror=()=>{URL.revokeObjectURL(S),d("cannot load image")}})}static _getMask(t,g){let v=null;try{const I=new Uint8Array(t),U=Math.ceil(I.length/2);let i=0;const p=I.length-2;for(i=U;i<p&&(255!==I[i]||217!==I[i+1]);i++);if(i+=2,i<I.length-1){const y=new Ce.Z(I.subarray(i)).getBytes();v=new Uint8Array(g.width*g.height);let d=0;for(let k=0;k<y.length;k++)for(let T=7;T>=0;T--)v[d++]=y[k]>>T&1}}catch{}return v}}var D=se(89890);class pe{static decode(t,g=!1){const v=new Uint8Array(t),I=new D.J;I.parse(v);const{width:U,height:i,numComponents:p,eof:y}=I,d=I.getData(U,i,!0),k=U*i;let T,S=null,L=0,j=0,z=0;if(!g&&y<v.length-1)try{const V=new Ce.Z(v.subarray(y)).getBytes();S=new Uint8Array(k);let re=0;for(L=0;L<V.length;L++)for(z=7;z>=0;z--)S[re++]=V[L]>>z&1}catch{}if(1===p&&d.length===U*i){const V=new Uint8Array(d.buffer);T=[V,V,V]}else{for(T=[],L=0;L<3;L++)T.push(new Uint8Array(k));for(z=0,j=0;j<k;j++)for(L=0;L<3;L++)T[L][j]=d[z++]}return{width:U,height:i,pixels:T,mask:S}}}var ye=se(68786),H=se(94194),ie=se(67313);const $=(_,t)=>Math.floor(_.byteLength/(t.width*t.height*le(t.pixelType))),le=_=>{let t=1;switch(_){case Uint8Array:case Int8Array:t=1;break;case Uint16Array:case Int16Array:t=2;break;case Uint32Array:case Int32Array:case Float32Array:t=4;break;case Float64Array:t=8}return t};class K{static decode(t,g){const v=g.pixelType,I=[],U=g.width*g.height,i=$(t,g),{bandIds:p,format:y}=g,d=p&&p.length||$(t,g),k=t.byteLength-t.byteLength%(U*le(v)),T=new v(t,0,U*i);let S,L,j,z,V=null;if("bip"===y)for(S=0;S<d;S++){for(j=new v(U),z=p?p[S]:S,L=0;L<U;L++)j[L]=T[L*i+z];I.push(j)}else if("bsq"===y)for(S=0;S<d;S++)z=p?p[S]:S,I.push(T.subarray(z*U,(z+1)*U));return k<t.byteLength-1&&(V=((_,t)=>{if(8*_.byteLength<t)return null;const g=new Uint8Array(_,0,Math.ceil(t/8)),v=new Uint8Array(t);let I=0,U=0,i=0,p=0;for(i=0;i<g.length-1;i++)for(U=g[i],p=7;p>=0;p--)v[I++]=U>>p&1;for(p=7;I<t-1;)U=g[g.length-1],v[I++]=U>>p&1,p--;return v})(t.slice(k),U)),{pixels:I,mask:V}}}var ue=se(93122),J=se(44853),Z=function(_){var I,U,i;function p(y){var d,T,S,L,j,z,V,re,he,ee,te,ne;for(this.data=y,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},L=null;;){switch(d=this.readUInt32(),V=function(){var ce,Y;for(Y=[],ce=0;ce<4;++ce)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(d);break;case"fcTL":L&&this.animation.frames.push(L),this.pos+=4,L={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},S=this.readUInt16(),T=this.readUInt16()||100,L.delay=1e3*S/T,L.disposeOp=this.data[this.pos++],L.blendOp=this.data[this.pos++],L.data=[];break;case"IDAT":case"fdAT":for("fdAT"===V&&(this.pos+=4,d-=4),y=L?.data||this.imgData,ee=0;0<=d?ee<d:ee>d;0<=d?++ee:--ee)y.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(d),(re=255-this.transparency.indexed.length)>0)for(te=0;0<=re?te<re:te>re;0<=re?++te:--te)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(d)[0];break;case 2:this.transparency.rgb=this.read(d)}break;case"tEXt":j=(he=this.read(d)).indexOf(0),z=String.fromCharCode.apply(String,he.slice(0,j)),this.text[z]=String.fromCharCode.apply(String,he.slice(j+1));break;case"IEND":return L&&this.animation.frames.push(L),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(ne=this.colorType)||6===ne,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=d}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return p.load=function(y,d,k){var T;return"function"==typeof d&&(k=d),(T=new XMLHttpRequest).open("GET",y,!0),T.responseType="arraybuffer",T.onload=function(){var S;return S=new p(new Uint8Array(T.response||T.mozResponseArrayBuffer)),"function"==typeof d?.getContext&&S.render(d),"function"==typeof k?k(S):void 0},T.send(null)},p.prototype.read=function(y){var d,k;for(k=[],d=0;0<=y?d<y:d>y;0<=y?++d:--d)k.push(this.data[this.pos++]);return k},p.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},p.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},p.prototype.decodePixels=function(y){var d,k,T,S,L,j,z,V,he,ee,te,ne,ce,Y,q,fe,ve,me,we,ge,be,Ee;if(null==y&&(y=this.imgData),0===y.length)return new Uint8Array(0);for(y=(y=new Ce.Z(y)).getBytes(),q=(te=this.pixelBitlength/8)*this.width,ne=new Uint8Array(q*this.height),j=y.length,Y=0,ce=0,k=0;ce<j;){switch(y[ce++]){case 0:for(S=me=0;me<q;S=me+=1)ne[k++]=y[ce++];break;case 1:for(S=we=0;we<q;S=we+=1)d=y[ce++],L=S<te?0:ne[k-te],ne[k++]=(d+L)%256;break;case 2:for(S=ge=0;ge<q;S=ge+=1)d=y[ce++],T=(S-S%te)/te,ne[k++]=((fe=Y&&ne[(Y-1)*q+T*te+S%te])+d)%256;break;case 3:for(S=be=0;be<q;S=be+=1)d=y[ce++],T=(S-S%te)/te,L=S<te?0:ne[k-te],fe=Y&&ne[(Y-1)*q+T*te+S%te],ne[k++]=(d+Math.floor((L+fe)/2))%256;break;case 4:for(S=Ee=0;Ee<q;S=Ee+=1)d=y[ce++],T=(S-S%te)/te,0===Y?fe=ve=0:(fe=ne[(Y-1)*q+T*te+S%te],ve=T&&ne[(Y-1)*q+(T-1)*te+S%te]),z=(L=S<te?0:ne[k-te])+fe-ve,V=Math.abs(z-L),he=Math.abs(z-fe),ee=Math.abs(z-ve),ne[k++]=(d+(V<=he&&V<=ee?L:he<=ee?fe:ve))%256;break;default:throw new Error("Invalid filter algorithm: "+y[ce-1])}Y++}return ne},p.prototype.decodePalette=function(){var y,d,k,T,S,L,j,z,V;for(k=this.palette,L=this.transparency.indexed||[],S=new Uint8Array((L.length||0)+k.length),T=0,y=0,d=j=0,z=k.length;j<z;d=j+=3)S[T++]=k[d],S[T++]=k[d+1],S[T++]=k[d+2],S[T++]=null!=(V=L[y++])?V:255;return S},p.prototype.copyToImageData=function(y,d){var k,T,S,L,j,z,V,re,he,ee,te;if(T=this.colors,he=null,k=this.hasAlphaChannel,this.palette.length&&(he=null!=(te=this._decodedPalette)?te:this._decodedPalette=this.decodePalette(),T=4,k=!0),re=(S=y.data||y).length,j=he||d,L=z=0,1===T)for(;L<re;)V=he?4*d[L/4]:z,ee=j[V++],S[L++]=ee,S[L++]=ee,S[L++]=ee,S[L++]=k?j[V++]:this.transparency.grayscale&&this.transparency.grayscale===ee?0:255,z=V;else for(;L<re;)V=he?4*d[L/4]:z,S[L++]=j[V++],S[L++]=j[V++],S[L++]=j[V++],S[L++]=k?j[V++]:this.transparency.rgb&&this.transparency.rgb[1]===j[V-3]&&this.transparency.rgb[3]===j[V-2]&&this.transparency.rgb[5]===j[V-1]?0:255,z=V},p.prototype.decode=function(){var y;return y=new Uint8Array(this.width*this.height*4),this.copyToImageData(y,this.decodePixels()),y},U=_.document&&_.document.createElement("canvas"),i=U&&U.getContext("2d"),I=function(y){var d;return i.width=y.width,i.height=y.height,i.clearRect(0,0,y.width,y.height),i.putImageData(y,0,0),(d=new Image).src=U.toDataURL(),d},p.prototype.decodeFrames=function(y){var d,k,T,S,L,j,z,V;if(this.animation){for(V=[],k=L=0,j=(z=this.animation.frames).length;L<j;k=++L)T=y.createImageData((d=z[k]).width,d.height),S=this.decodePixels(new Uint8Array(d.data)),this.copyToImageData(T,S),d.imageData=T,V.push(d.image=I(T));return V}},p.prototype.renderFrame=function(y,d){var k,T,S;return k=(T=this.animation.frames)[d],S=T[d-1],0===d&&y.clearRect(0,0,this.width,this.height),1===S?.disposeOp?y.clearRect(S.xOffset,S.yOffset,S.width,S.height):2===S?.disposeOp&&y.putImageData(S.imageData,S.xOffset,S.yOffset),0===k.blendOp&&y.clearRect(k.xOffset,k.yOffset,k.width,k.height),y.drawImage(k.image,k.xOffset,k.yOffset)},p.prototype.animate=function(y){var d,k,T,S,L,j,z=this;return k=0,S=(j=this.animation).numFrames,T=j.frames,L=j.numPlays,(d=function(){var V,re;if(V=k++%S,re=T[V],z.renderFrame(y,V),S>1&&k/S<L)return z.animation._timeout=setTimeout(d,re.delay)})()},p.prototype.stopAnimation=function(){var y;return clearTimeout(null!=(y=this.animation)?y._timeout:void 0)},p.prototype.render=function(y){var d,k;return y._png&&y._png.stopAnimation(),y._png=this,y.width=this.width,y.height=this.height,d=y.getContext("2d"),this.animation?(this.decodeFrames(d),this.animate(d)):(k=d.createImageData(this.width,this.height),this.copyToImageData(k,this.decodePixels()),d.putImageData(k,0,0))},p}(self);const X=new Set(["jpg","png","bmp","gif"]);function E(_,t){return W.apply(this,arguments)}function W(){return(W=(0,oe.Z)(function*(_,t){if(!J.f)throw new _e.Z("rasterCoded:decode","lerc decoder is not supported on big endian platform");yield(0,ye.zD)();const{offset:g}=t,{width:v,height:I,pixelType:U,statistics:i,depthCount:p,noDataValues:y,bandMasks:d,pixels:k,mask:T}=(0,ye.Jx)(_,{inputOffset:g,returnInterleaved:t.returnInterleaved});return new xe.Z({width:v,height:I,pixelType:U.toLowerCase(),pixels:k,mask:T,statistics:i,bandMasks:d,depthCount:p,noDataValues:y})})).apply(this,arguments)}function R(_,t){return u.apply(this,arguments)}function u(){return(u=(0,oe.Z)(function*(_,t){const g=yield(0,ue.Jx)(_,{...t,noDataValue:null});(0,Te.O3)(g);const v=new xe.Z({width:g.width,height:g.height,pixels:g.pixels,pixelType:g.pixelType.toLowerCase(),mask:g.mask,statistics:null});return v.updateStatistics(),v})).apply(this,arguments)}function x(){return(x=(0,oe.Z)(function*(_,t){const g=yield(0,ue.Uw)(_,t.customOptions),v=new xe.Z({width:g.width,height:g.height,pixels:g.pixels,pixelType:g.pixelType.toLowerCase(),mask:g.mask,statistics:null});return v.updateStatistics(),v})).apply(this,arguments)}function f(_,t){const g=t.pixelType||"u8",v=xe.Z.getPixelArrayConstructor(g),I="u8"===g?_:new v(_.buffer),U=[],i=t.planes||1;if(1===i)U.push(I);else for(let y=0;y<i;y++){const d=(t.width||1)*(t.height||_.length),k=new v(d);for(let T=0;T<d;T++)k[T]=I[T*i+y];U.push(k)}const p=new xe.Z({width:t.width||1,height:t.height||_.length,pixels:U,pixelType:g,statistics:null});return p.updateStatistics(),p}function m(_,t){return f(new Ce.Z(new Uint8Array(_)).getBytes(),t)}function b(_,t){return f((0,H.J)(_,t.offset,t.eof,!t.isInputBigEndian),t)}function P(_,t){const g=pe.decode(_,t.hasNoZlibMask??void 0),v=new xe.Z({width:g.width,height:g.height,pixels:g.pixels,pixelType:"U8",mask:g.mask,statistics:null});return v.updateStatistics(),v}function w(_,t){const g=new Uint8Array(_),v=new Z(g),{width:I,height:U}=t,i=I*U,p=v.decode();let y,d=0,k=0;const T=new Uint8Array(i);for(d=0;d<i;d++)T[d]=p[4*d+3];const S=new xe.Z({width:I,height:U,pixels:[],pixelType:"U8",mask:T,statistics:[]});for(d=0;d<3;d++){for(y=new Uint8Array(i),k=0;k<i;k++)y[k]=p[4*k+d];S.addData({pixels:y})}return S.updateStatistics(),S}function G(){return(G=(0,oe.Z)(function*(_,t,g,v){const I=new ae,U={applyJpegMask:!1,format:t,...g},i=yield I.decode(_,U,v),p=new xe.Z(i);return p.updateStatistics(),p})).apply(this,arguments)}function F(_){if(null==_)throw new _e.Z("rasterCodec:decode","parameter encodeddata is required.");const t=new Uint8Array(_,0,10);let g="";return 255===t[0]&&216===t[1]?g="jpg":137===t[0]&&80===t[1]&&78===t[2]&&71===t[3]?g="png":67===t[0]&&110===t[1]&&116===t[2]&&90===t[3]&&73===t[4]&&109===t[5]&&97===t[6]&&103===t[7]&&101===t[8]&&32===t[9]?g="lerc":76===t[0]&&101===t[1]&&114===t[2]&&99===t[3]&&50===t[4]&&32===t[5]?g="lerc2":73===t[0]&&73===t[1]&&42===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&42===t[3]||73===t[0]&&73===t[1]&&43===t[2]&&0===t[3]||77===t[0]&&77===t[1]&&0===t[2]&&43===t[3]?g="tiff":71===t[0]&&73===t[1]&&70===t[2]?g="gif":66===t[0]&&77===t[1]?g="bmp":String.fromCharCode.apply(null,t).toLowerCase().includes("error")&&(g="error"),g}function c(_){let t=F(_);return"lerc2"===t?t="lerc":"error"===t&&(t=""),t}function h(_){return C.apply(this,arguments)}function C(){return C=(0,oe.Z)(function*(_,t={},g){if(null==_)throw new _e.Z("rasterCodec:decode","missing encodeddata parameter.");let v=t.format&&t.format.toLowerCase();if(!("bsq"!==v&&"bip"!==v||null!=t.width&&null!=t.height))throw new _e.Z("rasterCodec:decode","requires width and height in options parameter.");if("tiff"===v&&t.customOptions)return function M(_,t){return x.apply(this,arguments)}(_,t);if((!v||"bsq"!==v&&"bip"!==v&&"deflate"!==v&&"lzw"!==v)&&(v=F(_)),t.useCanvas&&X.has(v))return function A(_,t,g,v){return G.apply(this,arguments)}(_,v,t,g);const I=function N(_){let t=null;switch(_){case"lerc":case"lerc2":t=E;break;case"jpg":t=P;break;case"png":t=w;break;case"bsq":case"bip":t=(g,v)=>function B(_,t,g){const{pixelTypeCtor:v}=function O(_){let t=null,g=null;switch(_?_.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":g=255,t=Uint8Array;break;case"u16":g=g||65535,t=Uint16Array;break;case"u32":g=g||2**32-1,t=Uint32Array;break;case"s8":g=g||-128,t=Int8Array;break;case"s16":g=g||-32768,t=Int16Array;break;case"s32":g=g||0-2**31,t=Int32Array;break;default:t=Float32Array}return{pixelTypeCtor:t,noDataValue:g}}(t.pixelType),I=(0,K.decode)(_,{width:t.width,height:t.height,pixelType:v,format:g}),U=new xe.Z({width:t.width,height:t.height,pixels:I.pixels,pixelType:t.pixelType,mask:I.mask,statistics:null});return U.updateStatistics(),U}(g,v,_);break;case"tiff":t=R;break;case"deflate":t=m;break;case"lzw":t=b;break;case"error":t=()=>{throw new _e.Z("rasterCodec:decode","input data contains error")};break;default:t=()=>{throw new _e.Z("rasterCodec:decode","unsupported raster format")}}return t}(v);t.isPoint&&(null!=(t={...t}).width&&t.width++,null!=t.height&&t.height++);const U=yield I(_,t);return U&&("jpg"!==v&&null!=t.noDataValue&&1===U.depthCount&&(0,ie.A)(U,t.noDataValue,{customFloatTolerance:t.tolerance}),t.isPoint&&function s(_,t=1){if(!_)return;const{pixels:g,width:v,height:I,mask:U}=_;if(!g||0===g.length)return;const i=g.length,p=v-1,y=I-1,d=[];let k,T,S,L,j,z,V=null;const re=xe.Z.getPixelArrayConstructor(_.pixelType);if(0===t){for(k=0;k<i;k++){for(j=g[k],z=new re(p*y),T=0;T<y;T++)for(L=T*v,S=0;S<p;S++)z[T*p+S]=j[L+S];d.push(z)}if((0,Te.pC)(U))for(V=new Uint8Array(p*y),T=0;T<y;T++)for(L=T*v,S=0;S<p;S++)V[T*p+S]=U[L+S]}else{for(k=0;k<i;k++){for(j=g[k],z=new re(p*y),T=0;T<y;T++)for(L=T*v,S=0;S<p;S++)z[T*p+S]=(j[L+S]+j[L+S+1]+j[L+v+S]+j[L+v+S+1])/4;d.push(z)}if(U)for(V=new Uint8Array(p*y),T=0;T<y;T++)for(L=T*v,S=0;S<p;S++)V[T*p+S]=Math.min.apply(null,[U[L+S],U[L+S+1],U[L+v+S],U[L+v+S+1]])}_.width=p,_.height=y,_.mask=V,_.pixels=d}(U),U)}),C.apply(this,arguments)}},93122:(Ie,Ae,se)=>{se.d(Ae,{Dq:()=>w,FI:()=>A,I7:()=>N,If:()=>G,Jx:()=>I,Uw:()=>g,cK:()=>C,ee:()=>F,vr:()=>_});var oe=se(15861),_e=se(15365),Te=se(89890),xe=se(68786),de=se(94194),Ce=se(67313),ae=se(635),D=se(44853),pe=se(34022);const ye=[0,1,1,2,4,8,1,1,2,4,8,4,8,-1,-1,-1,8,8,8],H=4294967296,ie=new Set([1,5,6,7,8,34712,34887]);function $(i,p){let y="unknown";return 3===i?y=64===p?"f64":"f32":1===i?1===p?y="u1":2===p?y="u2":4===p?y="u4":p<=8?y="u8":p<=16?y="u16":p<=32&&(y="u32"):2===i&&(p<=8?y="s8":p<=16?y="s16":p<=32&&(y="s32")),y}function le(i){let p=null;switch(i?i.toLowerCase():"f32"){case"u1":case"u2":case"u4":case"u8":p=Uint8Array;break;case"u16":p=Uint16Array;break;case"u32":p=Uint32Array;break;case"s8":p=Int8Array;break;case"s16":p=Int16Array;break;case"s32":p=Int32Array;break;case"f64":p=Float64Array;break;default:p=Float32Array}return p}function Q(i,p){return{x:p[0]*i.x+p[1]*i.y+p[2],y:p[3]*i.x+p[4]*i.y+p[5]}}function K(i,p){return i.get(p)?.values}function ue(i,p){return i.get(p)?.values}function J(i,p){return i.get(p)?.values?.[0]}function Z(i,p){return i.get(p)?.values?.[0]}function X(i,p,y,d=0,k=ae.Z.TIFF_TAGS,T=4){const S=8===T,L=S?s(new DataView(i,y,8),0,p):new DataView(i,y,2).getUint16(0,p),j=4+2*T,z=S?8:2,V=z+L*j;if(y+V>i.byteLength)return{success:!1,ifd:null,nextIFD:null,requiredBufferSize:V};const re=y+V+4<=i.byteLength?h(new DataView(i,y+V,8===T?8:4),0,p,8===T):null,he=y+z,ee=new Map;let te,ne,ce,Y,q,fe=0,ve=0;for(let me=0;me<L;me++){ne=new DataView(i,he+j*me,j),ce=ne.getUint16(0,p),q=ne.getUint16(2,p),Y=ae.Z.getTagName(ce,k);const we=[];2===T?(fe=ne.getUint16(4,p),ve=ne.getUint16(6,p)):4===T?(fe=ne.getUint32(4,p),ve=ne.getUint32(8,p)):8===T&&(fe=h(ne,4,p,!0),ve=h(ne,12,p,!0),we.push(ne.getUint32(12,p)),we.push(ne.getUint32(16,p))),te={id:ce,type:q,valueCount:fe,valueOffset:ve,valueOffsets:we,values:null},w(i,p,te,d,!1,T),ee.set(Y,te)}return{success:!0,ifd:ee,nextIFD:re,requiredBufferSize:V}}const E=(i,p)=>(0,xe.Jx)(i,{inputOffset:p}).pixels[0];function W(i,p){if(1!==p&&2!==p&&4!==p)return i;const y=new Uint8Array(i),d=8/p,k=new Uint8Array(i.byteLength*d);let T=0;const S=2**p-1;for(let L=0;L<y.length;L++){const j=y[L];for(let z=0;z<d;z++)k[T++]=j<<p*z>>>8-p&S}return k.buffer}function R(i,p,y){const d=new Te.J;d.parse(i),d.colorTransform=6===y?-1:0;const k=d.getData(d.width,d.height,1!==p);return new Uint8Array(k.buffer)}function u(i){const p=new pe.Z(i).getBytes(),y=new ArrayBuffer(p.length),d=new Uint8Array(y);return d.set(p),d}function M(i,p,y,d,k){return x.apply(this,arguments)}function x(){return(x=(0,oe.Z)(function*(i,p,y,d,k){const T=D.f===p,S=Z(y,"BITSPERSAMPLE"),L=Z(y,"SAMPLESPERPIXEL"),j=Z(y,"PHOTOMETRICINTERPRETATION"),z=$(Z(y,"SAMPLEFORMAT")??1,S),V=Z(y,"COMPRESSION")??1,re=le(z);let he,ee,te;if(34887===V)return yield(0,xe.zD)(),E(i,d);if(1===V)he=i.slice(d,d+k),ee=new Uint8Array(he);else if(8===V||32946===V)ee=new Uint8Array(i,d,k),ee=u(ee),he=ee.buffer;else if(6===V)ee=new Uint8Array(i,d,k),ee=R(ee,L,j),he=ee.buffer;else if(7===V){const ne=y.get("JPEGTABLES").values,ce=ne.length-2;ee=new Uint8Array(ce+k-2);for(let q=0;q<ce;q++)ee[q]=ne[q];const Y=new Uint8Array(i,d+2,k-2);for(let q=0;q<Y.length;q++)ee[ce+q]=Y[q];ee=R(ee,L,j),he=ee.buffer}else{if(5!==V)throw new Error("tiff-decode: unsupport compression "+V);ee=(0,de.J)(i,d,k,p),he=ee.buffer}if(he=W(he,S),"u8"===z||"s8"===z||T)te=new re(he);else{he=new ArrayBuffer(ee.length);const ne=new Uint8Array(he);switch(z){case"u16":case"s16":for(let ce=0;ce<ee.length;ce+=2)ne[ce]=ee[ce+1],ne[ce+1]=ee[ce];break;case"u32":case"s32":case"f32":for(let ce=0;ce<ee.length;ce+=4)ne[ce]=ee[ce+3],ne[ce+1]=ee[ce+2],ne[ce+2]=ee[ce+1],ne[ce+3]=ee[ce]}te=new re(he)}return te})).apply(this,arguments)}function m(){return(m=(0,oe.Z)(function*(i,p,y){const d=ue(y,"TILEOFFSETS");if(void 0===d)return null;const k=ue(y,"TILEBYTECOUNTS"),{width:T,height:S,pixelType:L,tileWidth:j,tileHeight:z}=A([y]),V=G(y,p),re=Z(y,"SAMPLESPERPIXEL")||p.planes,he=T*S,ee=Z(y,"BITSPERSAMPLE"),te=34887===(Z(y,"COMPRESSION")??1),ne=le(L),ce=[];for(let Oe=0;Oe<re;Oe++)ce.push(new ne(he));let Y,q,fe,ve,me,we,ge,be,Ee,ke,Pe,De,Re;const Le=Math.ceil(T/j);if(ee%8==0)if(te&&V&&re>1){const Oe=Math.round(d.length/re);for(Y=0;Y<Oe;Y++){we=Math.floor(Y/Le)*z,ge=Y%Le*j,be=we*T+ge;for(let Ue=0;Ue<re;Ue++){const Ge=Y*re+Ue;if(0!==k[Ge])for(fe=yield M(i,p.littleEndian,y,d[Ge],k[Ge]),ke=0,Ee=be,De=Math.min(j,T-ge),Pe=Math.min(z,S-we),Re=ce[Ue],ve=0;ve<Pe;ve++)for(Ee=be+ve*T,ke=ve*j,me=0;me<De;me++,Ee++,ke++)Re[Ee]=fe[ke]}}}else for(Y=0;Y<d.length;Y++)if(0!==k[Y])for(we=Math.floor(Y/Le)*z,ge=Y%Le*j,be=we*T+ge,fe=yield M(i,p.littleEndian,y,d[Y],k[Y]),ke=0,Ee=be,De=Math.min(j,T-ge),Pe=Math.min(z,S-we),q=0;q<re;q++)if(Re=ce[q],V||te)for(ve=0;ve<Pe;ve++)for(Ee=be+ve*T,ke=j*z*q+ve*j,me=0;me<De;me++,Ee++,ke++)Re[Ee]=fe[ke];else for(ve=0;ve<Pe;ve++)for(Ee=be+ve*T,ke=ve*j*re+q,me=0;me<De;me++,Ee++,ke+=re)Re[Ee]=fe[ke];return{width:T,height:S,pixelType:L,pixels:ce}})).apply(this,arguments)}const b=(i,p,y)=>{const d=D.f===p.littleEndian,k=ue(y,"STRIPOFFSETS");if(void 0===k)return null;const{width:T,height:S,pixelType:L}=A([y]),j=Z(y,"SAMPLESPERPIXEL")||p.planes,z=Z(y,"PHOTOMETRICINTERPRETATION"),V=T*S,re=Z(y,"BITSPERSAMPLE"),he=le(L),ee=new he(V*j),te=ue(y,"STRIPBYTECOUNTS"),ne=Z(y,"ROWSPERSTRIP"),ce=Z(y,"COMPRESSION")??1;let Y,q,fe,ve,me,we,ge,be,Ee,ke=ne;if(re%8==0)for(Y=0;Y<k.length;Y++){if(me=Y*(ne*T)*j,ke=(Y+1)*ne>S?S-Y*ne:ne,"u8"===L||"s8"===L||d)8===ce||32946===ce?(ge=new Uint8Array(i,k[Y],te[Y]),ge=u(ge),we=ge.buffer):6===ce?(ge=new Uint8Array(i,k[Y],te[Y]),ge=R(ge,j,z),we=ge.buffer):5===ce?(ge=(0,de.J)(i,k[Y],te[Y],p.littleEndian),we=ge.buffer):(te[Y]!==ke*T*j*re/8&&console.log("strip byte counts is different than expected"),we=i.slice(k[Y],k[Y]+te[Y])),we=W(we,re),ve=new he(we);else{switch(6===ce||8===ce||32946===ce?(ge=new Uint8Array(i,k[Y],te[Y]),be=u(ge),we=be.buffer):(te[Y]!==ke*T*j*re/8&&console.log("strip byte counts is different than expected"),we=new ArrayBuffer(te[Y]),ge=new Uint8Array(i,k[Y],te[Y]),be=new Uint8Array(we)),L){case"u16":case"s16":for(fe=0;fe<ge.length;fe+=2)be[fe]=ge[fe+1],be[fe+1]=ge[fe];break;case"u32":case"s32":case"f32":for(fe=0;fe<ge.length;fe+=4)be[fe]=ge[fe+3],be[fe+1]=ge[fe+2],be[fe+2]=ge[fe+1],be[fe+3]=ge[fe]}we=W(we,re),ve=new he(we)}ee.set(ve,me)}const Pe=[];if(1===j)Pe.push(ee);else for(Y=0;Y<j;Y++){for(Ee=new he(V),q=0;q<V;q++)Ee[q]=ee[q*j+Y];Pe.push(Ee)}return{width:T,height:S,pixelType:L,pixels:Pe}},B=(i,p,y)=>{if(!(i&&i.length>0&&p&&y))return null;let d,k,T;const S=i[0].length,L=i.length,j=new Uint8Array(S);for(let z=0;z<L;z++)if(d=i[z],k=p[z],T=y[z],0===z)for(let V=0;V<S;V++)j[V]=d[V]<k||d[V]>T?0:1;else for(let V=0;V<S;V++)j[V]&&(j[V]=d[V]<k||d[V]>T?0:1);return j},P=i=>{if(!i)return null;const p=i.match(/<Item(.*?)Item>/gi);if(!p||0===p.length)return null;const y=new Map;let d,k,T,S,L;for(let Y=0;Y<p.length;Y++)d=p[Y],k=d.slice(6,d.indexOf(">")),S=d.indexOf("sample="),S>-1&&(L=d.slice(S+8,d.indexOf('"',S+8))),S=d.indexOf("name="),S>-1&&(k=d.slice(S+6,d.indexOf('"',S+6))),k&&(T=d.slice(d.indexOf(">")+1,d.indexOf("</Item>")).trim(),null!=L?y.has(k)?y.get(k)[L]=T:y.set(k,[T]):y.set(k,T)),L=null;const j=y.get("STATISTICS_MINIMUM"),z=y.get("STATISTICS_MAXIMUM"),V=y.get("STATISTICS_MEAN"),re=y.get("STATISTICS_STDDEV");let he=null;if(j&&z){he=[];for(let Y=0;Y<j.length;Y++)he.push({min:parseFloat(j[Y]),max:parseFloat(z[Y]),avg:V&&parseFloat(V[Y]),stddev:re&&parseFloat(re[Y])})}const ee=y.get("BandName"),te=y.get("WavelengthMin"),ne=y.get("WavelengthMax");let ce=null;if(ee){ce=[];for(let Y=0;Y<ee.length;Y++)ce.push({BandName:ee[Y],WavelengthMin:te&&parseFloat(te[Y]),WavelengthMax:ne&&parseFloat(ne[Y])})}return{statistics:he,bandProperties:ce,dataType:y.get("DataType"),rawMetadata:y}};function w(i,p,y,d=0,k=!1,T=4){if(y.values)return!0;const S=y.type,L=y.valueCount;let j=y.valueOffset,z=[];const V=ye[S],re=8*V,he=L*V,ee=L*ye[S]*8;let te,ne;const ce=8===T?64:32,Y=y.valueOffsets;if(ee>ce&&he>(k?i.byteLength:i?i.byteLength-j+d:0))return y.offlineOffsetSize=[j,he],y.values=null,!1;if(ee<=ce){if(!p)if(ce<=32)j>>>=32-ee;else{const q=Y?.length?Y[0]:j>>>0,fe=Y?.length?Y[1]:Math.round((j-q)/H);ee<=32?(j=q>>>32-ee,Y[0]=j):(j=q*2**(32-ee)+(fe>>>32-ee),Y[0]=q,Y[1]=fe>>>32-ee)}if(1===L&&re===ce)z=[j];else if(64===ce){const q=Y?.length?Y[0]:j>>>0,fe=Y?.length?Y[1]:Math.round((j-q)/H);let ve=q,me=32;for(ne=1;ne<=L;ne++){const we=32-re*ne%32;if(me<re){const ge=ve<<we>>>32-me;ve=fe,z.push(ge+(fe<<32-me>>>32-me)*2**(re-me)),me-=32-(re-me)}else z.push(ve<<we>>>32-re),me-=re;0===me&&(me=32,ve=fe)}}else for(ne=1;ne<=L;ne++)z.push(j<<32-re*ne>>>32-re)}else{j-=d,k&&(j=0);for(let q=j;q<j+he;q+=V){switch(S){case 1:case 2:case 7:te=new DataView(i,q,1).getUint8(0);break;case 3:te=new DataView(i,q,2).getUint16(0,p);break;case 4:case 13:te=new DataView(i,q,4).getUint32(0,p);break;case 5:te=new DataView(i,q,4).getUint32(0,p)/new DataView(i,q+4,4).getUint32(0,p);break;case 6:te=new DataView(i,q,1).getInt8(0);break;case 8:te=new DataView(i,q,2).getInt16(0,p);break;case 9:te=new DataView(i,q,4).getInt32(0,p);break;case 10:te=new DataView(i,q,4).getInt32(0,p)/new DataView(i,q+4,4).getInt32(0,p);break;case 11:te=new DataView(i,q,4).getFloat32(0,p);break;case 12:te=new DataView(i,q,8).getFloat64(0,p);break;case 16:case 18:te=s(new DataView(i,q,8),0,p);break;case 17:te=c(new DataView(i,q,8),0,p);break;default:te=null}z.push(te)}}if(2===S){let q="";const fe=z;for(z=[],ne=0;ne<fe.length;ne++)0===fe[ne]&&""!==q?(z.push(q),q=""):q+=String.fromCharCode(fe[ne]);""===q&&0!==z.length||z.push(q)}return y.values=z,!0}function A(i){const p=i[0],y=Z(p,"TILEWIDTH"),d=Z(p,"TILELENGTH"),k=Z(p,"IMAGEWIDTH"),T=Z(p,"IMAGELENGTH"),S=Z(p,"BITSPERSAMPLE"),L=Z(p,"SAMPLESPERPIXEL"),j=Z(p,"SAMPLEFORMAT")??1,z=$(j,S),V=G(p),re=K(p,"GDAL_NODATA");let he=null;re?.length&&(he=re.map(Se=>parseFloat(Se)),he.some(Se=>isNaN(Se))&&(he=null));const ee=Z(p,"COMPRESSION")??1;let te;switch(ee){case 1:te="NONE";break;case 2:case 3:case 4:case 32771:te="CCITT";break;case 5:te="LZW";break;case 6:case 7:te="JPEG";break;case 32773:te="PACKBITS";break;case 8:case 32946:te="DEFLATE";break;case 34712:te="JPEG2000";break;case 34887:te="LERC";break;default:te=String(ee)}let ne=!0,ce="";ie.has(ee)||(ne=!1,ce+="unsupported tag compression "+ee),j>3&&(ne=!1,ce+="unsupported tag sampleFormat "+j),1!==S&&2!==S&&4!==S&&S%8!=0&&(ne=!1,ce+="unsupported tag bitsPerSample "+S);const Y=J(p,"GEOASCIIPARAMS");let q;if(Y){const Se=Y.split("|").find(Be=>Be.includes("ESRI PE String = ")),Me=Se?Se.replace("ESRI PE String = ",""):"";q=Me.startsWith("COMPD_CS")||Me.startsWith("PROJCS")||Me.startsWith("GEOGCS")?{wkid:null,wkt:Me}:null}const fe=ue(p,"GEOTIEPOINTS"),ve=ue(p,"GEOPIXELSCALE"),me=ue(p,"GEOTRANSMATRIX"),we=p.has("GEOKEYDIRECTORY")?p.get("GEOKEYDIRECTORY").data:null;let ge,be,Ee=!1,ke=!1;if(we){Ee=2===Z(we,"GTRasterTypeGeoKey");const Se=Z(we,"GTModelTypeGeoKey");if(2===Se){const Me=Z(we,"GeographicTypeGeoKey");Me>=1024&&Me<=32766&&(q={wkid:Me}),q||32767!==Me||(ke=!0,q={wkid:4326})}else if(1===Se){const Me=Z(we,"ProjectedCSTypeGeoKey");Me>=1024&&Me<=32766&&(q={wkid:Me})}}if(ve&&fe&&fe.length>=6?(ge=[ve[0],0,fe[3]-fe[0]*ve[0],0,-Math.abs(ve[1]),fe[4]-fe[1]*ve[1]],Ee&&(ge[2]-=.5*ge[0]+.5*ge[1],ge[5]-=.5*ge[3]+.5*ge[4])):me&&16===me.length&&(ge=Ee?[me[0],me[1],me[3]-.5*me[0],me[4],me[5],me[7]-.5*me[5]]:[me[0],me[1],me[3],me[4],me[5],me[7]]),ge){const Se=[{x:0,y:T},{x:0,y:0},{x:k,y:T},{x:k,y:0}];let Me,Be=Number.POSITIVE_INFINITY,Fe=Number.POSITIVE_INFINITY,Ne=Number.NEGATIVE_INFINITY,Ve=Number.NEGATIVE_INFINITY;for(let je=0;je<Se.length;je++)Me=Q(Se[je],ge),Be=Me.x>Be?Be:Me.x,Ne=Me.x<Ne?Ne:Me.x,Fe=Me.y>Fe?Fe:Me.y,Ve=Me.y<Ve?Ve:Me.y;be={xmin:Be,xmax:Ne,ymin:Fe,ymax:Ve,spatialReference:q}}else be={xmin:-.5,ymin:.5-T,xmax:k-.5,ymax:.5,spatialReference:q};ke&&(be.xmax-be.xmin>400||Math.max(Math.abs(be.xmin),Math.abs(be.xmax))>361)&&(q=null,be.spatialReference=null);const Pe=F(i);let De,Re,Le,Oe,Ue;if(Pe.length>0){Le=Math.round(Math.log(k/Z(Pe[0],"IMAGEWIDTH"))/Math.LN2);const Se=Pe[Pe.length-1];Oe=Math.round(Math.log(k/Z(Se,"IMAGEWIDTH"))/Math.LN2),De=Z(Se,"TILEWIDTH"),Re=Z(Se,"TILELENGTH")}De=null!=Oe&&Oe>0?De||y:null,Re=null!=Oe&&Oe>0?Re||d:null,y&&(Ue=[{maxCol:Math.ceil(k/y)-1,maxRow:Math.ceil(T/d)-1,minRow:0,minCol:0}],Pe.forEach(Se=>{Ue.push({maxCol:Math.ceil(Z(Se,"IMAGEWIDTH")/Z(Se,"TILEWIDTH"))-1,maxRow:Math.ceil(Z(Se,"IMAGELENGTH")/Z(Se,"TILELENGTH"))-1,minRow:0,minCol:0})}));const Ge=J(i[0],"GDAL_METADATA"),We=P(Ge);return ce+=" "+t({width:k,height:T,tileWidth:y,tileHeight:d,planes:L,ifds:i}),{width:k,height:T,tileWidth:y,tileHeight:d,planes:L,isBSQ:V,pixelType:z,compression:te,noData:he,hasMaskBand:N(i).length===Pe.length+1,isSupported:ne,message:ce,extent:be,isPseudoGeographic:ke,affine:ve?null:ge,firstPyramidLevel:Le,maximumPyramidLevel:Oe,pyramidBlockWidth:De,pyramidBlockHeight:Re,tileBoundary:Ue,metadata:We}}function G(i,p){const y=K(i,"PLANARCONFIGURATION");return y?2===y[0]:!!p&&p.isBSQ}function F(i){return i.filter(p=>1===Z(p,"NEWSUBFILETYPE"))}function N(i){return i.filter(p=>{const y=4==(4&(Z(p,"NEWSUBFILETYPE")??0)),d=4===Z(p,"PHOTOMETRICINTERPRETATION");return y&&d})}function s(i,p,y){const d=i.getUint32(p,y),k=i.getUint32(p+4,y);return y?k*H+d:d*H+k}function c(i,p,y){let d=y?i.getInt32(p,y):i.getUint32(p,y),k=y?i.getUint32(p+4,y):i.getInt32(p+4,y);const T=(y?d:k)>=0?1:-1;return y?d*=T:k*=T,T*(y?k*H+d:d*H+k)}function h(i,p,y,d){return d?s(i,p,y):i.getUint32(p,y)}function C(i){const p=new DataView(i,0,16),y=p.getUint16(0,!1);let d=null;if(18761===y)d=!0;else{if(19789!==y)throw new Error("unexpected endianess byte");d=!1}const k=p.getUint16(2,d);if(42!==k&&43!==k)throw new Error("unexpected tiff identifier");let T=4;const S=43===k;if(S){const L=p.getUint16(T,d);if(T+=2,8!==L)throw new Error("unsupported bigtiff version");if(0!==p.getUint16(T,d))throw new Error("unsupported bigtiff version");T+=2}return{littleEndian:d,isBigTiff:S,firstIFDPos:h(p,T,d,S)}}function _(i,p,y,d=0,k=ae.Z.TIFF_TAGS,T=4){const S=X(i,p,y,d,k,T);let L;const j=S.ifd;if(j){if(ae.Z.ifdTags.forEach((z,V)=>{j.has(V)&&(L=j.get(V),L.data=X(i,p,L.valueOffset-d,d,z).ifd)}),j.has("GEOKEYDIRECTORY")){L=j.get("GEOKEYDIRECTORY");const z=L.values;if(z&&z.length>4){const V=z[0]+"."+z[1]+"."+z[2];L.data=X(i,p,L.valueOffset+6-d,d,ae.Z.GEO_KEYS,2).ifd,L.data&&L.data.set("GEOTIFFVersion",{id:0,type:2,valueCount:1,valueOffset:null,values:[V]})}}if(j.has("XMP")){L=j.get("XMP");const z=L.values;"number"==typeof z[0]&&7===L.type&&(L.values=[(0,_e.f)(new Uint8Array(z))])}}return S}function t(i){const{width:p,height:y,tileHeight:d,tileWidth:k}=i,T=i.planes,S=k?k*d:p*y,L=Z(i.ifds[0],"BITSPERSAMPLE");let j="";return S*T>2**30/(L>8?L/8:1)&&(j=k?"tiled tiff exceeding 1 gigabits per tile is not supported":"scanline tiff exceeding 1 gigabits is not supported"),j}function g(i,p){return v.apply(this,arguments)}function v(){return(v=(0,oe.Z)(function*(i,p){const{headerInfo:y,ifd:d,offsets:k,sizes:T}=p,S=[];for(let Ee=0;Ee<k.length;Ee++){const ke=yield M(i,y.littleEndian,d,k[Ee],T[Ee]||i.byteLength);S.push(ke)}const L=G(d,y),j=Z(d,"BITSPERSAMPLE"),z=$(Z(d,"SAMPLEFORMAT")??1,j),V=Z(d,"SAMPLESPERPIXEL")||y.planes,re=le(z),he=Z(d,"TILEWIDTH"),ee=Z(d,"TILELENGTH"),te=Z(d,"COMPRESSION")??1,ne=he*ee;let ce;const Y=[];let q=S[0];const fe=34887===te;for(let Ee=0;Ee<V;Ee++){if(ce=new re(ne),L&&fe){if(q=S[Ee],q.length)for(let ke=0;ke<ne;ke++)ce[ke]=q[Ee][ke+Ee]}else if(q.length)if(L||fe&&!L)ce=q.slice(ne*Ee,ne*(Ee+1));else for(let ke=0;ke<ne;ke++)ce[ke]=q[ke*V+Ee];Y.push(ce)}const ve=y.noData?y.noData[0]:p.noDataValue,me=y.metadata?y.metadata.statistics:null,we=me?me.map(Ee=>Ee.min):null,ge=me?me.map(Ee=>Ee.max):null,be={pixelType:z,width:he,height:ee,pixels:Y,noDataValue:ve};return null!=ve?(0,Ce.A)(be,ve):we&&ge&&p.applyMinMaxConstraint&&(be.mask=B(Y,we,ge)),be})).apply(this,arguments)}function I(i){return U.apply(this,arguments)}function U(){return U=(0,oe.Z)(function*(i,p={}){const y=p.pyramidLevel||0,d=p.headerInfo||function O(i){const{littleEndian:p,isBigTiff:y,firstIFDPos:d}=C(i);let k=d;const T=[];do{const S=_(i,p,k,0,ae.Z.TIFF_TAGS,y?8:4);if(!S.success)break;T.push(S.ifd),k=S.nextIFD}while(k>0);return{...A(T),littleEndian:p,isBigTiff:y,ifds:T,pyramidIFDs:F(T),maskIFDs:N(T)}}(i),{ifds:k,noData:T}=d;if(0===k.length)throw new Error("no valid image file directory");const S=t(d);if(S)throw S;let L=null;const j=-1===y?k[k.length-1]:k[y],z=T??p.noDataValue;return L=d.tileWidth?yield function f(i,p,y){return m.apply(this,arguments)}(i,d,j):yield b(i,d,j),L&&(null!=z&&(0,Ce.A)(L,z),L)}),U.apply(this,arguments)}},635:(Ie,Ae,se)=>{se.d(Ae,{Z:()=>ae});const oe=(()=>{const D=[];return D[254]="NEWSUBFILETYPE",D[255]="SUBFILETYPE",D[256]="IMAGEWIDTH",D[257]="IMAGELENGTH",D[258]="BITSPERSAMPLE",D[259]="COMPRESSION",D[262]="PHOTOMETRICINTERPRETATION",D[263]="THRESHHOLDING",D[264]="CELLWIDTH",D[265]="CELLLENGTH",D[266]="FILLORDER",D[269]="DOCUMENTNAME",D[270]="IMAGEDESCRIPTION",D[271]="MAKE",D[272]="MODEL",D[273]="STRIPOFFSETS",D[274]="ORIENTATION",D[277]="SAMPLESPERPIXEL",D[278]="ROWSPERSTRIP",D[279]="STRIPBYTECOUNTS",D[280]="MINSAMPLEVALUE",D[281]="MAXSAMPLEVALUE",D[282]="XRESOLUTION",D[283]="YRESOLUTION",D[284]="PLANARCONFIGURATION",D[285]="PAGENAME",D[286]="XPOSITION",D[287]="YPOSITION",D[288]="FREEOFFSETS",D[289]="FREEBYTECOUNTS",D[290]="GRAYRESPONSEUNIT",D[291]="GRAYRESPONSECURVE",D[292]="T4OPTIONS",D[293]="T6OPTIONS",D[296]="RESOLUTIONUNIT",D[297]="PAGENUMBER",D[300]="COLORRESPONSEUNIT",D[301]="TRANSFERFUNCTION",D[305]="SOFTWARE",D[306]="DATETIME",D[315]="ARTIST",D[316]="HOSTCOMPUTER",D[317]="PREDICTOR",D[318]="WHITEPOINT",D[319]="PRIMARYCHROMATICITIES",D[320]="COLORMAP",D[321]="HALFTONEHINTS",D[322]="TILEWIDTH",D[323]="TILELENGTH",D[324]="TILEOFFSETS",D[325]="TILEBYTECOUNTS",D[326]="BADFAXLINES",D[327]="CLEANFAXDATA",D[328]="CONSECUTIVEBADFAXLINES",D[330]="SUBIFD",D[332]="INKSET",D[333]="INKNAMES",D[334]="NUMBEROFINKS",D[336]="DOTRANGE",D[337]="TARGETPRINTER",D[338]="EXTRASAMPLES",D[339]="SAMPLEFORMAT",D[340]="SMINSAMPLEVALUE",D[341]="SMAXSAMPLEVALUE",D[342]="TRANSFERRANGE",D[347]="JPEGTABLES",D[512]="JPEGPROC",D[513]="JPEGIFOFFSET",D[514]="JPEGIFBYTECOUNT",D[515]="JPEGRESTARTINTERVAL",D[517]="JPEGLOSSLESSPREDICTORS",D[518]="JPEGPOINTTRANSFORM",D[519]="JPEGQTABLES",D[520]="JPEGDCTABLES",D[521]="JPEGACTABLES",D[529]="YCBCRCOEFFICIENTS",D[530]="YCBCRSUBSAMPLING",D[531]="YCBCRPOSITIONING",D[532]="REFERENCEBLACKWHITE",D[700]="XMP",D[33550]="GEOPIXELSCALE",D[33922]="GEOTIEPOINTS",D[33432]="COPYRIGHT",D[42112]="GDAL_METADATA",D[42113]="GDAL_NODATA",D[50844]="RPCCOEFFICIENT",D[34264]="GEOTRANSMATRIX",D[34735]="GEOKEYDIRECTORY",D[34736]="GEODOUBLEPARAMS",D[34737]="GEOASCIIPARAMS",D[34665]="EXIFIFD",D[34853]="GPSIFD",D[40965]="INTEROPERABILITYIFD",D})(),_e=(()=>{const D=oe.slice();return D[36864]="ExifVersion",D[40960]="FlashpixVersion",D[40961]="ColorSpace",D[42240]="Gamma",D[37121]="ComponentsConfiguration",D[37122]="CompressedBitsPerPixel",D[40962]="PixelXDimension",D[40963]="PixelYDimension",D[37500]="MakerNote",D[37510]="UserComment",D[40964]="RelatedSoundFile",D[36867]="DateTimeOriginal",D[36868]="DateTimeDigitized",D[36880]="OffsetTime",D[36881]="OffsetTimeOriginal",D[36882]="OffsetTimeDigitized",D[37520]="SubSecTime",D[37521]="SubSecTimeOriginal",D[37522]="SubSecTimeDigitized",D[37888]="Temperature",D[37889]="Humidity",D[37890]="Pressure",D[37891]="WaterDepth",D[37892]="Acceleration",D[37893]="CameraElevationAngle",D[42016]="ImageUniqueID",D[42032]="CameraOwnerName",D[42033]="BodySerialNumber",D[42034]="LensSpecification",D[42035]="LensMake",D[42036]="LensModel",D[42037]="LensSerialNumber",D[33434]="ExposureTime",D[33437]="FNumber",D[34850]="ExposureProgram",D[34852]="SpectralSensitivity",D[34855]="PhotographicSensitivity",D[34856]="OECF",D[34864]="SensitivityType",D[34865]="StandardOutputSensitivity",D[34866]="RecommendedExposureIndex",D[34867]="ISOSpeed",D[34868]="ISOSpeedLatitudeyyy",D[34869]="ISOSpeedLatitudezzz",D[37377]="ShutterSpeedValue",D[37378]="ApertureValue",D[37379]="BrightnessValue",D[37380]="ExposureBiasValue",D[37381]="MaxApertureValue",D[37382]="SubjectDistance",D[37383]="MeteringMode",D[37384]="LightSource",D[37385]="Flash",D[37386]="FocalLength",D[37396]="SubjectArea",D[41483]="FlashEnergy",D[41484]="SpatialFrequencyResponse",D[41486]="FocalPlaneXResolution",D[41487]="FocalPlaneYResolution",D[41488]="FocalPlaneResolutionUnit",D[41492]="SubjectLocation",D[41493]="ExposureIndex",D[41495]="SensingMethod",D[41728]="FileSource",D[41729]="SceneType",D[41730]="CFAPattern",D[41985]="CustomRendered",D[41986]="ExposureMode",D[41987]="WhiteBalance",D[41988]="DigitalZoomRatio",D[41989]="FocalLengthIn35mmFilm",D[41990]="SceneCaptureType",D[41991]="GainControl",D[41992]="Contrast",D[41993]="Saturation",D[41994]="Sharpness",D[41995]="DeviceSettingDescription",D[41996]="SubjectDistanceRange",D})(),xe=(()=>{const D=[];return D[1024]="GTModelTypeGeoKey",D[1025]="GTRasterTypeGeoKey",D[1026]="GTCitationGeoKey",D[2048]="GeographicTypeGeoKey",D[2049]="GeogCitationGeoKey",D[2050]="GeogGeodeticDatumGeoKey",D[2051]="GeogPrimeMeridianGeoKey",D[2052]="GeogLinearUnitsGeoKey",D[2053]="GeogLinearUnitSizeGeoKey",D[2054]="GeogAngularUnitsGeoKey",D[2055]="GeogAngularUnitSizeGeoKey",D[2056]="GeogEllipsoidGeoKey",D[2057]="GeogSemiMajorAxisGeoKey",D[2058]="GeogSemiMinorAxisGeoKey",D[2059]="GeogInvFlatteningGeoKey",D[2061]="GeogPrimeMeridianLongGeoKey",D[2060]="GeogAzimuthUnitsGeoKey",D[3072]="ProjectedCSTypeGeoKey",D[3073]="PCSCitationGeoKey",D[3074]="ProjectionGeoKey",D[3075]="ProjCoordTransGeoKey",D[3076]="ProjLinearUnitsGeoKey",D[3077]="ProjLinearUnitSizeGeoKey",D[3078]="ProjStdParallel1GeoKey",D[3079]="ProjStdParallel2GeoKey",D[3080]="ProjNatOriginLongGeoKey",D[3081]="ProjNatOriginLatGeoKey",D[3082]="ProjFalseEastingGeoKey",D[3083]="ProjFalseNorthingGeoKey",D[3084]="ProjFalseOriginLongGeoKey",D[3085]="ProjFalseOriginLatGeoKey",D[3086]="ProjFalseOriginEastingGeoKey",D[3087]="ProjFalseOriginNorthingGeoKey",D[3088]="ProjCenterLongGeoKey",D[3090]="ProjCenterEastingGeoKey",D[3091]="ProjCenterNorthingGeoKey",D[3092]="ProjScaleAtNatOriginGeoKey",D[3093]="ProjScaleAtCenterGeoKey",D[3094]="ProjAzimuthAngleGeoKey",D[3095]="ProjStraightVertPoleLongGeoKey",D[4096]="VerticalCSTypeGeoKey",D[4097]="VerticalCitationGeoKey",D[4098]="VerticalDatumGeoKey",D[4099]="VerticalUnitsGeoKey",D})(),Ce=new Map;Ce.set("EXIFIFD",_e),Ce.set("GPSIFD",["GPSVersionID","GPSLatitudeRef","GPSLatitude","GPSLongitudeRef","GPSLongitude","GPSAltitudeRef","GPSAltitude","GPSTimeStamp","GPSSatellites","GPSStatus","GPSMeasureMode","GPSDOP","GPSSpeedRef","GPSSpeed","GPSTrackRef","GPSTrack","GPSImgDirectionRef","GPSImgDirection","GPSMapDatum","GPSDestLatitudeRef","GPSDestLatitude","GPSDestLongitudeRef","GPSDestLongitude","GPSDestBearingRef","GPSDestBearing","GPSDestDistanceRef","GPSDestDistance","GPSProcessingMethod","GPSAreaInformation","GPSDateStamp","GPSDifferential","GPSHPositioningError"]);const ae={TIFF_TAGS:oe,ifdTags:Ce,GEO_KEYS:xe,getTagName:(D,pe)=>{let ye=(pe||oe)[D];return void 0===ye&&(ye="unknown"+String(D)),ye}}},44853:(Ie,Ae,se)=>{se.d(Ae,{f:()=>oe});const oe=(()=>{const _e=new ArrayBuffer(4),Te=new Uint8Array(_e);return new Uint32Array(_e)[0]=1,1===Te[0]})()},79751:(Ie,Ae,se)=>{se.d(Ae,{CD:()=>de,DX:()=>xe,Gd:()=>pe,Pz:()=>ye,Qh:()=>N,SJ:()=>H,Uk:()=>O,Vl:()=>G,XV:()=>ie,a2:()=>Q,hd:()=>Ce,nA:()=>E,nk:()=>ae,oB:()=>X,pW:()=>f,qF:()=>D,sS:()=>Z,us:()=>M,wV:()=>$,zp:()=>le});var xe,de,s,oe=se(62208),_e=se(25688),Te=se(67313);(s=xe||(xe={}))[s.matchAny=0]="matchAny",s[s.matchAll=1]="matchAll",function(s){s[s.bestMatch=0]="bestMatch",s[s.fail=1]="fail"}(de||(de={}));const Ce=6;function ae(s){return(0,oe.pC)(s)&&"esri.layers.support.PixelBlock"===s.declaredClass&&s.pixels&&s.pixels.length>0}function D(s,c){if(!c?.length||!ae(s))return s;const h=s.pixels.length;return c&&c.some(C=>C>=h)||1===h&&1===c.length&&0===c[0]?s:h!==c.length||c.some((C,_)=>C!==_)?new _e.Z({pixelType:s.pixelType,width:s.width,height:s.height,mask:s.mask,validPixelCount:s.validPixelCount,maskIsAlpha:s.maskIsAlpha,pixels:c.map(C=>s.pixels[C]),statistics:s.statistics&&c.map(C=>s.statistics[C])}):s}function pe(s){if(!s?.length||s.some(i=>!ae(i)))return null;if(1===s.length)return(0,oe.pC)(s[0])?s[0].clone():null;const c=s,{width:h,height:C,pixelType:_}=c[0];if(c.some(i=>i.width!==h||i.height!==C))return null;const t=c.map(({mask:i})=>i).filter(i=>null!=i);let g=null;t.length&&(g=new Uint8Array(h*C),g.set(t[0]),t.length>1&&J(t.slice(1),g));const v=[];c.forEach(({pixels:i})=>v.push(...i));const I=c.map(({statistics:i})=>i).filter(i=>i?.length),U=[];return I.forEach(i=>U.push(...i)),new _e.Z({pixelType:_,width:h,height:C,mask:g,pixels:v,statistics:U.length?U:null})}function ye(s){if(!s)return;const c=s.colormap;if(!c||0===c.length)return;const h=c.sort((p,y)=>p[0]-y[0]);let C=0;h[0][0]<0&&(C=h[0][0]);const _=Math.max(256,h[h.length-1][0]-C+1),t=new Uint8Array(4*_),g=[];let v,I=0,U=0;const i=5===h[0].length;if(_>65536)return h.forEach(p=>{g[p[0]-C]=i?p.slice(1):p.slice(1).concat([255])}),{indexed2DColormap:g,offset:C,alphaSpecified:i};if(s.fillUnspecified)for(v=h[U],I=v[0]-C;I<_;I++)t[4*I]=v[1],t[4*I+1]=v[2],t[4*I+2]=v[3],t[4*I+3]=i?v[4]:255,I===v[0]-C&&(v=U===h.length-1?v:h[++U]);else for(I=0;I<h.length;I++)v=h[I],U=4*(v[0]-C),t[U]=v[1],t[U+1]=v[2],t[U+2]=v[3],t[U+3]=i?v[4]:255;return{indexedColormap:t,offset:C,alphaSpecified:i}}function H(s,c){if(!ae(s)||!c||!c.indexedColormap&&!c.indexed2DColormap)return s;const h=s.clone(),C=h.pixels;let _=h.mask;const t=h.width*h.height;if(1!==C.length)return s;const{indexedColormap:g,indexed2DColormap:v,offset:I,alphaSpecified:U}=c;let i=0;const p=C[0],y=new Uint8Array(p.length),d=new Uint8Array(p.length),k=new Uint8Array(p.length);let T,S=0;if(g){const L=g.length-1;if((0,oe.pC)(_))for(i=0;i<t;i++)_[i]&&(S=4*(p[i]-I),S<I||S>L?_[i]=0:(y[i]=g[S],d[i]=g[S+1],k[i]=g[S+2],_[i]=g[S+3]));else{for(_=new Uint8Array(t),i=0;i<t;i++)S=4*(p[i]-I),S<I||S>L?_[i]=0:(y[i]=g[S],d[i]=g[S+1],k[i]=g[S+2],_[i]=g[S+3]);h.mask=_}}else if(v)if((0,oe.pC)(_))for(i=0;i<t;i++)_[i]&&(T=v[p[i]],y[i]=T[0],d[i]=T[1],k[i]=T[2],_[i]=T[3]);else{for(_=new Uint8Array(t),i=0;i<t;i++)T=v[p[i]],y[i]=T[0],d[i]=T[1],k[i]=T[2],_[i]=T[3];h.mask=_}return h.pixels=[y,d,k],h.statistics=null,h.pixelType="u8",h.maskIsAlpha=U,h}function ie(s,c){if(!ae(s))return null;const{pixels:h,mask:C}=s,_=h.length;let t=c.lut;const{offset:g}=c;t&&1===t[0].length&&(t=h.map(()=>t));const v=[],I=c.outputPixelType||"u8";for(let i=0;i<_;i++){const p=$(h[i],C,t[i],g||0,I);v.push(p)}const U=new _e.Z({width:s.width,height:s.height,pixels:v,mask:C,pixelType:I});return U.updateStatistics(),U}function $(s,c,h,C,_){const t=s.length,g=_e.Z.createEmptyBand(_,t);if(c)for(let v=0;v<t;v++)c[v]&&(g[v]=h[s[v]-C]);else for(let v=0;v<t;v++)g[v]=h[s[v]-C];return g}function le(s,c){if(!ae(s))return null;const h=s.clone(),{pixels:C}=h,_=h.width*h.height,t=c.length,g=Math.floor(t/2),v=c[Math.floor(g)],I=C[0];let U,i,p,y,d,k,T=!1;const S=new Uint8Array(_),L=new Uint8Array(_),j=new Uint8Array(_);let z=h.mask;const V=4===c[0].mappedColor.length;for(z||(z=new Uint8Array(_),z.fill(V?255:1),h.mask=z),d=0;d<_;d++)if(z[d]){for(U=I[d],T=!1,k=g,i=v,p=0,y=t-1;y-p>1;){if(U===i.value){T=!0;break}U>i.value?p=k:y=k,k=Math.floor((p+y)/2),i=c[Math.floor(k)]}T||(U===c[p].value?(i=c[p],T=!0):U===c[y].value?(i=c[y],T=!0):U<c[p].value?(T=!1,i=null):U>c[p].value&&(U<c[y].value?(i=c[p],T=!0):y===t-1?(T=!1,i=null):(i=c[y],T=!0))),T?(S[d]=i.mappedColor[0],L[d]=i.mappedColor[1],j[d]=i.mappedColor[2],z[d]=i.mappedColor[3]):S[d]=L[d]=j[d]=z[d]=0}return h.pixels=[S,L,j],h.mask=z,h.pixelType="u8",h.maskIsAlpha=V,h}function Q(s,c){if(!ae(s))return null;const{width:h,height:C}=s,{inputRanges:_,outputValues:t,outputPixelType:g,noDataRanges:v,allowUnmatched:I,isLastInputRangeInclusive:U}=c,i=s.pixels[0],p=_e.Z.createEmptyBand(g,i.length),y=s.mask,d=new Uint8Array(h*C);y?d.set(y):d.fill(255);const k=s.pixelType.startsWith("f")?1e-6:0,T=_.map(z=>z-k);T[0]=_[0],T[T.length-1]=_[_.length-1]+(U?1e-6:0);const S=_.length/2,[L,j]=(0,Te.r)(g);for(let z=0;z<C;z++)for(let V=0;V<h;V++){const re=z*h+V;if(d[re]){const he=i[re];let ee=!1;for(let te=S-1;te>=0;te--)if(he===T[2*te]||he>T[2*te]&&he<T[2*te+1]){p[re]=t[te],ee=!0;break}ee||(I?p[re]=he>j?j:he<L?L:he:d[re]=0)}}if(v?.length)for(let z=0;z<C;z++)for(let V=0;V<h;V++){const re=z*h+V;if(!y||y[re]){const he=i[re];for(let ee=0;ee<S;ee+=2)if(he>=v[ee]&&he<=v[ee+1]){p[re]=0,d[re]=0;break}}}return new _e.Z({width:h,height:C,pixelType:g,pixels:[p],mask:d})}function K(s,c,h,C){const _=null!=h&&h.length>=2?new Set(h):null,t=1===h?.length?h[0]:null,g=!!c?.length;for(let v=0;v<s.length;v++)if(C[v]){const I=s[v];if(g){let U=!1;for(let i=0;i<c.length;i+=2)if(I>=c[i]&&I<=c[i+1]){U=!0;break}U||(C[v]=0)}C[v]&&(I===t||_?.has(I))&&(C[v]=0)}}function ue(s,c){const h=s[0].length;for(let C=0;C<h;C++)if(c[C]){let _=!1;for(let t=0;t<s.length;t++)if(s[t][C]){_=!0;break}_||(c[C]=0)}}function J(s,c){const h=s[0].length;for(let C=0;C<h;C++)if(c[C]){let _=!1;for(let t=0;t<s.length;t++)if(0===s[t][C]){_=!0;break}_&&(c[C]=0)}}function Z(s,c){if(!ae(s))return null;const{width:h,height:C,pixels:_}=s,t=h*C,g=new Uint8Array(t);s.mask?g.set(s.mask):g.fill(255);const v=_.length,{includedRanges:I,noDataValues:U,outputPixelType:i,matchAll:p,lookups:y}=c;if(y){const d=[];for(let k=0;k<v;k++){const T=y[k],S=$(_[k],g,T.lut,T.offset||0,"u8");d.push(S)}1===d.length?g.set(d[0]):p?ue(d,g):J(d,g)}else if(p){const d=[];for(let k=0;k<v;k++){const T=new Uint8Array(t);T.set(g),K(_[k],I?.slice(2*k,2*k+2),U?.[k],T),d.push(T)}1===d.length?g.set(d[0]):ue(d,g)}else for(let d=0;d<v;d++)K(_[d],I?.slice(2*d,2*d+2),U?.[d],g);return new _e.Z({width:h,height:C,pixelType:i,pixels:_,mask:g})}function X(s){const{srcPixelType:c,inputRanges:h,outputValues:C,allowUnmatched:_,noDataRanges:t,isLastInputRangeInclusive:g,outputPixelType:v}=s;if("u8"!==c&&"s8"!==c&&"u16"!==c&&"s16"!==c)return null;const I=c.includes("16")?65536:256,U=c.includes("s")?-I/2:0,i=_e.Z.createEmptyBand(v,I),p=new Uint8Array(I);_&&p.fill(255);const[y,d]=(0,Te.r)(v);if(h?.length&&C?.length){const T=h.map(S=>S-1e-6);T[0]=h[0],g&&(T[T.length-1]=h[h.length-1]);for(let S=0;S<T.length;S++){const L=C[S]>d?d:C[S]<y?y:C[S],j=Math.ceil(T[2*S]-U),z=Math.floor(T[2*S+1]-U);for(let V=j;V<=z;V++)i[V]=L,p[V]=255}}if(t?.length)for(let k=0;k<t.length;k++){const T=Math.ceil(t[2*k]-U),S=Math.floor(t[2*k+1]-U);for(let L=T;L<=S;L++)p[L]=0}return{lut:i,offset:U,mask:p}}function E(s,c,h){if("u8"!==s&&"s8"!==s&&"u16"!==s&&"s16"!==s)return null;const C=s.includes("16")?65536:256,_=s.includes("s")?-C/2:0,t=new Uint8Array(C);if(c)for(let g=0;g<c.length;g++){const v=Math.ceil(c[2*g]-_),I=Math.floor(c[2*g+1]-_);for(let U=v;U<=I;U++)t[U]=255}else t.fill(255);if(h)for(let g=0;g<h.length;g++)t[h[g]-_]=0;return{lut:t,offset:_}}function u(s,c,h,C,_,t){const{width:g,height:v}=h.block,{x:I,y:U}=h.offset,{width:i,height:p}=h.mosaic,y=function W(s,c,h,C,_,t,g,v){return{xmin:_<=h*s?0:_<h*s+s?_-h*s:s,ymin:t<=C*c?0:t<C*c+c?t-C*c:c,xmax:_+g<=h*s?0:_+g<h*s+s?_+g-h*s:s,ymax:t+v<=C*c?0:t+v<C*c+c?t+v-C*c:c}}(g,v,C,_,I,U,i,p);let d=0,k=0;if(t){const T=t.hasGCSSShiftTransform?360:t.halfWorldWidth??0,S=g*t.resolutionX,L=t.startX+C*S;L<T&&L+S>T?k=t.rightPadding:L>=T&&(d=t.leftMargin-t.rightPadding,k=0)}if(y.xmax-=k,"number"!=typeof c)for(let T=y.ymin;T<y.ymax;T++){const S=(_*v+T-U)*i+(C*g-I)+d,L=T*g;for(let j=y.xmin;j<y.xmax;j++)s[S+j]=c[L+j]}else for(let T=y.ymin;T<y.ymax;T++){const S=(_*v+T-U)*i+(C*g-I)+d;for(let L=y.xmin;L<y.xmax;L++)s[S+L]=c}}function M(s,c,h={}){const{clipOffset:C,clipSize:_,alignmentInfo:t,blockWidths:g}=h;if(g)return function x(s,c,h){const C=s.find(d=>(0,oe.pC)(d));if((0,oe.Wi)(C))return null;const _=s.some(d=>!(0,oe.pC)(d)||!!d.mask),{width:t,height:g}=c,v=_?new Uint8Array(t*g):null,{blockWidths:I}=h,U=[],i=C.getPlaneCount(),p=_e.Z.getPixelArrayConstructor(C.pixelType);if(_)for(let d=0,k=0;d<s.length;k+=I[d],d++){const T=s[d];if(!ae(T))continue;const S=(0,oe.Wg)(T.mask);for(let L=0;L<g;L++)for(let j=0;j<I[d];j++)v[L*t+j+k]=null==S?255:S[L*T.width+j]}for(let d=0;d<i;d++){const k=new p(t*g);for(let T=0,S=0;T<s.length;S+=I[T],T++){const L=s[T];if(!ae(L))continue;const j=L.pixels[d];if(null!=j)for(let z=0;z<g;z++)for(let V=0;V<I[T];V++)k[z*t+V+S]=j[z*L.width+V]}U.push(k)}const y=new _e.Z({width:t,height:g,mask:v,pixels:U,pixelType:C.pixelType});return y.updateStatistics(),y}(s,c,{blockWidths:g});const v=s.find(ee=>ae(ee));if((0,oe.Wi)(v))return null;const I=_?_.width:c.width,U=_?_.height:c.height,i=v.width,p=v.height,y=c.width/i,d=c.height/p,k={offset:C||{x:0,y:0},mosaic:_||c,block:{width:i,height:p}},T=v.pixelType,S=_e.Z.getPixelArrayConstructor(T),L=v.pixels.length,j=[];let z,V,re;for(let ee=0;ee<L;ee++){V=new S(I*U);for(let te=0;te<d;te++)for(let ne=0;ne<y;ne++){const ce=s[te*y+ne];ae(ce)&&(z=ce.pixels[ee],u(V,z,k,ne,te,t))}j.push(V)}if(s.some(ee=>(0,oe.Wi)(ee)||(0,oe.pC)(ee.mask)&&ee.mask.length>0)){re=new Uint8Array(I*U);for(let ee=0;ee<d;ee++)for(let te=0;te<y;te++){const ne=s[ee*y+te],ce=(0,oe.pC)(ne)?ne.mask:null;(0,oe.pC)(ce)?u(re,ce,k,te,ee,t):u(re,ne?1:0,k,te,ee,t)}}const he=new _e.Z({width:I,height:U,pixels:j,pixelType:T,mask:re});return he.updateStatistics(),he}function f(s,c,h){if(!ae(s))return null;const{width:C,height:_}=s,t=c.x,g=c.y,v=h.width+t,I=h.height+g;if(t<0||g<0||v>C||I>_||0===t&&0===g&&v===C&&I===_)return s;s.mask||(s.mask=new Uint8Array(C*_));const U=s.mask;for(let i=0;i<_;i++){const p=i*C;for(let y=0;y<C;y++)U[p+y]=i<g||i>=I||y<t||y>=v?0:1}return s.updateStatistics(),s}function b(s){if(0===s.size)return 0;let c=0,h=-1,C=0;const _=s.keys();let t=_.next();for(;!t.done;)C=s.get(t.value),C>c&&(h=t.value,c=C),t=_.next();return h}function B(s,c,h){if(0===h)return;const C=s.get(c);1===C?s.delete(c):s.set(c,C-1)}function P(s,c,h){0!==h&&s.set(c,s.has(c)?s.get(c)+1:1)}function w(s,c,h){let{x:C,y:_}=c;const{width:t,height:g}=h;if(0===C&&0===_&&g===s.height&&t===s.width)return s;const{width:v,height:I}=s,U=Math.max(0,_),i=Math.max(0,C),p=Math.min(C+t,v),y=Math.min(_+g,I);if(p<0||y<0||!ae(s))return null;C=Math.max(0,-C),_=Math.max(0,-_);const{pixels:d}=s,k=t*g,T=d.length,S=[];for(let V=0;V<T;V++){const re=d[V],he=_e.Z.createEmptyBand(s.pixelType,k);for(let ee=U;ee<y;ee++){const te=ee*v;let ne=(ee+_-U)*t+C;for(let ce=i;ce<p;ce++)he[ne++]=re[te+ce]}S.push(he)}const L=new Uint8Array(k),j=(0,oe.Wg)(s.mask);for(let V=U;V<y;V++){const re=V*v;let he=(V+_-U)*t+C;for(let ee=i;ee<p;ee++)L[he++]=j?j[re+ee]:1}const z=new _e.Z({width:h.width,height:h.height,pixelType:s.pixelType,pixels:S,mask:L});return z.updateStatistics(),z}function A(s,c=!0){if(!ae(s))return null;const{pixels:h,width:C,height:_,mask:t,pixelType:g}=s,v=[],I=Math.round(C/2),U=Math.round(_/2),i=_-1,p=C-1;for(let d=0;d<h.length;d++){const k=h[d],T=_e.Z.createEmptyBand(g,I*U);let S=0;for(let L=0;L<_;L+=2)for(let j=0;j<C;j+=2){const z=k[L*C+j];if(c){const V=j===p?z:k[L*C+j+1],re=L===i?z:k[L*C+j+C];T[S++]=(z+V+re+(j===p?re:L===i?V:k[L*C+j+C+1]))/4}else T[S++]=z}v.push(T)}let y=null;if((0,oe.pC)(t)){y=new Uint8Array(I*U);let d=0;for(let k=0;k<_;k+=2)for(let T=0;T<C;T+=2){const S=t[k*C+T];if(c){const L=T===p?S:t[k*C+T+1],j=k===i?S:t[k*C+T+C];y[d++]=S*L*j*(T===p?j:k===i?L:t[k*C+T+C+1])?1:0}else y[d++]=S}}return new _e.Z({width:I,height:U,pixelType:g,pixels:v,mask:y})}function G(s,c,h){if(!ae(s))return null;const{width:C,height:_}=c;let{width:t,height:g}=s;const v=new Map,I={x:0,y:0},U=null==h?1:1+h;let i=s;for(let p=0;p<U;p++){const y=Math.ceil(t/C),d=Math.ceil(g/_);for(let k=0;k<d;k++){I.y=k*_;for(let T=0;T<y;T++){I.x=T*C;const S=w(i,I,c);v.set(`${p}/${k}/${T}`,S)}}p<U-1&&(i=A(i)),t=Math.round(t/2),g=Math.round(g/2)}return v}function F(s,c,h,C,_=0){const{width:t,height:g}=s,{width:v,height:I}=c,U=C.cols,i=C.rows,p=Math.ceil(v/U-.1/U),y=Math.ceil(I/i-.1/i);let d,k,T,S,L,j,z;const V=p*U,re=V*y*i,he=new Float32Array(re),ee=new Float32Array(re),te=new Uint32Array(re),ne=new Uint32Array(re);let ce,Y,q=0;for(let fe=0;fe<y;fe++)for(let ve=0;ve<p;ve++){d=12*(fe*p+ve),k=h[d],T=h[d+1],S=h[d+2],L=h[d+3],j=h[d+4],z=h[d+5];for(let me=0;me<i;me++){q=(fe*i+me)*V+ve*U,Y=(me+.5)/i;for(let we=0;we<me;we++)ce=(we+.5)/U,he[q+we]=(k*ce+T*Y+S)*t+_,ee[q+we]=(L*ce+j*Y+z)*g+_,te[q+we]=Math.floor(he[q+we]),ne[q+we]=Math.floor(ee[q+we])}d+=6,k=h[d],T=h[d+1],S=h[d+2],L=h[d+3],j=h[d+4],z=h[d+5];for(let me=0;me<i;me++){q=(fe*i+me)*V+ve*U,Y=(me+.5)/i;for(let we=me;we<U;we++)ce=(we+.5)/U,he[q+we]=(k*ce+T*Y+S)*t+_,ee[q+we]=(L*ce+j*Y+z)*g+_,te[q+we]=Math.floor(he[q+we]),ne[q+we]=Math.floor(ee[q+we])}}return{offsets_x:he,offsets_y:ee,offsets_xi:te,offsets_yi:ne,gridWidth:V}}function N(s,c){const{coefficients:h,spacing:C}=c,{offsets_x:_,offsets_y:t,gridWidth:g}=F(s,s,h,{rows:C[0],cols:C[1]}),{width:v,height:I}=s,U=new Float32Array(v*I),i=180/Math.PI;for(let p=0;p<I;p++)for(let y=0;y<v;y++){const d=p*g+y,k=0===p?d:d-g,T=p===I-1?d:d+g,S=_[k]-_[T],L=t[T]-t[k];if(isNaN(S)||isNaN(L))U[p*v+y]=90;else{let j=Math.atan2(L,S)*i;j=(360+j)%360,U[p*v+y]=j}}return U}function O(s,c,h,C,_="nearest"){if(!ae(s))return null;"majority"===_&&(s=function m(s){if(!ae(s))return null;const c=s.clone(),{width:h,height:C,pixels:_}=s,t=_[0],g=c.pixels[0],v=(0,oe.Wg)(s.mask);for(let I=2;I<C-1;I++){const U=new Map;for(let p=I-2;p<I+2;p++)for(let y=0;y<4;y++){const d=p*h+y;P(U,t[d],v?v[d]:1)}g[I*h]=b(U),g[I*h+1]=g[I*h+2]=g[I*h];let i=3;for(;i<h-1;i++){let p=(I-2)*h+i+1;P(U,t[p],v?v[p]:1),p=(I-1)*h+i+1,P(U,t[p],v?v[p]:1),p=I*h+i+1,P(U,t[p],v?v[p]:1),p=(I+1)*h+i+1,P(U,t[p],v?v[p]:1),p=(I-2)*h+i-3,B(U,t[p],v?v[p]:1),p=(I-1)*h+i-3,B(U,t[p],v?v[p]:1),p=I*h+i-3,B(U,t[p],v?v[p]:1),p=(I+1)*h+i-3,B(U,t[p],v?v[p]:1),g[I*h+i]=b(U)}g[I*h+i+1]=g[I*h+i]}for(let I=0;I<h;I++)g[I]=g[h+I]=g[2*h+I],g[(C-1)*h+I]=g[(C-2)*h+I];return c.updateStatistics(),c}(s));const{pixels:t,mask:g,pixelType:v}=s,I=s.width,U=s.height,i=_e.Z.getPixelArrayConstructor(v),p=t.length,{width:y,height:d}=c;let k=!1;for(let ne=0;ne<h.length;ne+=3)-1===h[ne]&&-1===h[ne+1]&&-1===h[ne+2]&&(k=!0);const{offsets_x:T,offsets_y:S,offsets_xi:L,offsets_yi:j,gridWidth:z}=F({width:I,height:U},c,h,C,"majority"===_?.5:0);let V;const re=(ne,ce,Y)=>{const q=ne instanceof Float32Array||ne instanceof Float64Array?0:.5;for(let fe=0;fe<d;fe++){V=fe*z;for(let ve=0;ve<y;ve++){if(T[V]<0||S[V]<0)ne[fe*y+ve]=0;else if(Y)ne[fe*y+ve]=ce[L[V]+j[V]*I];else{const me=Math.floor(T[V]),we=Math.floor(S[V]),ge=Math.ceil(T[V]),be=Math.ceil(S[V]),Ee=T[V]-me,ke=S[V]-we;ne[fe*y+ve]=!g||g[me+we*I]&&g[me+we*I]&&g[me+be*I]&&g[ge+be*I]?(1-ke)*((1-Ee)*ce[me+we*I]+Ee*ce[ge+we*I])+ke*((1-Ee)*ce[me+be*I]+Ee*ce[ge+be*I])+q:ce[L[V]+j[V]*I]}V++}}},he=[];let ee;for(let ne=0;ne<p;ne++)ee=new i(y*d),re(ee,t[ne],"nearest"===_||"majority"===_),he.push(ee);const te=new _e.Z({width:y,height:d,pixelType:v,pixels:he});if((0,oe.pC)(g))te.mask=new Uint8Array(y*d),re(te.mask,g,!0);else if(k){te.mask=new Uint8Array(y*d);for(let ne=0;ne<y*d;ne++)te.mask[ne]=T[ne]<0||S[ne]<0?0:1}return te.updateStatistics(),te}},17057:(Ie,Ae,se)=>{se.d(Ae,{AV:()=>le,Hv:()=>ie,Oh:()=>$,ZF:()=>ye,dy:()=>ue,hE:()=>D,oc:()=>ae,um:()=>K});var oe=se(62208),_e=se(25688),Te=se(67313),xe=se(65468);const de=1,Ce=[.299,.587,.114];function ae(J,Z=256){Z=Math.min(Z,256);const{size:X,counts:E}=J,W=new Uint8Array(X),R=E.reduce((m,b)=>m+b/Z,0);let u=0,M=0,x=0,f=R;for(let m=0;m<X;m++)if(x+=E[m],!(m<X-1&&x+E[m+1]<f)){for(;u<Z-1&&f<x;)u++,f+=R;for(let b=M;b<=m;b++)W[b]=u;M=m+1}for(let m=M;m<X;m++)W[m]=Z-1;return W}function D(J){const{minCutOff:Z,maxCutOff:X,gamma:E,pixelType:W,rounding:R}=J,u=J.outMin||0,M=J.outMax||255;if(!["u8","u16","s8","s16"].includes(W))return null;const x=Z.length;let f,m,b=0;"s8"===W?b=-127:"s16"===W&&(b=-32767);let B=256;["u16","s16"].includes(W)&&(B=65536);const P=[],w=[],A=M-u;for(f=0;f<x;f++)w[f]=X[f]-Z[f],P[f]=0===w[f]?0:A/w[f];let G;const F=[];let N,O,s;if(E&&E.length>=x){const c=K(x,E);for(f=0;f<x;f++){for(s=[],m=0;m<B;m++)if(0!==w[f])if(N=m+b,G=(N-Z[f])/w[f],O=1,E[f]>1&&(O-=(1/A)**(G*c[f])),N<X[f]&&N>Z[f]){const h=O*A*G**(1/E[f])+u;s[m]="floor"===R?Math.floor(h):"round"===R?Math.round(h):h}else s[m]=N>=X[f]?M:u;else s[m]=u;F[f]=s}}else for(f=0;f<x;f++){for(s=[],m=0;m<B;m++)if(N=m+b,N<=Z[f])s[m]=u;else if(N>=X[f])s[m]=M;else{const c=(N-Z[f])*P[f]+u;s[m]="floor"===R?Math.floor(c):"round"===R?Math.round(c):c}F[f]=s}if(null!=J.contrastOffset){const c=function pe(J,Z){const X=Math.min(Math.max(J,-100),100),E=Math.min(Math.max(Z??0,-100),100),W=255;let u=0,M=0;const x=new Uint8Array(256);for(u=0;u<256;u++)X>0&&X<100?M=(200*u-25500+510*E)/(2*(100-X))+128:X<=0&&X>-100?M=(200*u-25500+510*E)*(100+X)/2e4+128:100===X?(M=200*u-25500+256*(100-X)+510*E,M=M>0?W:0):-100===X&&(M=128),x[u]=M>W?W:M<0?0:M;return x}(J.contrastOffset,J.brightnessOffset);for(f=0;f<x;f++)for(s=F[f],m=0;m<B;m++)s[m]=c[s[m]]}return{lut:F,offset:b}}function ye(J,Z,X){const E=[];for(let W=0;W<Z.length;W++){let R=0,u=0,M=0;"min"in Z[W]?({min:R,max:u,avg:M}=Z[W]):[R,u,M]=Z[W];let x=M??0;"u8"!==J&&(x=255*(x-R)/(u-R)),X&&(x*=Ce[W]),E.push(H(x))}return E}function H(J){if(J<=0||J>=255)return de;let Z=0;150!==J&&(Z=J<=150?45*Math.cos(.01047*J):17*Math.sin(.021*J));const E=J+Z,W=Math.log(J/255),R=Math.log(E/255);if(0===R)return de;const u=W/R;return isNaN(u)?de:Math.min(9.9,Math.max(.01,u))}function ie(J){if((0,oe.Wi)(J)||!J.pixels?.length)return null;const{pixels:Z,mask:X,pixelType:E}=J,W=J.width*J.height,R=Z.length;let u,M,x,f,m;const b=[],B=[];let P,w,A,G,F,N,O,s,c,h;const C=256;for(f=0;f<R;f++){if(P=new Uint32Array(C),A=Z[f],"u8"===E)if(u=-.5,M=255.5,X)for(m=0;m<W;m++)X[m]&&P[A[m]]++;else for(m=0;m<W;m++)P[A[m]]++;else{let _=!1;J.statistics||(J.updateStatistics(),_=!0);const t=J.statistics;if(u=t[f].minValue,M=t[f].maxValue,x=(M-u)/C,0===x){!t||J.validPixelCount||_||J.updateStatistics();const g=(J.validPixelCount||J.width*J.height)/C;for(let v=0;v<C;v++)P[v]=Math.round(g*(v+1))-Math.round(g*v)}else{for(w=new Uint32Array(257),m=0;m<W;m++)X&&!X[m]||w[Math.floor((A[m]-u)/x)]++;for(m=0;m<255;m++)P[m]=w[m];P[255]=w[255]+w[C]}}for(b.push({min:u,max:M,size:C,counts:P}),G=0,F=0,s=0,m=0;m<C;m++)G+=P[m],F+=m*P[m];for(c=F/G,m=0;m<C;m++)s+=P[m]*(m-c)**2;h=Math.sqrt(s/(G-1)),x=(M-u)/C,N=(c+.5)*x+u,O=h*x,B.push({min:u,max:M,avg:N,stddev:O})}return{statistics:B,histograms:b}}function $(J){const Z=[];for(let X=0;X<J.length;X++){const{min:E,max:W,size:R,counts:u}=J[X];let M=0,x=0;for(let w=0;w<R;w++)M+=u[w],x+=w*u[w];const f=x/M;let m=0;for(let w=0;w<R;w++)m+=u[w]*(w-f)**2;const b=(W-E)/R,B=(f+.5)*b+E,P=Math.sqrt(m/(M-1))*b;Z.push({min:E,max:W,avg:B,stddev:P})}return Z}function le(J,Z){const{pixelBlock:X,bandIds:E,returnHistogramLut:W,rasterInfo:R}=Z;let u=null,M=null,x=J.stretchType;if("number"==typeof x&&(x=xe.J[x]),J.dra)if("minMax"===x&&(0,oe.pC)(X)&&X.statistics)u=X.statistics.map(g=>[g.minValue,g.maxValue,0,0]);else{const g=ie(X);u=(0,oe.pC)(g)?g.statistics:null,M=(0,oe.pC)(g)?g.histograms:null}else u=J.statistics?.length>0?J.statistics:(0,oe.Wg)(R.statistics),M=J.histograms||(0,oe.Wg)(R.histograms);"percentClip"!==x&&"histogramEqualization"!==x||M?.length||(x="minMax");const f=u?.length||M?.length||R.bandCount,m=[],b=[];let B,P,w,A,G,F,N,O,s;u&&!Array.isArray(u[0])&&(u=u.map(g=>[g.min,g.max,g.avg,g.stddev]));const[c,h]=(0,Te.r)(R.pixelType);if(!u?.length){for(u=[],O=0;O<f;O++)u.push([c,h,1,1]);"standardDeviation"===x&&(x="minMax")}switch(x){case"none":for(O=0;O<f;O++)m[O]=c,b[O]=h;break;case"minMax":for(O=0;O<f;O++)m[O]=u[O][0],b[O]=u[O][1];break;case"standardDeviation":for(O=0;O<f;O++)m[O]=u[O][2]-J.numberOfStandardDeviations*u[O][3],b[O]=u[O][2]+J.numberOfStandardDeviations*u[O][3],m[O]<u[O][0]&&(m[O]=u[O][0]),b[O]>u[O][1]&&(b[O]=u[O][1]);break;case"histogramEqualization":for((0,oe.O3)(M),O=0;O<f;O++)m[O]=M[O].min,b[O]=M[O].max;break;case"percentClip":for((0,oe.O3)(M),O=0;O<M.length;O++){for(B=M[O],G=new Uint32Array(B.size),A=[...B.counts],A.length>=20&&(A[0]=A[1]=A[2]=A[A.length-1]=A[A.length-2]=0),w=0,P=(B.max-B.min)/B.size,N=-.5===B.min&&1===P?.5:0,s=0;s<B.size;s++)w+=A[s],G[s]=w;for(F=(J.minPercent||0)*w/100,m[O]=B.min+N,s=0;s<B.size;s++)if(G[s]>F){m[O]=B.min+P*(s+N);break}for(F=(1-(J.maxPercent||0)/100)*w,b[O]=B.max+N,s=B.size-2;s>=0;s--)if(G[s]<F){b[O]=B.min+P*(s+2-N);break}if(b[O]<m[O]){const g=m[O];m[O]=b[O],b[O]=g}}break;default:for(O=0;O<f;O++)m[O]=u[O][0],b[O]=u[O][1]}let C,_,t;return"histogramEqualization"===x?((0,oe.O3)(M),_=M[0].size||256,C=0,W&&(t=M.map(g=>ae(g)))):(_=J.max||255,C=J.min||0),function Q(J,Z){if(null==Z||0===Z.length)return J;const X=Math.max.apply(null,Z),{minCutOff:E,maxCutOff:W,outMin:R,outMax:u,histogramLut:M}=J;return E.length===Z.length||E.length<=X?J:{minCutOff:Z.map(x=>E[x]),maxCutOff:Z.map(x=>W[x]),histogramLut:M?Z.map(x=>M[x]):null,outMin:R,outMax:u}}({minCutOff:m,maxCutOff:b,outMax:_,outMin:C,histogramLut:t},E)}function K(J,Z){const X=new Float32Array(J);for(let E=0;E<J;E++)X[E]=Z[E]>1?Z[E]>2?6.5+(Z[E]-2)**2.5:6.5+100*(2-Z[E])**4:1;return X}function ue(J,Z){if((0,oe.Wi)(J)||!J.pixels?.length)return J;const{mask:X,width:E,height:W,pixels:R}=J,{minCutOff:u,maxCutOff:M,gamma:x}=Z,f=Z.outMin||0,m=Z.outMax||255,b=E*W,B=Z.outputPixelType||"u8",P=J.pixels.map(()=>_e.Z.createEmptyBand(B,b)),w=P.length;let A,G,F,N,O;const s=m-f,c=[],h=[];for(A=0;A<w;A++)h[A]=M[A]-u[A],c[A]=0===h[A]?0:s/h[A];const C=B.startsWith("u")||B.startsWith("s"),t=!!Z.isRenderer;if(x&&x.length>=w){const v=K(w,x);for(G=0;G<b;G++)if(null==X||X[G])for(A=0;A<w;A++)if(0!==h[A])if(F=R[A][G],O=(F-u[A])/h[A],N=1,x[A]>1&&(N-=(1/s)**(O*v[A])),F<M[A]&&F>u[A]){const I=N*s*O**(1/x[A])+f;P[A][G]=t?Math.floor(I):C?Math.round(I):I}else P[A][G]=F>=M[A]?m:f;else P[A][G]=f}else for(G=0;G<b;G++)if(null==X||X[G])for(A=0;A<w;A++)if(F=R[A][G],F<M[A]&&F>u[A]){const v=(F-u[A])*c[A]+f;P[A][G]=t?Math.floor(v):C?Math.round(v):v}else P[A][G]=F>=M[A]?m:f;const g=new _e.Z({width:E,height:W,mask:X,pixels:P,pixelType:B});return g.updateStatistics(),g}},67845:(Ie,Ae,se)=>{se.d(Ae,{M_:()=>D,TK:()=>xe,Ub:()=>Ce,vC:()=>de,yg:()=>ae});var oe=se(62208),_e=se(25688),Te=se(79751);function xe(pe){let{altitude:ye,azimuth:H}=pe;const{hillshadeType:ie,pixelSizePower:$=1,pixelSizeFactor:le=1,scalingType:Q,isGCS:K,resolution:ue}=pe,J="multi-directional"===ie?2*pe.zFactor:pe.zFactor,{x:Z,y:X}=ue;let E=J/(8*Z),W=J/(8*X);if(K&&J>.001&&(E/=111e3,W/=111e3),"adjusted"===Q)if(K){const O=111e3*Z,s=111e3*X;E=(J+O**$*le)/(8*O),W=(J+s**$*le)/(8*s)}else E=(J+Z**$*le)/(8*Z),W=(J+X**$*le)/(8*X);let R=(90-ye)*Math.PI/180,u=Math.cos(R),M=(360-H+90)*Math.PI/180,x=Math.sin(R)*Math.cos(M),f=Math.sin(R)*Math.sin(M);const m=[315,270,225,360,180,0],b=[60,60,60,60,60,90],B=new Float32Array([3,5,3,2,1,4]),P=B.reduce((O,s)=>O+s),w=B.map(O=>O/P),A="multi-directional"===ie?m.length:1,G=new Float32Array(6),F=new Float32Array(6),N=new Float32Array(6);if("multi-directional"===ie)for(let O=0;O<A;O++)ye=b[O],H=m[O],R=(90-ye)*Math.PI/180,u=Math.cos(R),M=(360-H+90)*Math.PI/180,x=Math.sin(R)*Math.cos(M),f=Math.sin(R)*Math.sin(M),G[O]=u,F[O]=x,N[O]=f;else G.fill(u),F.fill(x),N.fill(f);return{resolution:ue,factor:[E,W],sinZcosA:x,sinZsinA:f,cosZ:u,sinZcosAs:F,sinZsinAs:N,cosZs:G,weights:w,hillshadeType:["traditional","multi-directional"].indexOf(ie)}}function de(pe,ye){if(!(0,Te.nk)(pe))return pe;const{width:H,height:ie,mask:$}=pe,le=new Uint8Array(H*ie);let Q=1;if((0,oe.pC)($)){for(let c=0;c<$.length;c++)if($[c]){Q=$[c];break}le.set($)}const{factor:K,sinZcosA:ue,sinZsinA:J,cosZ:Z,sinZcosAs:X,sinZsinAs:E,cosZs:W,weights:R}=xe(ye),[u,M]=K,{hillshadeType:x}=ye,f=pe.pixels[0],m=new Uint8Array(H*ie);let b,B,P,w,A,G,F,N;const s=(0,oe.pC)($);for(let c=1;c<ie-1;c++){const h=c*H;for(let C=1;C<H-1;C++){if($&&!$[h+C]){m[h+C]=0;continue}let _=8;if(s&&(_=($[h-H+C-1]+$[h-H+C]+$[h-H+C+1]+$[h+C-1]+$[h+C+1]+$[h+H+C-1]+$[h+H+C]+$[h+H+C+1])/Q,_<7)){m[h+C]=0,le[h+C]=0;continue}$&&7===_?(b=$[h-H+C-1]?f[h-H+C-1]:f[h+C],B=$[h-H+C]?f[h-H+C]:f[h+C],P=$[h-H+C+1]?f[h-H+C+1]:f[h+C],w=$[h+C-1]?f[h+C-1]:f[h+C],A=$[h+C+1]?f[h+C+1]:f[h+C],G=$[h+H+C-1]?f[h+H+C-1]:f[h+C],F=$[h+H+C]?f[h+H+C]:f[h+C],N=$[h+H+C+1]?f[h+H+C+1]:f[h+C]):(b=f[h-H+C-1],B=f[h-H+C],P=f[h-H+C+1],w=f[h+C-1],A=f[h+C+1],G=f[h+H+C-1],F=f[h+H+C],N=f[h+H+C+1]);const t=(P+A+A+N-(b+w+w+G))*u,g=(G+F+F+N-(b+B+B+P))*M,v=Math.sqrt(1+t*t+g*g);let I=0;if("traditional"===x){let U=255*(Z+J*g-ue*t)/v;U<0&&(U=0),I=U}else{const U=E.length;for(let i=0;i<U;i++){let p=255*(W[i]+E[i]*g-X[i]*t)/v;p<0&&(p=0),I+=p*R[i]}}m[h+C]=255&I}}for(let c=0;c<ie;c++)m[c*H]=m[c*H+1],m[(c+1)*H-1]=m[(c+1)*H-2];for(let c=1;c<H-1;c++)m[c]=m[c+H],m[c+(ie-1)*H]=m[c+(ie-2)*H];return new _e.Z({width:H,height:ie,pixels:[m],mask:$?le:null,pixelType:"u8",validPixelCount:pe.validPixelCount,statistics:[{minValue:0,maxValue:255}]})}function Ce(pe,ye,H,ie){if(!(0,Te.nk)(pe)||!(0,Te.nk)(ye))return;const{min:$,max:le}=ie,Q=pe.pixels[0],{pixels:K,mask:ue}=ye,J=K[0],Z=255.00001/(le-$),X=new Uint8ClampedArray(J.length),E=new Uint8ClampedArray(J.length),W=new Uint8ClampedArray(J.length),R=H.length-1;for(let u=0;u<J.length;u++){if(ue&&0===ue[u])continue;const M=Math.floor((J[u]-$)*Z),[x,f]=H[M<0?0:M>R?R:M],m=Q[u],b=m*f,B=b*(1-Math.abs(x%2-1)),P=m-b;switch(Math.floor(x)){case 0:X[u]=b+P,E[u]=B+P,W[u]=P;break;case 1:X[u]=B+P,E[u]=b+P,W[u]=P;break;case 2:X[u]=P,E[u]=b+P,W[u]=B+P;break;case 3:X[u]=P,E[u]=B+P,W[u]=b+P;break;case 4:X[u]=B+P,E[u]=P,W[u]=b+P;break;case 5:case 6:X[u]=b+P,E[u]=P,W[u]=B+P}}pe.pixels=[X,E,W],pe.updateStatistics()}function ae(pe,ye){if(!(0,Te.nk)(pe))return pe;const H=ye.zFactor,ie=ye.pixelSizePower??1,$=ye.pixelSizeFactor??1,le=ye.slopeType,Q=ye.isGCS,{width:K,height:ue,mask:J}=pe,Z=pe.pixels[0],X=new Uint8Array(K*ue);let E=1;if((0,oe.pC)(J)){for(let s=0;s<J.length;s++)if(J[s]){E=J[s];break}X.set(J)}const W=new Float32Array(K*ue),{x:R,y:u}=ye.resolution;let m,b,B,P,w,A,G,F,M=H/(8*R),x=H/(8*u);Q&&Math.abs(H-1)<1e-4&&(M/=111e3,x/=111e3),"adjusted"===le&&(M=(H+R**ie*$)/(8*R),x=(H+u**ie*$)/(8*u));const N=(0,oe.pC)(J);for(let s=1;s<ue-1;s++){const c=s*K;for(let h=1;h<K-1;h++){if(J&&!J[c+h]){W[c+h]=0;continue}let C=0;if(N&&(C=(J[c-K+h-1]+J[c-K+h]+J[c-K+h+1]+J[c+h-1]+J[c+h+1]+J[c+K+h-1]+J[c+K+h]+J[c+K+h+1])/E,C<7)){W[c+h]=0,X[c+h]=0;continue}J&&7===C?(m=J[c-K+h-1]?Z[c-K+h-1]:Z[c+h],b=J[c-K+h]?Z[c-K+h]:Z[c+h],B=J[c-K+h+1]?Z[c-K+h+1]:Z[c+h],P=J[c+h-1]?Z[c+h-1]:Z[c+h],w=J[c+h+1]?Z[c+h+1]:Z[c+h],A=J[c+K+h-1]?Z[c+K+h-1]:Z[c+h],G=J[c+K+h]?Z[c+K+h]:Z[c+h],F=J[c+K+h+1]?Z[c+K+h+1]:Z[c+h]):(m=Z[c-K+h-1],b=Z[c-K+h],B=Z[c-K+h+1],P=Z[c+h-1],w=Z[c+h+1],A=Z[c+K+h-1],G=Z[c+K+h],F=Z[c+K+h+1]);const _=(B+w+w+F-(m+P+P+A))*M,t=(A+G+G+F-(m+b+b+B))*x,g=Math.sqrt(_*_+t*t);W[c+h]="percent-rise"===le?100*g:57.2957795*Math.atan(g)}}for(let s=0;s<ue;s++)W[s*K]=W[s*K+1],W[(s+1)*K-1]=W[(s+1)*K-2];for(let s=1;s<K-1;s++)W[s]=W[s+K],W[s+(ue-1)*K]=W[s+(ue-2)*K];const O=new _e.Z({width:K,height:ue,pixels:[W],mask:J?X:null,pixelType:"f32",validPixelCount:pe.validPixelCount});return O.updateStatistics(),O}function D(pe,ye={}){if(!(0,Te.nk)(pe))return pe;const{width:H,height:ie,mask:$}=pe,le=pe.pixels[0],Q=new Uint8Array(H*ie);(0,oe.pC)($)&&Q.set($);const K=new Float32Array(H*ie),{resolution:ue}=ye,J=ue?1/ue.x:1,Z=ue?1/ue.y:1;let E,W,R,u,M,x,f,m;const b=(0,oe.pC)($);for(let B=1;B<ie-1;B++){const P=B*H;for(let w=1;w<H-1;w++){if($&&!$[P+w]){K[P+w]=0;continue}let A=0;if(b&&(A=$[P-H+w-1]+$[P-H+w]+$[P-H+w+1]+$[P+w-1]+$[P+w+1]+$[P+H+w-1]+$[P+H+w]+$[P+H+w+1],A<7)){K[P+w]=0,Q[P+w]=0;continue}$&&7===A?(E=$[P-H+w-1]?le[P-H+w-1]:le[P+w],W=$[P-H+w]?le[P-H+w]:le[P+w],R=$[P-H+w+1]?le[P-H+w+1]:le[P+w],u=$[P+w-1]?le[P+w-1]:le[P+w],M=$[P+w+1]?le[P+w+1]:le[P+w],x=$[P+H+w-1]?le[P+H+w-1]:le[P+w],f=$[P+H+w]?le[P+H+w]:le[P+w],m=$[P+H+w+1]?le[P+H+w+1]:le[P+w]):(E=le[P-H+w-1],W=le[P-H+w],R=le[P-H+w+1],u=le[P+w-1],M=le[P+w+1],x=le[P+H+w-1],f=le[P+H+w],m=le[P+H+w+1]);const G=(R+M+M+m-(E+u+u+x))*J,F=(x+f+f+m-(E+W+W+R))*Z;let N=-1;0===G&&0===F||(N=90-57.29578*Math.atan2(F,-G),N<0&&(N+=360),360===N?N=0:N>360&&(N%=360)),K[P+w]=N}}for(let B=0;B<ie;B++)K[B*H]=K[B*H+1],K[(B+1)*H-1]=K[(B+1)*H-2];for(let B=1;B<H-1;B++)K[B]=K[B+H],K[B+(ie-1)*H]=K[B+(ie-2)*H];return new _e.Z({width:H,height:ie,pixels:[K],mask:$?Q:null,pixelType:"f32",validPixelCount:pe.validPixelCount,statistics:[{minValue:0,maxValue:360}]})}},30994:(Ie,Ae,se)=>{se.d(Ae,{KC:()=>le,NL:()=>D,QI:()=>Q,Tg:()=>H,Yx:()=>pe,xQ:()=>$});var oe=se(2076),_e=se(62208),Te=se(25688),xe=se(79751);const de=new Map;de.set("meter-per-second",1),de.set("kilometer-per-hour",.277778),de.set("knots",.514444),de.set("feet-per-second",.3048),de.set("mile-per-hour",.44704);const Ce=180/Math.PI,D=new oe.X({esriMetersPerSecond:"meter-per-second",esriKilometersPerHour:"kilometer-per-hour",esriKnots:"knots",esriFeetPerSecond:"feet-per-second",esriMilesPerHour:"mile-per-hour"});function pe(w,A){return de.get(w)/de.get(A)||1}function ye(w){return(450-w)%360}function H(w,A="geographic"){const[G,F]=w,N=Math.sqrt(G*G+F*F);let O=Math.atan2(F,G)*Ce;return O=(360+O)%360,"geographic"===A&&(O=ye(O)),[N,O]}function ie(w,A="geographic"){let G=w[1];"geographic"===A&&(G=ye(G)),G%=360;const F=w[0];return[F*Math.cos(G/Ce),F*Math.sin(G/Ce)]}function $(w,A,G,F="geographic"){if(!(0,xe.nk)(w)||(0,_e.Wi)(G))return w;const N="vector-magdir"===A?w.clone():(0,_e.Wg)(le(w,A)),O=N.pixels[1];for(let s=0;s<O.length;s++)O[s]="geographic"===F?(O[s]+G[s]+270)%360:(O[s]+360-G[s])%360;return"vector-magdir"===A?N:le(N,"vector-magdir")}function le(w,A,G="geographic",F=1){if(!(0,xe.nk)(w))return w;const{pixels:N,width:O,height:s}=w,c=O*s,h=N[0],C=N[1],_=w.pixelType.startsWith("f")?w.pixelType:"f32",t=Te.Z.createEmptyBand(_,c),g=Te.Z.createEmptyBand(_,c);let v=0;for(let U=0;U<s;U++)for(let i=0;i<O;i++)"vector-uv"===A?([t[v],g[v]]=H([h[v],C[v]],G),t[v]*=F):([t[v],g[v]]=ie([h[v],C[v]],G),t[v]*=F,g[v]*=F),v++;const I=new Te.Z({pixelType:_,width:w.width,height:w.height,mask:w.mask,validPixelCount:w.validPixelCount,maskIsAlpha:w.maskIsAlpha,pixels:[t,g]});return I.updateStatistics(),I}function Q(w,A,G=1){if(1===G||!(0,xe.nk)(w))return w;const F=w.clone(),{pixels:N,width:O,height:s}=F,c=N[0],h=N[1];let C=0;for(let _=0;_<s;_++)for(let t=0;t<O;t++)"vector-uv"===A?(c[C]*=G,h[C]*=G):c[C]*=G,C++;return F.updateStatistics(),F}function X(w,A,G,F=1){const N=Math.sqrt(w*w+A*A)/F,O=(2*Math.PI+Math.atan2(A,w))%(2*Math.PI);return[N,(2*Math.PI+O-G)%(2*Math.PI)]}!function J(w=0,A=0,G=Math.PI,F=!0){F&&(G=(2*Math.PI-G)%(2*Math.PI));const N=F?-1:1,O=13*N,s=-7*N,c=-2*N,h=-16*N,C=21.75,[_,t]=X(0,A+O,G,C),[g,v]=X(w-5.5,A+s,G,C),[I,U]=X(w+5.5,A+s,G,C),[i,p]=X(w-1.5,A+c,G,C),[y,d]=X(w+1.5,A+c,G,C),[k,T]=X(w-1.5,A+h,G,C),[S,L]=X(w+1.5,A+h,G,C);return[_,t,g,v,i,p,y,d,I,U,k,T,S,L]}(0,0,0)},99033:(Ie,Ae,se)=>{se.d(Ae,{Z:()=>X});var oe=se(17626),_e=se(78260),Te=se(86810),xe=se(63290),de=se(62208),Ce=se(77712),pe=(se(90912),se(85931),se(76898)),ye=se(79645),H=se(79751),ie=se(17057),$=se(67845),le=se(70208);let J=class extends Te.wq{constructor(E){super(E)}bind(){const{rendererJSON:E}=this;if(!E)return{success:!1};let W;switch(this.lookup={rendererJSON:{}},E.type){case"uniqueValue":W=this._updateUVRenderer(E);break;case"rasterColormap":W=this._updateColormapRenderer(E);break;case"rasterStretch":W=this._updateStretchRenderer(E);break;case"classBreaks":W=this._updateClassBreaksRenderer(E);break;case"rasterShadedRelief":W=this._updateShadedReliefRenderer(E);break;case"vectorField":W=this._updateVectorFieldRenderer();break;case"flowRenderer":W=this._updateFlowRenderer()}return W}symbolize(E){let W=E&&E.pixelBlock;if(!Z(W))return W;if(E.simpleStretchParams&&"rasterStretch"===this.rendererJSON.type)return this.simpleStretch(W,E.simpleStretchParams);try{let R;switch(W.pixels.length>3&&(W=(0,H.qF)(W,[0,1,2])),this.rendererJSON.type){case"uniqueValue":case"rasterColormap":R=this._symbolizeColormap(W);break;case"classBreaks":R=this._symbolizeClassBreaks(W);break;case"rasterStretch":R=this._symbolizeStretch(W,E.bandIds);break;case"rasterShadedRelief":{const u=E.extent;R=this._symbolizeShadedRelief(W,{isGCS:u.spatialReference.isGeographic,resolution:{x:(u.xmax-u.xmin)/W.width,y:(u.ymax-u.ymin)/W.height}});break}}return R}catch(R){return xe.Z.getLogger(this.declaredClass).error("symbolize",R.message),W}}simpleStretch(E,W){if(!Z(E))return E;try{return E.pixels.length>3&&(E=(0,H.qF)(E,[0,1,2])),(0,ie.dy)(E,{...W,isRenderer:!0})}catch(R){return xe.Z.getLogger(this.declaredClass).error("symbolize",R.message),E}}generateWebGLParameters(E){if(["uniqueValue","rasterColormap","classBreaks"].includes(this.rendererJSON.type)){const{indexedColormap:f,offset:m}=this.lookup.colormapLut||{};return{colormap:f,colormapOffset:m,type:"lut"}}const{pixelBlock:W,isGCS:R,resolution:u,bandIds:M}=E,{rendererJSON:x}=this;return"rasterStretch"===x.type?this._generateStretchWebGLParams(W,x,M):"rasterShadedRelief"===x.type?this._generateShadedReliefWebGLParams(x,R,u??void 0):"vectorField"===x.type?this._generateVectorFieldWebGLParams(x):null}_isLUTChanged(E){return!this.lookup||!this.lookup.rendererJSON||("colorRamp"in this.rendererJSON&&E?JSON.stringify(this.rendererJSON.colorRamp)!==JSON.stringify(this.lookup.rendererJSON.colorRamp):JSON.stringify(this.rendererJSON)!==JSON.stringify(this.lookup.rendererJSON))}_symbolizeColormap(E){return this._isLUTChanged()&&!this.bind().success?E:(0,H.SJ)(E,this.lookup.colormapLut)}_symbolizeClassBreaks(E){const{canUseIndexedLUT:W}=this._analyzeClassBreaks(this.rendererJSON);return this._isLUTChanged()&&!this.bind().success?E:W?(0,H.SJ)(E,this.lookup.colormapLut):(0,H.zp)(E,this.lookup.remapLut??[])}_symbolizeStretch(E,W){const{rasterInfo:R}=this,{pixelType:u,bandCount:M}=R,x=this.rendererJSON,f=["u8","u16","s8","s16"].includes(u);let m,b;const{dra:B}=x,{gamma:P}=this.lookup;if("histogramEqualization"===x.stretchType){const w=B?null:this.lookup?.histogramLut,A=(0,ie.AV)(x,{rasterInfo:R,pixelBlock:E,bandIds:W,returnHistogramLut:!w}),G=(0,ie.dy)(E,{...A,gamma:P,isRenderer:!0});b=(0,H.XV)(G,{lut:B?A.histogramLut:w,offset:0})}else if(f){if(B){const w=(0,ie.AV)(x,{rasterInfo:R,pixelBlock:E,bandIds:W});m=(0,ie.hE)({pixelType:u,...w,gamma:P,rounding:"floor"})}else if(this._isLUTChanged()){if(!this.bind().success)return E;m=this.lookup?this.lookup.stretchLut:null}else m=this.lookup?this.lookup.stretchLut:null;if(!m)return E;M>1&&W?.length===(0,de.Wg)(E)?.pixels.length&&m?.lut.length===M&&(m={lut:W.map(w=>m.lut[w]),offset:m.offset}),b=(0,H.XV)(E,m)}else{const w=(0,ie.AV)(x,{rasterInfo:R,pixelBlock:E,bandIds:W});b=(0,ie.dy)(E,{...w,gamma:P,isRenderer:!0})}if(x.colorRamp){if(this._isLUTChanged(!0)&&!this.bind().success)return E;b=(0,H.SJ)(b,this.lookup?.colormapLut)}return b}_symbolizeShadedRelief(E,W){const R=this.rendererJSON,u={...R,...W},M=(0,$.vC)(E,u);if(!R.colorRamp)return M;let x;if(this._isLUTChanged(!0)){if(!this.bind().success)return M;x=this.lookup?this.lookup.hsvMap:null}else x=this.lookup?this.lookup.hsvMap:null;if(!x)return M;const f=(0,de.Wg)(this.rasterInfo.statistics)?.[0]??{min:0,max:8e3};return(0,$.Ub)(M,E,x,f),M}_isVectorFieldData(){const{bandCount:E,dataType:W}=this.rasterInfo;return 2===E&&("vector-magdir"===W||"vector-uv"===W)}_updateVectorFieldRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; VectorFieldRenderer only supports "vector-magdir" and "vector-uv".`}}_updateFlowRenderer(){return this._isVectorFieldData()?{success:!0}:{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; FlowRenderer only supports "vector-magdir" and "vector-uv".`}}_updateUVRenderer(E){const{bandCount:W,attributeTable:R,pixelType:u}=this.rasterInfo,M=E.field1;if(!M)return{success:!1,error:"Unsupported renderer; missing UniqueValueRenderer.field."};const x=E.defaultSymbol,f=1===W&&["u8","s8"].includes(u);if(!function Q(E,W){const{attributeTable:R,bandCount:u}=E;return!((0,de.Wi)(R)||u>1||W&&null==R.fields.find(M=>M.name.toLowerCase()===W.toLowerCase()))}(this.rasterInfo,M)&&!f)return{success:!1,error:"Unsupported data; UniqueValueRenderer is only supported on single band data with a valid raster attribute table."};const m=[];if((0,de.pC)(R)){const B=R.fields.find(P=>"value"===P.name.toLowerCase());if(!B)return{success:!1,error:"Unsupported data; the data's raster attribute table does not have a value field."};R.features.forEach(P=>{const w=E.uniqueValueInfos?.find(G=>String(G.value)===String(P.attributes[M])),A=w?.symbol?.color;A?m.push([P.attributes[B.name]].concat(A)):x&&m.push([P.attributes[B.name]].concat(x.color))})}else{if("value"!==M.toLowerCase())return{success:!1,error:'Unsupported renderer; UniqueValueRenderer.field must be "Value" when raster attribute table is not availalbe.'};E.uniqueValueInfos?.forEach(B=>{const P=B?.symbol?.color;P?m.push([parseInt(""+B.value,10)].concat(P)):x&&m.push([parseInt(""+B.value,10)].concat(x?.color))})}if(0===m.length)return{success:!1,error:"Invalid UniqueValueRenderer. Cannot find matching records in the raster attribute table."};const b=(0,H.Pz)({colormap:m});return this.lookup={rendererJSON:E,colormapLut:b},this.canRenderInWebGL=!0,{success:!0}}_updateColormapRenderer(E){if(!function ue(E){const{bandCount:W,colormap:R}=E;return(0,de.pC)(R)&&R.length>0&&1===W}(this.rasterInfo))return{success:!1,error:"Unsupported data; the data source does not have a colormap."};const W=E.colormapInfos.map(u=>[u.value].concat(u.color)).sort((u,M)=>u[0]-M[0]);if(!W||0===W.length)return{success:!1,error:"Unsupported renderer; ColormapRenderer must have meaningful colormapInfos."};const R=(0,H.Pz)({colormap:W});return this.lookup={rendererJSON:E,colormapLut:R},this.canRenderInWebGL=!0,{success:!0}}_updateShadedReliefRenderer(E){if(!function K(E){const{bandCount:W,dataType:R,pixelType:u}=E;return"elevation"===R||"generic"===R&&1===W&&("s16"===u||"f32"===u||"f64"===u)}(this.rasterInfo))return{success:!1,error:`Unsupported data type "${this.rasterInfo.dataType}"; ShadedReliefRenderer only supports "elevation", or single band float/s16 data.`};if(E.colorRamp){const W=(0,le.Jw)(E.colorRamp,{interpolateAlpha:!0}),R=(0,H.Pz)({colormap:W}),u=[],M=R.indexedColormap;for(let x=0;x<M.length;x+=4){const f=(0,_e._Y)({r:M[x],g:M[x+1],b:M[x+2]});u.push([f.h/60,f.s/100,255*f.v/100])}this.lookup={rendererJSON:E,colormapLut:R,hsvMap:u}}else this.lookup=null;return this.canRenderInWebGL=!0,{success:!0}}_analyzeClassBreaks(E){const{attributeTable:W,pixelType:R}=this.rasterInfo,u=(0,de.pC)(W)?W.fields.find(f=>"value"===f.name.toLowerCase()):null,M=(0,de.pC)(W)?W.fields.find(f=>f.name.toLowerCase()===E.field.toLowerCase()):null,x=null!=u&&null!==M;return{canUseIndexedLUT:["u8","u16","s8","s16"].includes(R)||x,tableValueField:u,tableBreakField:M}}_updateClassBreaksRenderer(E){const{attributeTable:W}=this.rasterInfo,{canUseIndexedLUT:R,tableValueField:u,tableBreakField:M}=this._analyzeClassBreaks(E),x=E.classBreakInfos;if(!x?.length)return{success:!1,error:"Unsupported renderer; missing or invalid ClassBreaksRenderer.classBreakInfos."};const f=x.sort((w,A)=>w.classMaxValue-A.classMaxValue),m=f[f.length-1];let b=E.minValue;if(!R){const w=[];for(let A=0;A<f.length;A++)w.push({value:f[A].classMinValue??b,mappedColor:f[A].symbol.color}),b=f[A].classMaxValue;return w.push({value:m.classMaxValue,mappedColor:m.symbol.color}),this.lookup={rendererJSON:E,remapLut:w},this.canRenderInWebGL=!1,{success:!0}}const B=[];if((0,de.pC)(W)&&null!=u&&null!==M&&u!==M){const w=u.name,A=M.name,G=f[f.length-1],{classMaxValue:F}=G;b=E.minValue;for(const N of W.features){const O=N.attributes[w],s=N.attributes[A],c=s===F?G:s<b?null:f.find(({classMaxValue:h})=>h>s);c&&B.push([O].concat(c.symbol.color))}}else{b=Math.floor(E.minValue);for(let w=0;w<f.length;w++){const A=f[w];for(let G=b;G<A.classMaxValue;G++)B.push([G].concat(A.symbol.color));b=Math.ceil(A.classMaxValue)}m.classMaxValue===b&&B.push([m.classMaxValue].concat(m.symbol.color))}const P=(0,H.Pz)({colormap:B,fillUnspecified:!1});return this.lookup={rendererJSON:E,colormapLut:P},this.canRenderInWebGL=!0,{success:!0}}_isHistogramRequired(E){return"percentClip"===E||"histogramEqualization"===E}_isValidRasterStatistics(E){return(0,de.pC)(E)&&E.length>0&&null!=E[0].min&&null!=E[0].max}_updateStretchRenderer(E){let{stretchType:W,dra:R}=E;if(!("none"===W||E.statistics?.length||this._isValidRasterStatistics(this.rasterInfo.statistics)||R))return{success:!1,error:"Unsupported renderer; StretchRenderer.statistics is required when dynamic range adjustment is not used."};const u=(0,de.Wg)(E.histograms||this.rasterInfo.histograms);!this._isHistogramRequired(E.stretchType)||u?.length||R||(W="minMax");const{computeGamma:M,useGamma:x,colorRamp:f}=E;let{gamma:m}=E;if(x&&M&&!m?.length){const P=E.statistics?.length?E.statistics:(0,de.Wg)(this.rasterInfo.statistics);m=(0,ie.ZF)(this.rasterInfo.pixelType,P)}const b=this.rasterInfo.pixelType,B=!R&&["u8","u16","s8","s16"].includes(b);if("histogramEqualization"===W){const P=u.map(w=>(0,ie.oc)(w));this.lookup={rendererJSON:E,histogramLut:P}}else if(B){const P=(0,ie.AV)(E,{rasterInfo:this.rasterInfo}),w=(0,ie.hE)({pixelType:b,...P,gamma:x?m:null,rounding:"floor"});this.lookup={rendererJSON:E,stretchLut:w}}if(f){const P=(0,le.Jw)(f,{interpolateAlpha:!0});this.lookup||(this.lookup={rendererJSON:E}),this.lookup.colormapLut=(0,H.Pz)({colormap:P}),this.lookup.rendererJSON=E}return this.lookup.gamma=x&&m?.length?m:null,this.canRenderInWebGL=!0,{success:!0}}_generateStretchWebGLParams(E,W,R){let u=null,M=null;const x=this.lookup&&this.lookup.colormapLut;W.colorRamp&&x&&(u=x.indexedColormap,M=x.offset),"histogramEqualization"===W.stretchType&&(W={...W,stretchType:"minMax"});const{gamma:f}=this.lookup,m=!!(W.useGamma&&f&&f.some(h=>1!==h)),{minCutOff:b,maxCutOff:B,outMin:P,outMax:w}=(0,ie.AV)(W,{rasterInfo:this.rasterInfo,pixelBlock:E,bandIds:R});let A=0;(0,de.pC)(E)&&(A=E.getPlaneCount(),2===A&&((E=E.clone()).statistics=[E.statistics[0]],E.pixels=[E.pixels[0]]));const{bandCount:G}=this.rasterInfo,F=Math.min(3,R?.length||A||G,G),N=new Float32Array(F),O=u||m?1:255;let s;for(s=0;s<b.length;s++)N[s]=B[s]===b[s]?0:(w-P)/(B[s]-b[s])/O;const c=new Float32Array(F);if(m&&f)for(s=0;s<F;s++)c[s]=f[s]>1?f[s]>2?6.5+(f[s]-2)**2.5:6.5+100*(2-f[s])**4:1;return{bandCount:F,outMin:P/O,outMax:w/O,minCutOff:b,maxCutOff:B,factor:N,useGamma:m,gamma:m?f:[1,1,1],gammaCorrection:m?c:[1,1,1],colormap:u,colormapOffset:M,stretchType:W.stretchType,type:"stretch"}}_generateShadedReliefWebGLParams(E,W=!1,R={x:0,y:0}){let u=null,M=null;const x=this.lookup&&this.lookup.colormapLut;E.colorRamp&&x&&(u=x.indexedColormap,M=x.offset);const f={...E,isGCS:W,resolution:R},m=(0,$.TK)(f),b=(0,de.Wg)(this.rasterInfo.statistics)?.[0];return{...m,minValue:b?.min??0,maxValue:b?.max??8e3,hillshadeType:"traditional"===E.hillshadeType?0:1,type:"hillshade",colormap:u,colormapOffset:M}}_generateVectorFieldWebGLParams(E){const{style:W,inputUnit:R,outputUnit:u,visualVariables:M,symbolTileSize:x,flowRepresentation:f}=E;let m;const b=this.rasterInfo.statistics?.[0].min??0,B=this.rasterInfo.statistics?.[0].max??50,P=M?.find(s=>"sizeInfo"===s.type)??{type:"sizeInfo",field:"Magnitude",maxDataValue:B,maxSize:.8*x,minDataValue:b,minSize:.2*x},w=P.minDataValue??b,A=P.maxDataValue??B,G=(0,de.pC)(P.maxSize)&&(0,de.pC)(P.minSize)?[P.minSize/x,P.maxSize/x]:[.2,.8];"wind_speed"===W&&(G[0]=G[1]=(G[0]+G[1])/2);const F=(0,de.pC)(w)&&(0,de.pC)(A)?[w,A]:null;if("classified_arrow"===W)if((0,de.pC)(w)&&(0,de.pC)(A)&&(0,de.pC)(P)){m=[];const s=(P.maxDataValue-P.minDataValue)/5;for(let c=0;c<6;c++)m.push(P.minDataValue+s*c)}else m=[0,1e-6,3.5,7,10.5,14];const N="flow_to"===f==("ocean_current_kn"===W||"ocean_current_m"===W)?0:Math.PI,O=M?.find(s=>"rotationInfo"===s.type);return{breakValues:m,dataRange:F,inputUnit:R,outputUnit:u,symbolTileSize:x,symbolPercentRange:G,style:W||"single_arrow",rotation:N,rotationType:this.rasterInfo.storageInfo?.tileInfo&&"vector-uv"===this.rasterInfo.dataType?"geographic":O?.rotationType||E.rotationType,type:"vectorField"}}};function Z(E){return(0,H.nk)(E)&&0!==E.validPixelCount}(0,oe._)([(0,Ce.Cb)({json:{write:!0}})],J.prototype,"rendererJSON",void 0),(0,oe._)([(0,Ce.Cb)({type:ye.Z,json:{write:!0}})],J.prototype,"rasterInfo",void 0),(0,oe._)([(0,Ce.Cb)({json:{write:!0}})],J.prototype,"lookup",void 0),(0,oe._)([(0,Ce.Cb)()],J.prototype,"canRenderInWebGL",void 0),J=(0,oe._)([(0,pe.j)("esri.renderers.support.RasterSymbolizer")],J);const X=J},70208:(Ie,Ae,se)=>{se.d(Ae,{B4:()=>H,H0:()=>ae,Jw:()=>Z,Ms:()=>de,Oi:()=>xe,Uh:()=>ye,XL:()=>J,io:()=>R,pM:()=>X});var oe=se(91558),_e=se(78260),Te=se(2076);const xe=["random","ndvi","ndvi2","ndvi3","elevation","gray","hillshade"],de=[{id:"aspect_predefined",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"blackToWhite_predefined",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blueBright_predefined",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blueLightToDark_predefined",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blueGreenBright_predefined",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blueGreenLightToDark_predefined",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brownLightToDark_predefined",fromColor:[240,236,170],toColor:[102,72,48]},{id:"brownToBlueGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brownToBlueGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficientBias_predefined",fromColor:[214,214,255],toColor:[0,57,148]},{id:"coldToHotDiverging_predefined",type:"multipart",colorRamps:[{fromColor:[69,117,181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"conditionNumber_predefined",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyanToPurple_predefined",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyanLightToBlueDark_predefined",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},{id:"distance_predefined",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1_predefined",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2_predefined",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors_predefined",fromColor:[255,235,214],toColor:[196,10,10]},{id:"grayLightToDark_predefined",fromColor:[219,219,219],toColor:[69,69,69]},{id:"greenBright_predefined",fromColor:[204,255,204],toColor:[14,204,14]},{id:"greenLightToDark_predefined",fromColor:[220,245,233],toColor:[34,102,51]},{id:"greenToBlue_predefined",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orangeBright_predefined",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orangeLightToDark_predefined",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partialSpectrum_predefined",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partialSpectrum1Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partialSpectrum2Diverging_predefined",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,63,176],toColor:[81,13,97]}]},{id:"pinkToYellowGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pinkToYellowGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation_predefined",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction_predefined",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purpleBright_predefined",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purpleToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purpleToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purpleBlueBright_predefined",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purpleBlueLightToDark_predefined",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purpleRedBright_predefined",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purpleRedLightToDark_predefined",fromColor:[250,215,246],toColor:[143,17,57]},{id:"redBright_predefined",fromColor:[255,204,204],toColor:[219,0,0]},{id:"redLightToDark_predefined",fromColor:[255,224,224],toColor:[143,10,10]},{id:"redToBlueDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"redToBlueDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"redToGreen_predefined",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"redToGreenDivergingBright_predefined",type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"redToGreenDivergingDark_predefined",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope_predefined",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrumFullBright_predefined",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrumFullDark_predefined",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrumFullLight_predefined",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface_predefined",type:"multipart",colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature_predefined",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"whiteToBlack_predefined",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellowToDarkRed_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellowToGreenToDarkBlue_predefined",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellowToRed_predefined",fromColor:[245,245,0],toColor:[255,0,0]},{id:"yellowGreenBright_predefined",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellowGreenLightToDark_predefined",fromColor:[215,240,175],toColor:[96,107,45]}],Ce={aspect_predefined:"Aspect",blackToWhite_predefined:"Black to White",blueBright_predefined:"Blue Bright",blueLightToDark_predefined:"Blue Light to Dark",blueGreenBright_predefined:"Blue-Green Bright",blueGreenLightToDark_predefined:"Blue-Green Light to Dark",brownLightToDark_predefined:"Brown Light to Dark",brownToBlueGreenDivergingBright_predefined:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark_predefined:"Brown to Blue Green Diverging, Dark",coefficientBias_predefined:"Coefficient Bias",coldToHotDiverging_predefined:"Cold to Hot Diverging",conditionNumber_predefined:"Condition Number",cyanToPurple_predefined:"Cyan to Purple",cyanLightToBlueDark_predefined:"Cyan-Light to Blue-Dark",distance_predefined:"Distance",elevation1_predefined:"Elevation #1",elevation2_predefined:"Elevation #2",errors_predefined:"Errors",grayLightToDark_predefined:"Gray Light to Dark",greenBright_predefined:"Green Bright",greenLightToDark_predefined:"Green Light to Dark",greenToBlue_predefined:"Green to Blue",orangeBright_predefined:"Orange Bright",orangeLightToDark_predefined:"Orange Light to Dark",partialSpectrum_predefined:"Partial Spectrum",partialSpectrum1Diverging_predefined:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging_predefined:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright_predefined:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark_predefined:"Pink to YellowGreen Diverging, Dark",precipitation_predefined:"Precipitation",prediction_predefined:"Prediction",purpleBright_predefined:"Purple Bright",purpleToGreenDivergingBright_predefined:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark_predefined:"Purple to Green Diverging, Dark",purpleBlueBright_predefined:"Purple-Blue Bright",purpleBlueLightToDark_predefined:"Purple-Blue Light to Dark",purpleRedBright_predefined:"Purple-Red Bright",purpleRedLightToDark_predefined:"Purple-Red Light to Dark",redBright_predefined:"Red Bright",redLightToDark_predefined:"Red Light to Dark",redToBlueDivergingBright_predefined:"Red to Blue Diverging, Bright",redToBlueDivergingDark_predefined:"Red to Blue Diverging, Dark",redToGreen_predefined:"Red to Green",redToGreenDivergingBright_predefined:"Red to Green Diverging, Bright",redToGreenDivergingDark_predefined:"Red to Green Diverging, Dark",slope_predefined:"Slope",spectrumFullBright_predefined:"Spectrum-Full Bright",spectrumFullDark_predefined:"Spectrum-Full Dark",spectrumFullLight_predefined:"Spectrum-Full Light",surface_predefined:"Surface",temperature_predefined:"Temperature",whiteToBlack_predefined:"White to Black",yellowToDarkRed_predefined:"Yellow to Dark Red",yellowToGreenToDarkBlue_predefined:"Yellow to Green to Dark Blue",yellowToRed_predefined:"Yellow to Red",yellowGreenBright_predefined:"Yellow-Green Bright",yellowGreenLightToDark_predefined:"Yellow-Green Light to Dark"},ae=new Te.X({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right","Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue","Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","urple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright","Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright","Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});function D(u,M){if(!u||!M||u.length!==M.length)return!1;for(let x=0;x<u.length;x++)if(u[x]>M[x]+2||u[x]<M[x]-2)return!1;return!0}function ye(u){const M=function pe(u,M){if(!u)return;const x=M||de;let f=null;return"algorithmic"===u.type?x.some(m=>{if(D(u.fromColor.toRgb(),m.fromColor)&&D(u.toColor.toRgb(),m.toColor))return f=m.id,!0}):"multipart"===u.type&&x.some(m=>{const b=u.colorRamps,B=m.colorRamps;if(b&&B&&b.length===B.length&&!B.some((P,w)=>{if(!D(b[w].fromColor.toRgb(),new oe.Z(P.fromColor).toRgb())||!D(b[w].toColor.toRgb(),new oe.Z(P.toColor).toRgb()))return!0})){if(f)return!0;f=m.id}}),f}(u);return M?Ce[M]:null}function H(u){const M=ae.toJSON(u),x=Object.entries(Ce).find(m=>m[1]===M)?.[0],f=de.find(m=>m.id===x);return f?f.colorRamps?{type:"multipart",colorRamps:f.colorRamps.map(m=>({type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:m.fromColor,toColor:m.toColor}))}:{type:"algorithmic",algorithm:"esriCIELabAlgorithm",fromColor:f.fromColor,toColor:f.toColor}:null}function ie(u){const M=(u=u||{}).numColors||256,x=u.distanceOffset||0,f=null!=u.isCustomInterval?u.isCustomInterval:null!==u.distanceInterval&&u.distanceInterval!==1/(M-1),m=u.distanceInterval||1/(M-1);return{...u,numColors:M,distanceOffset:x,interpolateAlpha:!!u.interpolateAlpha,distanceInterval:m,isCustomInterval:f,weights:u.weights}}function K(u,M){let{fromColor:x,toColor:f}=u;3===x.length&&(x=x.concat([255])),3===f.length&&(f=f.concat([255]));const m=u.algorithm||"esriCIELabAlgorithm",b=ie(M),{numColors:B,distanceOffset:P,isCustomInterval:w,interpolateAlpha:A}=b;if(1===B&&0===P)return[x];if(2===B&&0===P&&!w)return[x,f];const G={r:x[0],g:x[1],b:x[2]},F={r:f[0],g:f[1],b:f[2]},N="esriCIELabAlgorithm"===m?function le(u,M,x){const{numColors:f,distanceOffset:m,distanceInterval:b,isCustomInterval:B}=x;let{l:P,a:w,b:A}=u;const G=(M.l-P)*b,F=(M.a-w)*b,N=(M.b-A)*b,O=[];if(m){const s=m/b;P+=s*G,w+=s*F,A+=s*N}for(let s=0;s<f-1;s++)O.push({l:P,a:w,b:A}),P+=G,w+=F,A+=N;return O.push(B?{l:P,a:w,b:A}:M),O}((0,_e.Y3)(G),(0,_e.Y3)(F),b):"esriHSVAlgorithm"===m?function $(u,M,x){const{numColors:f,distanceOffset:m,distanceInterval:b,isCustomInterval:B}=x,P=0===u.s,w=0===M.s;let A=u.h,G=M.h;P&&!w?A=G:w&&!P&&(M={...M,h:A},G=A);let F,N=Math.abs(G-A);const O=360;N<180?F=(G-A)*b:(N=O-N,F=A>G?N*b:-N*b);const s=(M.s-u.s)*b,c=(M.v-u.v)*b;let{s:h,v:C}=u,_=A;if(m){const g=m/b;_=(_+g*F+O)%O,h+=g*s,C+=g*c}const t=[];for(let g=0;g<f-1;g++)t.push({h:_,s:h,v:C}),_=(_+F+O)%O,h+=s,C+=c;return t.push(B?{h:_,s:h,v:C}:M),t}((0,_e._Y)(G),(0,_e._Y)(F),b):function Q(u,M,x){const{numColors:f,distanceOffset:m,distanceInterval:b,isCustomInterval:B}=x,P=u.h,w=M.h,A=2*Math.PI;let G;if(P<=w){const _=w-P,t=w-P-A;G=Math.abs(t)<Math.abs(_)?t:_}else{const _=w+A-P,t=w-P;G=Math.abs(t)<Math.abs(_)?t:_}const F=G*b,N=(M.l-u.l)*b,O=(M.c-u.c)*b;let{l:s,c,h}=u;if(m){const _=m/b;s+=_*N,c+=_*O,h=(h+_*F+A)%A}const C=[];for(let _=0;_<f-1;_++)C.push({l:s,c,h}),s+=N,c+=O,h=(h+F+A)%A;return C.push(B?{l:s,c,h}:M),C}((0,_e.sJ)(G),(0,_e.sJ)(F),b),O=[],s=x[3]??255,c=((f[3]??255)-s)/(B-1);for(let h=0;h<B;h++){const{r:C,g:_,b:t}=(0,_e.xr)(N[h]),g=A?Math.round(s+c*h):255;O.push([C,_,t,g])}return O}function J(u,M){const x="toJSON"in u?u.toJSON():u;return"multipart"===x.type?function ue(u,M){const{numColors:x,interpolateAlpha:f}=ie(M);let m=M?.weights;const{colorRamps:b}=u;if(m){const N=m.reduce((O,s)=>O+s);m=m.map(O=>O/N)}else{m=[];for(let N=0;N<b.length;N++)m[N]=1/b.length}const B=[];let P=0,w=0;const A=1/(x-1);let G=!1;for(let N=0;N<b.length;N++){let O=G?0:P*A-w,s=N===b.length-1?x-1-P:(m[N]-O)/A;if(G=Math.ceil(s)===s,s=Math.ceil(s),0===s)continue;O/=m[N];const c=K(b[N],{numColors:s,interpolateAlpha:f,distanceOffset:O,distanceInterval:A/m[N]});P+=c.length,B.push(...c),w+=m[N]}const F=[...b[b.length-1].toColor];return 3===F.length&&F.push(255),B.push(F),B}(x,M):K(x,M)}function Z(u,M){const x=J(u,M),f=M?.interpolateAlpha;return x.forEach((m,b)=>{m.unshift(b),f||m.pop()}),x}function X(u){const M=ye(u);if(u){if("algorithmic"===u.type)return{...E(u),Name:M};if(u.colorRamps){const x=u.colorRamps.map(E);return{type:"MultiPartColorRamp",NumColorRamps:x.length,ArrayOfColorRamp:x,Name:M}}}}function E(u){if(u)return{Algorithm:u.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:W(u.fromColor),ToColor:W(u.toColor)}}function W(u){const M=(0,_e._Y)(u);return{type:"HsvColor",Hue:M.h,Saturation:M.s,Value:M.v,AlphaValue:255}}function R(u){const M=u.reverse().map(x=>{const f=x.toString(16);return f.length<2?"0"+f:f});return 4294967295&Number.parseInt(M.join(""),16)}},65468:(Ie,Ae,se)=>{se.d(Ae,{J:()=>Te,v:()=>_e});const _e=new(se(2076).X)({none:"none",standardDeviation:"standard-deviation",histogramEqualization:"histogram-equalization",minMax:"min-max",percentClip:"percent-clip",sigmoid:"sigmoid"}),Te={0:"none",3:"standardDeviation",4:"histogramEqualization",5:"minMax",6:"percentClip",9:"sigmoid"}},37084:(Ie,Ae,se)=>{se.d(Ae,{GE:()=>ie});var oe=se(15861),Te=(se(29132),se(8314)),xe=se(63290),Ce=(se(21286),se(10699)),ae=se(4619);se(37053),se(2004);const ye=xe.Z.getLogger("esri.views.2d.engine.flow.dataUtils"),H=10;function ie(x,f,m,b){return $.apply(this,arguments)}function $(){return($=(0,oe.Z)(function*(x,f,m,b){const B=performance.now(),P=function le(x,f){const m=function ue(x,f,m,b){if(0===b)return x;const B=Math.round(3*b),P=new Array(2*B+1);let w=0;for(let F=-B;F<=B;F++){const N=Math.exp(-F*F/(b*b));P[F+B]=N,w+=N}for(let F=-B;F<=B;F++)P[F+B]/=w;const A=new Float32Array(x.length);for(let F=0;F<m;F++)for(let N=0;N<f;N++){let O=0,s=0;for(let c=-B;c<=B;c++){if(N+c<0||N+c>=f)continue;const h=P[c+B];O+=h*x[2*(F*f+(N+c))+0],s+=h*x[2*(F*f+(N+c))+1]}A[2*(F*f+N)+0]=O,A[2*(F*f+N)+1]=s}const G=new Float32Array(x.length);for(let F=0;F<f;F++)for(let N=0;N<m;N++){let O=0,s=0;for(let c=-B;c<=B;c++){if(N+c<0||N+c>=m)continue;const h=P[c+B];O+=h*A[2*((N+c)*f+F)+0],s+=h*A[2*((N+c)*f+F)+1]}G[2*(N*f+F)+0]=O,G[2*(N*f+F)+1]=s}return G}(f.data,f.width,f.height,x.smoothing);return x.interpolate?(b,B)=>{const P=Math.floor(b),w=Math.floor(B);if(P<0||P>=f.width)return[0,0];if(w<0||w>=f.height)return[0,0];const A=b-P,G=B-w,O=P<f.width-1?P+1:P,s=w<f.height-1?w+1:w;return[(m[2*(w*f.width+P)]*(1-G)+m[2*(s*f.width+P)]*G)*(1-A)+(m[2*(w*f.width+O)]*(1-G)+m[2*(s*f.width+O)]*G)*A,(m[2*(w*f.width+P)+1]*(1-G)+m[2*(s*f.width+P)+1]*G)*(1-A)+(m[2*(w*f.width+O)+1]*(1-G)+m[2*(s*f.width+O)+1]*G)*A]}:(b,B)=>{const P=Math.round(b),w=Math.round(B);return P<0||P>=f.width||w<0||w>=f.height?[0,0]:[m[2*(w*f.width+P)+0],m[2*(w*f.width+P)+1]]}}(f,m),w=performance.now(),A=function K(x,f,m,b){const B=[],P=new ae.Z,w=1/Math.max(x.lineCollisionWidth,1),A=Math.round(m*w),G=Math.round(b*w),F=new Int32Array(A*G);for(let O=0;O<F.length;O++)F[O]=-1;const N=[];for(let O=0;O<b;O+=x.lineSpacing)for(let s=0;s<m;s+=x.lineSpacing)N.push({x:s,y:O,sort:P.getFloat()});N.sort((O,s)=>O.sort-s.sort);for(const{x:O,y:s}of N)if(P.getFloat()<x.density){const c=Q(x,f,O,s,B.length,F,A,G,w);if(c.length<2)continue;B.push(c)}return B}(f,P,m.width,m.height),G=performance.now(),F=function J(x,f){const m=new ae.Z,b=x.reduce((G,F)=>G+F.length,0),B=new Float32Array(4*b),P=new Array(x.length);let w=0,A=0;for(const G of x){const F=w;for(const N of G)B[4*w+0]=N.x,B[4*w+1]=N.y,B[4*w+2]=N.t,B[4*w+3]=N.speed,w++;P[A++]={startVertex:F,numberOfVertices:G.length,totalTime:G[G.length-1].t,timeSeed:f?m.getFloat():0}}return{lineVertices:B,lineDescriptors:P}}(A,!0),N=performance.now(),O="Streamlines"===x?function Z(x,f){const{lineVertices:b,lineDescriptors:B}=x;let P=0,w=0;for(const c of B)P+=2*c.numberOfVertices,w+=6*(c.numberOfVertices-1);const A=new Float32Array(9*P),G=new Uint32Array(w);let F=0,N=0;function s(c,h,C,_,t,g,v,I){const U=9*F;let i=0;A[U+i++]=c,A[U+i++]=h,A[U+i++]=1,A[U+i++]=C,A[U+i++]=g,A[U+i++]=v,A[U+i++]=_/2,A[U+i++]=t/2,A[U+i++]=I,F++,A[U+i++]=c,A[U+i++]=h,A[U+i++]=-1,A[U+i++]=C,A[U+i++]=g,A[U+i++]=v,A[U+i++]=-_/2,A[U+i++]=-t/2,A[U+i++]=I,F++}for(const c of B){const{totalTime:h,timeSeed:C}=c;let _=null,t=null,g=null,v=null,I=null,U=null;for(let i=0;i<c.numberOfVertices;i++){const p=b[4*(c.startVertex+i)+0],y=b[4*(c.startVertex+i)+1],d=b[4*(c.startVertex+i)+2],k=b[4*(c.startVertex+i)+3];let T=null,S=null,L=null,j=null;if(i>0){T=p-_,S=y-t;const z=Math.sqrt(T*T+S*S);if(T/=z,S/=z,i>1){let V=T+I,re=S+U;const he=Math.sqrt(V*V+re*re);V/=he,re/=he;const ee=Math.min(1/(V*T+re*S),f);V*=ee,re*=ee,L=-re,j=V}else L=-S,j=T;null!==L&&null!==j&&(s(_,t,g,L,j,h,C,k),G[N++]=F-2,G[N++]=F,G[N++]=F-1,G[N++]=F,G[N++]=F+1,G[N++]=F-1)}_=p,t=y,g=d,I=T,U=S,v=k}s(_,t,g,-U,I,h,C,v)}return{vertexData:A,indexData:G}}(F,H):function X(x){const{lineVertices:B,lineDescriptors:P}=x;let w=0,A=0;for(const z of P){const V=z.numberOfVertices-1;w+=4*V*2,A+=6*V*2}const G=new Float32Array(16*w),F=new Uint32Array(A);let N,O,s,c,h,C,_,t,g,v,I,U,i,p,y=0,d=0;function S(z,V){let re=g+I,he=v+U;const ee=Math.sqrt(re*re+he*he);re/=ee,he/=ee;const te=g*re+v*he;re/=te,he/=te;let ne=I+i,ce=U+p;const Y=Math.sqrt(ne*ne+ce*ce);ne/=Y,ce/=Y;const q=I*ne+U*ce;ne/=q,ce/=q,function T(z,V,re,he,ee,te,ne,ce,Y,q,fe,ve,me,we){const ge=16*y;let be=0;for(const Ee of[1,2])for(const ke of[1,2,3,4])G[ge+be++]=z,G[ge+be++]=V,G[ge+be++]=re,G[ge+be++]=he,G[ge+be++]=ne,G[ge+be++]=ce,G[ge+be++]=Y,G[ge+be++]=q,G[ge+be++]=Ee,G[ge+be++]=ke,G[ge+be++]=me,G[ge+be++]=we,G[ge+be++]=ee/2,G[ge+be++]=te/2,G[ge+be++]=fe/2,G[ge+be++]=ve/2,y++}(N,O,s,c,-he,re,h,C,_,t,-ce,ne,z,V),function k(){F[d++]=y-8,F[d++]=y-7,F[d++]=y-6,F[d++]=y-7,F[d++]=y-5,F[d++]=y-6,F[d++]=y-4,F[d++]=y-3,F[d++]=y-2,F[d++]=y-3,F[d++]=y-1,F[d++]=y-2}()}function L(z,V,re,he,ee,te){if(g=I,v=U,I=i,U=p,null==g&&null==v&&(g=I,v=U),null!=h&&null!=C){i=z-h,p=V-C;const ne=Math.sqrt(i*i+p*p);i/=ne,p/=ne}null!=g&&null!=v&&S(ee,te),N=h,O=C,s=_,c=t,h=z,C=V,_=re,t=he}function j(z,V){g=I,v=U,I=i,U=p,null==g&&null==v&&(g=I,v=U),null!=g&&null!=v&&S(z,V)}for(const z of P){N=null,O=null,s=null,c=null,h=null,C=null,_=null,t=null,g=null,v=null,I=null,U=null,i=null,p=null;const{totalTime:V,timeSeed:re}=z;for(let he=0;he<z.numberOfVertices;he++)L(B[4*(z.startVertex+he)+0],B[4*(z.startVertex+he)+1],B[4*(z.startVertex+he)+2],B[4*(z.startVertex+he)+3],V,re);j(V,re)}return{vertexData:G,indexData:F}}(F),s=performance.now();return(0,Te.Z)("esri-2d-profiler")&&(ye.info("I.1","_createFlowFieldFromData (ms)",Math.round(w-B)),ye.info("I.2","_getStreamlines (ms)",Math.round(G-w)),ye.info("I.3","createAnimatedLinesData (ms)",Math.round(N-G)),ye.info("I.4","create{Streamlines|Particles}Mesh (ms)",Math.round(s-N)),ye.info("I.5","createFlowMesh (ms)",Math.round(s-B)),ye.info("I.6","Mesh size (bytes)",O.vertexData.buffer.byteLength+O.indexData.buffer.byteLength)),yield Promise.resolve(),(0,Ce.k_)(b),O})).apply(this,arguments)}function Q(x,f,m,b,B,P,w,A,G){const F=[];let N=m,O=b,s=0,[c,h]=f(N,O);c*=x.velocityScale,h*=x.velocityScale;const C=Math.sqrt(c*c+h*h);let _,t;F.push({x:N,y:O,t:s,speed:C});for(let g=0;g<x.verticesPerLine;g++){let[v,I]=f(N,O);v*=x.velocityScale,I*=x.velocityScale;const U=Math.sqrt(v*v+I*I);if(U<x.minSpeedThreshold)return F;const i=v/U,p=I/U;if(N+=i*x.segmentLength,O+=p*x.segmentLength,s+=x.segmentLength/U,Math.acos(i*_+p*t)>x.maxTurnAngle)return F;if(x.collisions){const y=Math.round(N*G),d=Math.round(O*G);if(y<0||y>w-1||d<0||d>A-1)return F;const k=P[d*w+y];if(-1!==k&&k!==B)return F;P[d*w+y]=B}F.push({x:N,y:O,t:s,speed:U}),_=i,t=p}return F}}}]);