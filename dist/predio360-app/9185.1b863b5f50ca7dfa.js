"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[9185],{29185:(ft,I,n)=>{n.r(I),n.d(I,{loadGLTFMesh:()=>q});var L=n(15861),U=n(91558),w=n(84792),W=n(88159),j=n(21286),o=n(62208),K=n(30217),y=n(550),G=n(28093),Z=n(4794),N=n(61751),X=n(27530),b=n(1607),V=n(92529),m=n(60479),D=n(79800),p=n(63657),v=n(60490),z=n(60853),Q=n(9160),H=n(12495),h=n(96170),Y=n(19574),J=n(37187),k=n(79331),C=n(67969),S=n(9554),A=n(63470),F=n(35995);function q(t,e,r){return R.apply(this,arguments)}function R(){return R=(0,L.Z)(function*(t,e,r){const a=new Q.C(function tt(t){const e=t?.resolveFile;return e?{busy:!1,request:function(){var r=(0,L.Z)(function*(a,s,f){const i=e(a),u="image"===s?"image":"binary"===s?"array-buffer":"json";return(yield(0,w.default)(i,{responseType:u,signal:(0,o.pC)(f)?f.signal:null})).data});return function(s,f,i){return r.apply(this,arguments)}}()}:null}(r)),s=(yield(0,H.Q)(a,e,r,!0)).model,f=s.lods.shift(),i=new Map,u=new Map;s.textures.forEach((g,B)=>i.set(B,function ot(t){return new b.Z({data:((0,Y.$A)(t.data),t.data),wrap:it(t.parameters.wrap)})}(g))),s.materials.forEach((g,B)=>u.set(B,function st(t,e){const r=new U.Z(function ut(t,e){return(0,Z.f)(d(t[0]),d(t[1]),d(t[2]),e)}(t.color,t.opacity)),a=t.emissiveFactor?new U.Z(function ct(t){return(0,G.f)(d(t[0]),d(t[1]),d(t[2]))}(t.emissiveFactor)):null;return new X.Z({color:r,colorTexture:(0,o.Wg)((0,o.yw)(t.textureColor,s=>e.get(s))),normalTexture:(0,o.Wg)((0,o.yw)(t.textureNormal,s=>e.get(s))),emissiveColor:a,emissiveTexture:(0,o.Wg)((0,o.yw)(t.textureEmissive,s=>e.get(s))),occlusionTexture:(0,o.Wg)((0,o.yw)(t.textureOcclusion,s=>e.get(s))),alphaMode:lt(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:(0,o.Wg)((0,o.yw)(t.textureMetallicRoughness,s=>e.get(s))),colorTextureTransform:t.colorTextureTransform,normalTextureTransform:t.normalTextureTransform,occlusionTextureTransform:t.occlusionTextureTransform,emissiveTextureTransform:t.emissiveTextureTransform,metallicRoughnessTextureTransform:t.metallicRoughnessTextureTransform})}(g,i)));const c=function nt(t){let e=0;const r={color:!1,tangent:!1,normal:!1,texCoord0:!1},a=new Map,s=new Map,f=[];for(const i of t.parts){const{attributes:{position:u,normal:c,color:T,tangent:E,texCoord0:_}}=i,l=`\n      ${O(u,a)}/\n      ${O(c,a)}/\n      ${O(T,a)}/\n      ${O(E,a)}/\n      ${O(_,a)}/\n      ${et(i.transform)}\n    `;let M=!1;const P=(0,W.s1)(s,l,()=>(M=!0,{start:e,length:u.count}));M&&(e+=u.count),c&&(r.normal=!0),T&&(r.color=!0),E&&(r.tangent=!0),_&&(r.texCoord0=!0),f.push({gltf:i,writeVertices:M,region:P})}return{vertexAttributes:{position:(0,v.gS)(m.fP,e),normal:r.normal?(0,v.gS)(m.ct,e):null,tangent:r.tangent?(0,v.gS)(m.ek,e):null,color:r.color?(0,v.gS)(m.mc,e):null,texCoord0:r.texCoord0?(0,v.gS)(m.Eu,e):null},parts:f,components:[]}}(f);for(const g of c.parts)rt(c,g,u);const{position:T,normal:E,tangent:_,color:l,texCoord0:M}=c.vertexAttributes,P={position:T.typedBuffer,normal:(0,o.pC)(E)?E.typedBuffer:null,tangent:(0,o.pC)(_)?_.typedBuffer:null,uv:(0,o.pC)(M)?M.typedBuffer:null,color:(0,o.pC)(l)?l.typedBuffer:null},x=(0,z.w1)(P,t,r);return{transform:x.transform,components:c.components,spatialReference:t.spatialReference,vertexAttributes:new V.Q({position:x.vertexAttributes.position,normal:x.vertexAttributes.normal,tangent:x.vertexAttributes.tangent,color:P.color,uv:P.uv})}}),R.apply(this,arguments)}function O(t,e){if((0,o.Wi)(t))return"-";const r=t.typedBuffer;return`${(0,W.s1)(e,r.buffer,()=>e.size)}/${r.byteOffset}/${r.byteLength}`}function et(t){return(0,o.pC)(t)?t.toString():"-"}function rt(t,e,r){e.writeVertices&&function _t(t,e){const{position:r,normal:a,tangent:s,color:f,texCoord0:i}=t.vertexAttributes,u=e.region.start,{attributes:c,transform:T}=e.gltf,E=c.position.count;if((0,D.t)(r.slice(u,E),c.position,T),(0,o.pC)(c.normal)&&(0,o.pC)(a)){const _=(0,K.b)((0,y.c)(),T),l=a.slice(u,E);(0,D.a)(l,c.normal,_),(0,j.oc)(_)&&(0,D.n)(l,l)}else(0,o.pC)(a)&&(0,S.f)(a,0,0,1,{dstIndex:u,count:E});if((0,o.pC)(c.tangent)&&(0,o.pC)(s)){const _=(0,K.b)((0,y.c)(),T),l=s.slice(u,E);(0,p.t)(l,c.tangent,_),(0,j.oc)(_)&&(0,p.n)(l,l)}else(0,o.pC)(s)&&(0,A.f)(s,0,0,1,1,{dstIndex:u,count:E});if((0,o.pC)(c.texCoord0)&&(0,o.pC)(i)?(0,F.n)(i.slice(u,E),c.texCoord0):(0,o.pC)(i)&&(0,F.f)(i,0,0,{dstIndex:u,count:E}),(0,o.pC)(c.color)&&(0,o.pC)(f)){const _=c.color,l=f.slice(u,E);if(4===_.elementCount)_ instanceof m.ek?(0,p.s)(l,_,255):_ instanceof m.mc?(0,A.c)(l,_):_ instanceof m.v6&&(0,p.a)(l,_,8);else{(0,A.f)(l,255,255,255,255);const M=m.ne.fromTypedArray(l.typedBuffer,l.typedBufferStride);_ instanceof m.ct?(0,D.s)(M,_,255):_ instanceof m.ne?(0,S.c)(M,_):_ instanceof m.mw&&(0,D.b)(M,_,8)}}else(0,o.pC)(f)&&(0,A.f)(f.slice(u,E),255,255,255,255)}(t,e);const a=e.gltf,s=function at(t,e){switch(e){case C.MX.TRIANGLES:return(0,h.nh)(t,J.DX);case C.MX.TRIANGLE_STRIP:return(0,h.DA)(t);case C.MX.TRIANGLE_FAN:return(0,h.jX)(t)}}(a.indices||a.attributes.position.count,a.primitiveType),f=e.region.start;if(f)for(let i=0;i<s.length;i++)s[i]+=f;t.components.push(new N.Z({faces:s,material:r.get(a.material),trustSourceNormals:!0}))}function lt(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function it(t){return{horizontal:$(t.s),vertical:$(t.t)}}function $(t){switch(t){case C.e8.CLAMP_TO_EDGE:return"clamp";case C.e8.MIRRORED_REPEAT:return"mirror";case C.e8.REPEAT:return"repeat"}}function d(t){return t**(1/k.K)*255}}}]);