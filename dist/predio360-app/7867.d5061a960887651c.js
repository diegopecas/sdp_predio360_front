"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[7867],{128:(W,b,e)=>{e.d(b,{B:()=>S});var t=e(15861),p=e(22558),o=e(21726),B=e(35948),D=e(34117),C=e(31283),E=e(77712),f=e(61556),r=e(29840);function S(s){const n=s?.origins??[void 0];return(d,_)=>{const y=function g(s,n,d){if("resource"===s?.type)return function T(s,n,d){const _=(0,D.Oe)(n,d);return{type:String,read:(y,O,h)=>{const a=(0,r.r)(y,O,h);return _.type===String?a:"function"==typeof _.type?new _.type({url:a}):void 0},write:{writer(y,O,h,a){if(!a||!a.resources)return"string"==typeof y?void(O[h]=(0,r.t)(y,a)):void(O[h]=y.write({},a));const x=function N(s){return null==s?null:"string"==typeof s?s:s.url}(y),U=(0,r.t)(x,{...a,verifyItemRelativeUrls:a&&a.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},r.M.NO),L=_.type!==String&&(!(0,p.l)(this)||a&&a.origin&&this.originIdOf(d)>(0,C.M9)(a.origin)),c={object:this,propertyName:d,value:y,targetUrl:U,dest:O,targetPropertyName:h,context:a,params:s};a&&a.portalItem&&U&&!(0,o.YP)(U)?L?function u(s){const{context:n,targetUrl:d,params:_,value:y,dest:O,targetPropertyName:h}=s;if(!n.portalItem)return;const a=n.portalItem.resourceFromPath(d),x=I(y,d,n),U=(0,f.B)(x),L=(0,o.Ml)(a.path),c=_?.compress??!1;U===L?(n.resources&&m({...s,resource:a,content:x,compress:c,updates:n.resources.toUpdate}),O[h]=d):P(s)}(c):function j({context:s,targetUrl:n,dest:d,targetPropertyName:_}){s.portalItem&&s.resources&&(s.resources.toKeep.push({resource:s.portalItem.resourceFromPath(n),compress:!1}),d[_]=n)}(c):a&&a.portalItem&&(null==U||null!=(0,r.i)(U)||(0,o.jc)(U)||L)?P(c):O[h]=U}}}}(s,n,d);switch(s?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:_,write:y}=r.a;return{read:_,write:y}}}}(s,d,_);for(const O of n){const h=(0,E.CJ)(d,O,_);for(const a in y)h[a]=y[a]}}}function P(s){const{targetUrl:n,params:d,value:_,context:y,dest:O,targetPropertyName:h}=s;if(!y.portalItem)return;const a=(0,r.p)(n),x=a?.filename??(0,B.D)(),U=d?.prefix??a?.prefix,L=I(_,n,y),c=(0,o.v_)(U,x),J=`${c}.${(0,f.B)(L)}`,i=y.portalItem.resourceFromPath(J);(0,o.jc)(n)&&y.resources&&y.resources.pendingOperations.push(function R(s){return v.apply(this,arguments)}(n).then(M=>{i.path=`${c}.${(0,f.B)(M)}`,O[h]=i.itemRelativeUrl}).catch(()=>{}));const l=d?.compress??!1;y.resources&&m({...s,resource:i,content:L,compress:l,updates:y.resources.toAdd}),O[h]=i.itemRelativeUrl}function m({object:s,propertyName:n,updates:d,resource:_,content:y,compress:O}){d.push({resource:_,content:y,compress:O,finish:h=>{!function K(s,n,d){"string"==typeof s[n]?s[n]=d.url:s[n].url=d.url}(s,n,h)}})}function I(s,n,d){return"string"==typeof s?{url:n}:new Blob([JSON.stringify(s.toJSON(d))],{type:"application/json"})}function v(){return(v=(0,t.Z)(function*(s){const n=(yield Promise.resolve().then(e.bind(e,84792))).default,{data:d}=yield n(s,{responseType:"blob"});return d})).apply(this,arguments)}},67867:(W,b,e)=>{e.r(b),e.d(b,{default:()=>J});var a,t=e(15861),p=e(17626),o=e(26584),B=e(72392),D=e(62208),C=e(99959),E=e(10699),f=e(32917),r=e(77712),T=(e(90912),e(85931),e(68653)),P=e(76898),u=e(128),j=e(44917),m=e(50085),I=e(65088),R=e(49286),v=e(6647),N=e(99555),K=e(72455),s=e(13812),n=e(35031),d=e(84792),_=e(46160),y=e(86810),O=e(21726),h=e(10439);let x=a=class extends((0,y.eC)(_.Z.ofType(h.Z))){constructor(i){super(i),this.url=null}clone(){return new a({url:this.url,items:this.items.map(i=>i.clone())})}toJSON(i){return this.toArray().map(l=>l.toJSON(i)).filter(l=>!!l.geometry)}static fromJSON(i,l){const M=new a;for(const A of i)M.add(h.Z.fromJSON(A,l));return M}static fromUrl(i,l,M){return(0,t.Z)(function*(){const A={url:(0,O.mN)(i),origin:"service"},G=yield(0,d.default)(i,{responseType:"json",signal:(0,D.U2)(M,"signal")}),V=l.toJSON(),Z=[];for(const F of G.data)Z.push(h.Z.fromJSON({...F,geometry:{...F.geometry,spatialReference:V}},A));return new a({url:i,items:Z})})()}};(0,p._)([(0,r.Cb)({type:String})],x.prototype,"url",void 0),x=a=(0,p._)([(0,P.j)("esri.layers.support.SceneModifications")],x);const U=x;var L=e(29840);let c=class extends((0,K.Vt)((0,I.Y)((0,R.q)((0,v.I)((0,N.M)((0,C.R)((0,m.V)(j.Z)))))))){constructor(...i){super(...i),this._handles=new B.Z,this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.elevationInfo=null,this.path=null}destroy(){this._handles.destroy()}initialize(){this._handles.add((0,f.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,f.Z_))}normalizeCtorArgs(i,l){return"string"==typeof i?{url:i,...l}:i}readModifications(i,l,M){this._modificationsSource={url:(0,L.f)(i,M),context:M}}load(i){var l=this;return(0,t.Z)(function*(){return l.addResolvingPromise(l._doLoad(i)),l})()}_doLoad(i){var l=this;return(0,t.Z)(function*(){const M=(0,D.U2)(i,"signal");try{yield l.loadFromPortal({supportedTypes:["Scene Service"]},i)}catch(A){(0,E.r9)(A)}if(yield l._fetchService(M),(0,D.pC)(l._modificationsSource)){const A=yield U.fromUrl(l._modificationsSource.url,l.spatialReference,i);l.setAtOrigin("modifications",A,l._modificationsSource.context.origin),l._modificationsSource=null}yield l._fetchIndexAndUpdateExtent(l.nodePages,M)})()}beforeSave(){if(!(0,D.Wi)(this._modificationsSource))return this.load().then(()=>{},()=>{})}saveAs(i,l){var M=this;return(0,t.Z)(function*(){return M._debouncedSaveOperations(K.xp.SAVE_AS,{...l,getTypeKeywords:()=>M._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},i)})()}save(){var i=this;return(0,t.Z)(function*(){const l={getTypeKeywords:()=>i._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return i._debouncedSaveOperations(K.xp.SAVE,l)})()}validateLayer(i){if(i.layerType&&"IntegratedMesh"!==i.layerType)throw new o.Z("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:i.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new o.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new o.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}};(0,p._)([(0,r.Cb)({type:String,readOnly:!0})],c.prototype,"geometryType",void 0),(0,p._)([(0,r.Cb)({type:["show","hide"]})],c.prototype,"listMode",void 0),(0,p._)([(0,r.Cb)({type:["IntegratedMeshLayer"]})],c.prototype,"operationalLayerType",void 0),(0,p._)([(0,r.Cb)({json:{read:!1},readOnly:!0})],c.prototype,"type",void 0),(0,p._)([(0,r.Cb)({type:n.U4,readOnly:!0})],c.prototype,"nodePages",void 0),(0,p._)([(0,r.Cb)({type:[n.QI],readOnly:!0})],c.prototype,"materialDefinitions",void 0),(0,p._)([(0,r.Cb)({type:[n.Yh],readOnly:!0})],c.prototype,"textureSetDefinitions",void 0),(0,p._)([(0,r.Cb)({type:[n.H3],readOnly:!0})],c.prototype,"geometryDefinitions",void 0),(0,p._)([(0,r.Cb)({readOnly:!0})],c.prototype,"serviceUpdateTimeStamp",void 0),(0,p._)([(0,r.Cb)({type:U}),(0,u.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],c.prototype,"modifications",void 0),(0,p._)([(0,T.r)(["web-scene","portal-item"],"modifications")],c.prototype,"readModifications",null),(0,p._)([(0,r.Cb)(s.PV)],c.prototype,"elevationInfo",void 0),(0,p._)([(0,r.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],c.prototype,"path",void 0),c=(0,p._)([(0,P.j)("esri.layers.IntegratedMeshLayer")],c);const J=c},35031:(W,b,e)=>{e.d(b,{H3:()=>I,QI:()=>g,U4:()=>f,Yh:()=>P});var t=e(17626),p=e(86810),o=e(77712),C=(e(90912),e(85931),e(55342)),E=e(76898);let f=class extends p.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,t._)([(0,o.Cb)({type:Number})],f.prototype,"nodesPerPage",void 0),(0,t._)([(0,o.Cb)({type:Number})],f.prototype,"rootIndex",void 0),(0,t._)([(0,o.Cb)({type:String})],f.prototype,"lodSelectionMetricType",void 0),f=(0,t._)([(0,E.j)("esri.layer.support.I3SNodePageDefinition")],f);let r=class extends p.wq{constructor(){super(...arguments),this.factor=1}};(0,t._)([(0,o.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],r.prototype,"id",void 0),(0,t._)([(0,o.Cb)({type:Number})],r.prototype,"factor",void 0),r=(0,t._)([(0,E.j)("esri.layer.support.I3SMaterialTexture")],r);let S=class extends p.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,t._)([(0,o.Cb)({type:[Number]})],S.prototype,"baseColorFactor",void 0),(0,t._)([(0,o.Cb)({type:r})],S.prototype,"baseColorTexture",void 0),(0,t._)([(0,o.Cb)({type:r})],S.prototype,"metallicRoughnessTexture",void 0),(0,t._)([(0,o.Cb)({type:Number})],S.prototype,"metallicFactor",void 0),(0,t._)([(0,o.Cb)({type:Number})],S.prototype,"roughnessFactor",void 0),S=(0,t._)([(0,E.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],S);let g=class extends p.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,t._)([(0,C.J)({opaque:"opaque",mask:"mask",blend:"blend"})],g.prototype,"alphaMode",void 0),(0,t._)([(0,o.Cb)({type:Number})],g.prototype,"alphaCutoff",void 0),(0,t._)([(0,o.Cb)({type:Boolean})],g.prototype,"doubleSided",void 0),(0,t._)([(0,C.J)({none:"none",back:"back",front:"front"})],g.prototype,"cullFace",void 0),(0,t._)([(0,o.Cb)({type:r})],g.prototype,"normalTexture",void 0),(0,t._)([(0,o.Cb)({type:r})],g.prototype,"occlusionTexture",void 0),(0,t._)([(0,o.Cb)({type:r})],g.prototype,"emissiveTexture",void 0),(0,t._)([(0,o.Cb)({type:[Number]})],g.prototype,"emissiveFactor",void 0),(0,t._)([(0,o.Cb)({type:S})],g.prototype,"pbrMetallicRoughness",void 0),g=(0,t._)([(0,E.j)("esri.layer.support.I3SMaterialDefinition")],g);let T=class extends p.wq{};(0,t._)([(0,o.Cb)({type:String,json:{read:{source:["name","index"],reader:(R,v)=>R??`${v.index}`}}})],T.prototype,"name",void 0),(0,t._)([(0,C.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],T.prototype,"format",void 0),T=(0,t._)([(0,E.j)("esri.layer.support.I3STextureFormat")],T);let P=class extends p.wq{constructor(){super(...arguments),this.atlas=!1}};(0,t._)([(0,o.Cb)({type:[T]})],P.prototype,"formats",void 0),(0,t._)([(0,o.Cb)({type:Boolean})],P.prototype,"atlas",void 0),P=(0,t._)([(0,E.j)("esri.layer.support.I3STextureSetDefinition")],P);let u=class extends p.wq{};(0,t._)([(0,C.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],u.prototype,"type",void 0),(0,t._)([(0,o.Cb)({type:Number})],u.prototype,"component",void 0),u=(0,t._)([(0,E.j)("esri.layer.support.I3SGeometryAttribute")],u);let j=class extends p.wq{};(0,t._)([(0,C.J)({draco:"draco"})],j.prototype,"encoding",void 0),(0,t._)([(0,o.Cb)({type:[String]})],j.prototype,"attributes",void 0),j=(0,t._)([(0,E.j)("esri.layer.support.I3SGeometryCompressedAttributes")],j);let m=class extends p.wq{constructor(){super(...arguments),this.offset=0}};(0,t._)([(0,o.Cb)({type:Number})],m.prototype,"offset",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"position",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"normal",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"uv0",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"color",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"uvRegion",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"featureId",void 0),(0,t._)([(0,o.Cb)({type:u})],m.prototype,"faceRange",void 0),(0,t._)([(0,o.Cb)({type:j})],m.prototype,"compressedAttributes",void 0),m=(0,t._)([(0,E.j)("esri.layer.support.I3SGeometryBuffer")],m);let I=class extends p.wq{};(0,t._)([(0,C.J)({triangle:"triangle"})],I.prototype,"topology",void 0),(0,t._)([(0,o.Cb)()],I.prototype,"geometryBuffers",void 0),I=(0,t._)([(0,E.j)("esri.layer.support.I3SGeometryDefinition")],I)},10439:(W,b,e)=>{e.d(b,{Z:()=>j});var P,t=e(17626),o=(e(29132),e(86810)),B=e(58817),D=e(14889),C=e(77712),f=(e(90912),e(76898)),r=e(99433),S=e(128),g=e(55915),T=e(37118);let u=P=class extends o.wq{constructor(m){super(m),this.geometry=null,this.type="clip"}writeGeometry(m,I,R,v){if(v.layer&&v.layer.spatialReference&&!v.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,g.Up)(m.spatialReference,v.layer.spatialReference))return void(v&&v.messages&&v.messages.push(new D.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:v.layer.spatialReference,context:v})));const N=new T.Z;(0,g.Wt)(m,N,v.layer.spatialReference),I[R]=N.toJSON(v)}else I[R]=m.toJSON(v);delete I[R].spatialReference}clone(){return new P({geometry:(0,B.d9)(this.geometry),type:this.type})}};(0,t._)([(0,C.Cb)({type:T.Z}),(0,S.B)()],u.prototype,"geometry",void 0),(0,t._)([(0,r.c)(["web-scene","portal-item"],"geometry")],u.prototype,"writeGeometry",null),(0,t._)([(0,C.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,S.B)()],u.prototype,"type",void 0),u=P=(0,t._)([(0,f.j)("esri.layers.support.SceneModification")],u);const j=u},61556:(W,b,e)=>{e.d(b,{B:()=>p});var t=e(21726);function p(r){return D[function o(r){return r instanceof Blob?r.type:function B(r){const S=(0,t.Ml)(r);return f[S]||C}(r.url)}(r)]||E}const D={},C="text/plain",E=D[C],f={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const r in f)D[f[r]]=r}}]);