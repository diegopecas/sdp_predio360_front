"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[5624,5611],{1011:(I,m,e)=>{e.d(m,{W:()=>a});var i=e(49966),E=e(52884),h=e(57477),v=e(68258);class a extends h.s{constructor(){super(...arguments),this._childrenSet=new Set,this._needsSort=!1,this.children=[],this._effectView=null,this._highlightOptions=null,this._highlightGradient=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode=t,this.requestRender()}get clips(){return this._clips}set clips(t){this._clips=t,this.children.forEach(n=>n.clips=t)}get computedEffects(){return this._effectView?.effects??null}get effect(){return this._effectView?.effect??""}set effect(t){(this._effectView||t)&&(this._effectView||(this._effectView=new E.AM),this._effectView.effect=t,this.requestRender())}get highlightOptions(){return this._highlightOptions}set highlightOptions(t){if(!t)return this._highlightOptions=null,void(this._highlightGradient&&(this._highlightGradient.destroy(),this._highlightGradient=null,this.requestRender()));this._highlightOptions&&this._highlightOptions.equals(t)||(this._highlightOptions=t,this._highlightGradient||(this._highlightGradient=new v.Z),this._highlightGradient.setHighlightOptions(t),this.requestRender())}updateTransitionProperties(t,n){super.updateTransitionProperties(t,n),this._effectView&&(this._effectView.transitionStep(t,n),this._effectView.transitioning&&this.requestRender())}doRender(t){const n=this.createRenderParams(t);this.renderChildren(n)}addChild(t){return this.addChildAt(t,this.children.length)}addChildAt(t,n=this.children.length){if(!t||this.contains(t))return t;this._needsSort=!0;const d=t.parent;return d&&d!==this&&d.removeChild(t),n>=this.children.length?this.children.push(t):this.children.splice(n,0,t),this._childrenSet.add(t),t.parent=this,t.stage=this.stage,this!==this.stage&&(t.clips=this.clips),this.requestRender(),t}contains(t){return this._childrenSet.has(t)}endTransitions(){super.endTransitions(),this._effectView&&(this._effectView.endTransitions(),this.requestRender())}removeAllChildren(){this._childrenSet.clear(),this._needsSort=!0;for(const t of this.children)this!==this.stage&&(t.clips=null),t.stage=null,t.parent=null;this.children.length=0}removeChild(t){return this.contains(t)?this.removeChildAt(this.children.indexOf(t)):t}removeChildAt(t){if(t<0||t>=this.children.length)return null;this._needsSort=!0;const n=this.children.splice(t,1)[0];return this._childrenSet.delete(n),this!==this.stage&&(n.clips=null),n.stage=null,n.parent=null,n}sortChildren(t){this._needsSort&&(this.children.sort(t),this._needsSort=!1)}beforeRender(t){super.beforeRender(t);for(const n of this.children)n.beforeRender(t)}afterRender(t){super.afterRender(t);for(const n of this.children)n.afterRender(t)}_createTransforms(){return{dvs:(0,i.c)()}}onAttach(){super.onAttach();const t=this.stage;for(const n of this.children)n.stage=t}onDetach(){super.onDetach();for(const t of this.children)t.stage=null}renderChildren(t){for(const n of this.children)n.processRender(t)}createRenderParams(t){return{...t,blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:t.globalOpacity*this.computedOpacity,inFadeTransition:this.inFadeTransition,highlightGradient:this._highlightGradient||t.highlightGradient}}}},39351:(I,m,e)=>{e.d(m,{$0:()=>s,AI:()=>h,Al:()=>O,By:()=>C,C1:()=>ot,CQ:()=>lt,CU:()=>k,D3:()=>P,Ex:()=>c,I_:()=>l,Ic:()=>j,Ij:()=>V,Ip:()=>st,Iv:()=>ct,Iw:()=>W,Jw:()=>U,MI:()=>rt,QU:()=>_,SD:()=>ut,Tz:()=>ht,Uh:()=>nt,V4:()=>q,XD:()=>vt,XJ:()=>it,Xj:()=>M,Zd:()=>Y,_5:()=>H,_6:()=>pt,a:()=>tt,aK:()=>F,dn:()=>$,e0:()=>dt,eF:()=>D,eV:()=>r,f2:()=>T,fL:()=>et,iJ:()=>x,iV:()=>J,jk:()=>_t,kF:()=>B,lK:()=>N,m4:()=>Q,mx:()=>g,nM:()=>L,nb:()=>ft,oK:()=>at,pU:()=>Z,ru:()=>a,tQ:()=>z,u4:()=>yt,uG:()=>X,vw:()=>gt,xl:()=>G,xm:()=>o,yP:()=>K});const h=1e-30,a=4294967295,l=512,s=8,r=10,o=29,c=24,W=8,D={metrics:{width:15,height:17,left:0,top:-7,advance:14}},P=0,O=0,j=0,x=1,L=2,V=3,T=4,C=5,g=6,M=12,_=5,U=6,B=5,K=6,H=0,G=1,Z=2,F=3,N=4,Q=2,X=1,Y=2,J=4,z=1.05,$=3,q=5,k=6,tt=1.15,et=2,it=8,st=500,rt=10,ot=1024,nt=2,lt=0,ht=1,at=4,dt=8,ct=16,pt=4,ut=1,_t=4,gt=8,yt=128,ft=4,vt=2},68258:(I,m,e)=>{e.d(m,{Z:()=>d});var i=e(63290),E=e(39351),h=e(11690),v=e(67969),a=e(55086);const l=i.Z.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient"),n=[0,0,0,0];class d{constructor(){this._convertedHighlightOptions={fillColor:[.2*.75,.6*.75,.675,.75],outlineColor:[.2*.9,.54,.81,.9],outlinePosition:h.OQ.outlinePosition,outlineWidth:h.OQ.outlineWidth,innerHaloWidth:h.OQ.innerHaloWidth,outerHaloWidth:h.OQ.outerHaloWidth},this._shadeTexChanged=!0,this._texelData=new Uint8Array(4*h.Ft),this._minMaxDistance=[0,0]}setHighlightOptions(s){const r=this._convertedHighlightOptions;!function t(p,s){s.fillColor[0]=p.color.r/255,s.fillColor[1]=p.color.g/255,s.fillColor[2]=p.color.b/255,s.fillColor[3]=p.color.a,p.haloColor?(s.outlineColor[0]=p.haloColor.r/255,s.outlineColor[1]=p.haloColor.g/255,s.outlineColor[2]=p.haloColor.b/255,s.outlineColor[3]=p.haloColor.a):(s.outlineColor[0]=s.fillColor[0],s.outlineColor[1]=s.fillColor[1],s.outlineColor[2]=s.fillColor[2],s.outlineColor[3]=s.fillColor[3]),s.fillColor[3]*=p.fillOpacity,s.outlineColor[3]*=p.haloOpacity,s.fillColor[0]*=s.fillColor[3],s.fillColor[1]*=s.fillColor[3],s.fillColor[2]*=s.fillColor[3],s.outlineColor[0]*=s.outlineColor[3],s.outlineColor[1]*=s.outlineColor[3],s.outlineColor[2]*=s.outlineColor[3],s.outlineWidth=h.OQ.outlineWidth,s.outerHaloWidth=h.OQ.outerHaloWidth,s.innerHaloWidth=h.OQ.innerHaloWidth,s.outlinePosition=h.OQ.outlinePosition}(s,r);const o=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,w=r.outlinePosition-r.outlineWidth/2,y=r.outlinePosition+r.outlineWidth/2,f=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,b=Math.sqrt(Math.PI/2)*h.tM,S=Math.abs(o)>b?Math.round(10*(Math.abs(o)-b))/10:0,A=Math.abs(f)>b?Math.round(10*(Math.abs(f)-b))/10:0;let R;S&&!A?l.error("The outer rim of the highlight is "+S+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!S&&A?l.error("The inner rim of the highlight is "+A+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):S&&A&&l.error("The highlight is "+Math.max(S,A)+"px away from the edge of the feature; consider reducing some width values.");const c=[void 0,void 0,void 0,void 0];function W(u,P,O){c[0]=(1-O)*u[0]+O*P[0],c[1]=(1-O)*u[1]+O*P[1],c[2]=(1-O)*u[2]+O*P[2],c[3]=(1-O)*u[3]+O*P[3]}const{_texelData:D}=this;for(let u=0;u<h.Ft;++u)R=o+u/(h.Ft-1)*(f-o),R<o?(c[4*u+0]=0,c[4*u+1]=0,c[4*u+2]=0,c[4*u+3]=0):R<w?W(n,r.outlineColor,(R-o)/(w-o)):R<y?[c[0],c[1],c[2],c[3]]=r.outlineColor:R<f?W(r.outlineColor,r.fillColor,(R-y)/(f-y)):[c[4*u+0],c[4*u+1],c[4*u+2],c[4*u+3]]=r.fillColor,D[4*u+0]=255*c[0],D[4*u+1]=255*c[1],D[4*u+2]=255*c[2],D[4*u+3]=255*c[3];this._minMaxDistance[0]=o,this._minMaxDistance[1]=f,this._shadeTexChanged=!0}applyHighlightOptions(s,r){this._shadeTex||(this._shadeTex=new a.x(s,{target:v.No.TEXTURE_2D,pixelFormat:v.VI.RGBA,dataType:v.Br.UNSIGNED_BYTE,wrapMode:v.e8.CLAMP_TO_EDGE,width:h.Ft,height:1,samplingMode:v.cw.LINEAR})),this._shadeTexChanged&&(this._shadeTex.updateData(0,0,0,h.Ft,1,this._texelData),this._shadeTexChanged=!1),s.bindTexture(this._shadeTex,E.Jw),r.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}}},11690:(I,m,e)=>{e.d(m,{Ft:()=>v,OQ:()=>a,QU:()=>h,n5:()=>E,tM:()=>i});const i=1,E=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],v=256,a={outlineWidth:1.3,outerHaloWidth:.4,innerHaloWidth:.4,outlinePosition:0}},25624:(I,m,e)=>{e.r(m),e.d(m,{default:()=>s});var i=e(17626),E=e(46160),h=e(89726),v=e(77712),t=(e(90912),e(85931),e(76898)),n=e(37384),d=e(45611);let p=class extends((0,n.y)(d.Z)){constructor(r){super(r),this.layerViews=new E.Z}set layerViews(r){this._set("layerViews",(0,h.Z)(r,this._get("layerViews")))}get updatingProgress(){return 0===this.layerViews.length?1:this.layerViews.reduce((r,o)=>r+o.updatingProgress,0)/this.layerViews.length}attach(){this._updateStageChildren(),this.addAttachHandles(this.layerViews.on("after-changes",()=>this._updateStageChildren()))}detach(){this.container.removeAllChildren()}update(r){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach((r,o)=>this.container.addChildAt(r.container,o))}};(0,i._)([(0,v.Cb)({cast:h.R})],p.prototype,"layerViews",null),(0,i._)([(0,v.Cb)({readOnly:!0})],p.prototype,"updatingProgress",null),p=(0,i._)([(0,t.j)("esri.views.2d.layers.KnowledgeGraphLayerView2D")],p);const s=p},37384:(I,m,e)=>{e.d(m,{y:()=>V});var i=e(17626),E=e(46160),h=e(89726),v=e(26584),a=e(32917),l=e(77712),d=(e(90912),e(85931),e(76898)),p=e(1011),s=e(38093),r=e(86810);let o=class extends r.wq{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,i._)([(0,l.Cb)({readOnly:!0})],o.prototype,"version",null),o=(0,i._)([(0,d.j)("esri.views.layers.support.ClipArea")],o);const w=o;var y;let f=y=class extends w{constructor(T){super(T),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new y({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,i._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"left",void 0),(0,i._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"right",void 0),(0,i._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"top",void 0),(0,i._)([(0,l.Cb)({type:[Number,String],json:{write:!0}})],f.prototype,"bottom",void 0),f=y=(0,i._)([(0,d.j)("esri.views.layers.support.ClipRect")],f);const b=f;e(29132);var D,A=e(21674),R=e(91179),c=e(2004),W=e(37118);const u={base:A.Z,key:"type",typeMap:{extent:c.Z,polygon:W.Z}};let P=D=class extends w{constructor(T){super(T),this.type="geometry",this.geometry=null}clone(){return new D({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,i._)([(0,l.Cb)({types:u,json:{read:R.im,write:!0}})],P.prototype,"geometry",void 0),P=D=(0,i._)([(0,d.j)("esri.views.layers.support.Geometry")],P);const O=P;let j=class extends w{constructor(T){super(T),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,i._)([(0,l.Cb)({type:[[[Number]]],json:{write:!0}})],j.prototype,"path",void 0),j=(0,i._)([(0,d.j)("esri.views.layers.support.Path")],j);const L=E.Z.ofType({key:"type",base:null,typeMap:{rect:b,path:j,geometry:O}}),V=T=>{let C=class extends T{constructor(){super(...arguments),this.attached=!1,this.clips=new L,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){this.view?.spatialReference&&(this.view?.spatialReferenceLocked??1)&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new v.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new p.W),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,a.YP)(()=>this.suspended,_=>{this.container&&(this.container.visible=!_),this.view&&!_&&this.updateRequested&&this.view.requestUpdate()},a.tX),(0,a.YP)(()=>this.layer?.opacity??1,_=>{this.container&&(this.container.opacity=_)},a.tX),(0,a.YP)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",_=>{this.container&&(this.container.blendMode=_)},a.tX),(0,a.YP)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,_=>{this.container&&(this.container.effect=_)},a.tX),(0,a.YP)(()=>this.highlightOptions,_=>this.container.highlightOptions=_,a.tX),(0,a.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},a.tX),(0,a.YP)(()=>({scale:this.view?.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}),({scale:_})=>{const U=null!=_&&this.isVisibleAtScale(_);U!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",U)},a.tX)],"constructor"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then(_=>{_===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){const g=this.view?.spatialReference;return null==g||this.supportsSpatialReference(g)}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this.updatingHandles?.updating)}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(g){const M=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!M)return!0;const{minScale:_,maxScale:U}=M;return(0===_||g<=_)&&(0===U||g>=U)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.suspended||this.view.requestUpdate())}processUpdate(g){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",g),this.updateRequested&&!this.suspended&&(this.updateRequested=!1,this.update(g))):this.updateRequested=!1}hitTest(g,M){return Promise.resolve(null)}supportsSpatialReference(g){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const g=super.getSuspendInfo(),M=!this.spatialReferenceSupported,_=this.visibleAtCurrentScale;return M&&(g.spatialReferenceNotSupported=M),_&&(g.outsideScaleRange=_),g}addAttachHandles(g){this.addHandles(g,"attach")}};return(0,i._)([(0,l.Cb)()],C.prototype,"attached",void 0),(0,i._)([(0,l.Cb)({type:L,set(g){const M=(0,h.Z)(g,this._get("clips"),L);this._set("clips",M)}})],C.prototype,"clips",void 0),(0,i._)([(0,l.Cb)()],C.prototype,"container",void 0),(0,i._)([(0,l.Cb)()],C.prototype,"moving",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],C.prototype,"spatialReferenceSupported",null),(0,i._)([(0,l.Cb)({readOnly:!0})],C.prototype,"updateParameters",void 0),(0,i._)([(0,l.Cb)()],C.prototype,"updateRequested",void 0),(0,i._)([(0,l.Cb)()],C.prototype,"updating",null),(0,i._)([(0,l.Cb)()],C.prototype,"view",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],C.prototype,"visibleAtCurrentScale",void 0),(0,i._)([(0,l.Cb)({type:s.Z})],C.prototype,"highlightOptions",void 0),C=(0,i._)([(0,d.j)("esri.views.2d.layers.LayerView2D")],C),C}},45611:(I,m,e)=>{e.d(m,{Z:()=>w});var i=e(17626),E=e(14517),h=e(61885),v=e(80542),a=e(61996),l=e(63290),t=e(62208),n=e(60330),d=e(77712),r=(e(90912),e(85931),e(76898));let o=class extends((0,v.p)((0,a.IG)((0,n.v)(h.Z.EventedMixin(E.Z))))){constructor(y){super(y),this.layer=null,this.parent=null}initialize(){this.when().catch(y=>{if("layerview:create-error"!==y.name){const f=this.layer&&this.layer.id||"no id",b=this.layer&&this.layer.title||"no title";l.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${b}', id: '${f}')`,y)}})}get fullOpacity(){return(0,t.Pt)(this.get("layer.opacity"),1)*(0,t.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(y){this._overrideIfSome("visible",y)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const y=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(y.viewNotReady=!0),this.layer&&this.layer.loaded||(y.layerNotLoaded=!0),this.visible||(y.layerInvisible=!0),y}isUpdating(){return!1}};(0,i._)([(0,d.Cb)()],o.prototype,"fullOpacity",null),(0,i._)([(0,d.Cb)()],o.prototype,"layer",void 0),(0,i._)([(0,d.Cb)()],o.prototype,"parent",void 0),(0,i._)([(0,d.Cb)({readOnly:!0})],o.prototype,"suspended",null),(0,i._)([(0,d.Cb)({readOnly:!0})],o.prototype,"suspendInfo",null),(0,i._)([(0,d.Cb)({readOnly:!0})],o.prototype,"legendEnabled",null),(0,i._)([(0,d.Cb)({type:Boolean,readOnly:!0})],o.prototype,"updating",null),(0,i._)([(0,d.Cb)({readOnly:!0})],o.prototype,"updatingProgress",null),(0,i._)([(0,d.Cb)()],o.prototype,"visible",null),(0,i._)([(0,d.Cb)()],o.prototype,"view",void 0),o=(0,i._)([(0,r.j)("esri.views.layers.LayerView")],o);const w=o}}]);