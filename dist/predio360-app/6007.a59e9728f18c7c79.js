"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[6007],{128:(Le,ee,n)=>{n.d(ee,{B:()=>Me});var t=n(26584),se=n(50011),h=n(22558),L=n(21726),N=n(35948),te=n(34117),ne=n(31283),i=n(77712),a=n(61556),O=n(29840);function Me(p){const g=p?.origins??[void 0];return(b,w)=>{const m=function he(p,g,b){if("resource"===p?.type)return function V(p,g,b){const w=(0,te.Oe)(g,b);return{type:String,read:(m,I,S)=>{const u=(0,O.r)(m,I,S);return w.type===String?u:"function"==typeof w.type?new w.type({url:u}):void 0},write:{writer(m,I,S,u){if(!u?.resources)return"string"==typeof m?void(I[S]=(0,O.t)(m,u)):void(I[S]=m.write({},u));const x=function Ce(p){return null==p?null:"string"==typeof p?p:p.url}(m),y=(0,O.t)(x,{...u,verifyItemRelativeUrls:u?.verifyItemRelativeUrls?{writtenUrls:u.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},O.M.NO),U=w.type!==String&&(!(0,h.l)(this)||u?.origin&&this.originIdOf(b)>(0,ne.M9)(u.origin)),T={object:this,propertyName:b,value:m,targetUrl:y,dest:I,targetPropertyName:S,context:u,params:p};u?.portalItem&&y&&!(0,L.YP)(y)?U&&p?.contentAddressed?D(T):U?function F(p){const{context:g,targetUrl:b,params:w,value:m,dest:I,targetPropertyName:S}=p;if(!g.portalItem)return;const u=g.portalItem.resourceFromPath(b),x=ge(m,b,g),y=(0,a.B)(x),U=(0,L.Ml)(u.path),T=w?.compress??!1;y===U?(g.resources&&ve({...p,resource:u,content:x,compress:T,updates:g.resources.toUpdate}),I[S]=b):D(p)}(T):function me({context:p,targetUrl:g,dest:b,targetPropertyName:w}){p.portalItem&&p.resources&&(p.resources.toKeep.push({resource:p.portalItem.resourceFromPath(g),compress:!1}),b[w]=g)}(T):u?.portalItem&&(null==y||null!=(0,O.i)(y)||(0,L.jc)(y)||U)?D(T):I[S]=y}}}}(p,g,b);switch(p?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:w,write:m}=O.b;return{read:w,write:m}}}}(p,b,w);for(const I of g){const S=(0,i.CJ)(b,I,w);for(const u in m)S[u]=m[u]}}}function D(p){const{targetUrl:g,params:b,value:w,context:m,dest:I,targetPropertyName:S}=p;if(!m.portalItem)return;const u=(0,O.p)(g),x=ge(w,g,m);if(b?.contentAddressed&&"json"!==x.type)return void m.messages?.push(new t.Z("persistable:contentAddressingUnsupported",`Property "${S}" is trying to serializing a resource with content of type ${x.type} with content addressing. Content addressing is only supported for json resources.`,{content:x}));const y=b?.contentAddressed&&"json"===x.type?(0,se.F)(x.jsonString):u?.filename??(0,N.DO)(),U=(0,L.v_)(b?.prefix??u?.prefix,y),T=`${U}.${(0,a.B)(x)}`;if(b?.contentAddressed&&m.resources&&"json"===x.type){const j=m.resources.toKeep.find(({resource:ie})=>ie.path===T)??m.resources.toAdd.find(({resource:ie})=>ie.path===T);if(j)return void(I[S]=j.resource.itemRelativeUrl)}const B=m.portalItem.resourceFromPath(T);(0,L.jc)(g)&&m.resources&&m.resources.pendingOperations.push((0,L.gi)(g).then(j=>{B.path=`${U}.${(0,a.B)({type:"blob",blob:j})}`,I[S]=B.itemRelativeUrl}).catch(()=>{}));const oe=b?.compress??!1;m.resources&&ve({...p,resource:B,content:x,compress:oe,updates:m.resources.toAdd}),I[S]=B.itemRelativeUrl}function ve({object:p,propertyName:g,updates:b,resource:w,content:m,compress:I}){b.push({resource:w,content:m,compress:I,finish:u=>{!function we(p,g,b){"string"==typeof p[g]?p[g]=b.url:p[g].url=b.url}(p,g,u)}})}function ge(p,g,b){return"string"==typeof p?{type:"url",url:g}:{type:"json",jsonString:JSON.stringify(p.toJSON(b))}}},26007:(Le,ee,n)=>{n.r(ee),n.d(ee,{default:()=>nt});var t=n(17626),se=n(73281),h=n(46160),L=n(26584),N=n(63290),te=n(99959),ne=n(10699),i=n(77712),a=n(90912),he=(n(4619),n(8314),n(68653)),V=n(76898),D=n(79800),F=n(29302),me=n(2004),ve=n(44917),ge=n(50085),Ce=n(65088),we=n(50107),p=n(49286),g=n(6647),b=n(99555),w=n(42432),m=n(38305),I=n(13812),S=n(36255),u=n(79608),x=n(23719),y=n(86810),U=n(128),T=n(32056),B=n(42722),oe=n(86670);const j=(0,F.Ue)(),ie=(0,B.Ue)(),_e=(0,B.Ue)(),Ee=(0,B.Ue)(),Oe=(0,F.al)(0,0,1),Ye=(0,F.al)(0,1,0),Ge=(0,F.al)(1,0,0);function re(e){(0,D.c)(j,e),(0,D.n)(j,j);const o=Math.atan2(j[1],j[0]),r=(0,T.yY)((0,B.Ue)(),Oe,-o);(0,D.u)(j,j,r);const s=-1*Math.atan2(j[2],j[0]);return[(0,oe.Dc)(o)+270,(0,oe.Dc)(s)+90]}function be(e,o){return(0,T.yY)(_e,Oe,(0,oe.c$)(e-270)),(0,T.yY)(Ee,Ye,(0,oe.c$)(o-90)),(0,T.Jp)(ie,_e,Ee),(0,D.c)(j,Ge),(0,D.u)(j,j,ie),(0,D.n)(j,j),[j[0],j[1],j[2]]}var fe=n(66656);let q=class extends((0,u.J)(y.wq)){constructor(e){super(e),this.enabled=!0,this.label="",this.normal=null,this.point=null}get orientation(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;const[e,o]=re(this.normal);return x.BV.normalize((0,a.q9)(e),0,!0)}set orientation(e){const o=be(e,this.tilt);this._set("normal",o),this._set("orientation",e)}get tilt(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;const[e,o]=re(this.normal);return x.BV.normalize((0,a.q9)(o),0,!0)}set tilt(e){const o=be(this.orientation,e);this._set("normal",o),this._set("tilt",e)}};(0,t._)([(0,i.Cb)({type:Boolean,json:{write:!0}})],q.prototype,"enabled",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],q.prototype,"label",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),(0,fe.p)(e=>x.BV.normalize((0,a.q9)(e),0,!0))],q.prototype,"orientation",null),(0,t._)([(0,i.Cb)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),(0,fe.p)(e=>x.BV.normalize((0,a.q9)(e),0,!0))],q.prototype,"tilt",null),(0,t._)([(0,i.Cb)({type:[Number],json:{write:!0}})],q.prototype,"normal",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:!0}})],q.prototype,"point",void 0),q=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelSlice")],q);const Se=q;var He=n(29840);let P=class extends((0,u.J)(y.wq)){constructor(){super(...arguments),this.enabled=!0,this.href=null,this.id=null,this.label="",this.normal=null,this.point=null,this.sizeInPixel=null,this.slices=null,this.timeId=0,this.variableId=null}get orientation(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;const[e,o]=re(this.normal);return x.BV.normalize((0,a.q9)(e),0,!0)}get tilt(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;const[e,o]=re(this.normal);return x.BV.normalize((0,a.q9)(o),0,!0)}};(0,t._)([(0,i.Cb)({type:Boolean,json:{default:!0,write:!0}})],P.prototype,"enabled",void 0),(0,t._)([(0,i.Cb)({type:String,json:{origins:{service:{read:He.r}},write:{enabled:!0,isRequired:!0}}}),(0,U.B)({origins:["web-scene"],type:"resource",prefix:"sections",compress:!0})],P.prototype,"href",void 0),(0,t._)([(0,i.Cb)({type:a.z8,json:{write:{enabled:!0,isRequired:!0}}})],P.prototype,"id",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],P.prototype,"label",void 0),(0,t._)([(0,i.Cb)({type:Number,clonable:!1,readOnly:!0,range:{min:0,max:360}})],P.prototype,"orientation",null),(0,t._)([(0,i.Cb)({type:Number,clonable:!1,readOnly:!0,range:{min:0,max:360}})],P.prototype,"tilt",null),(0,t._)([(0,i.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],P.prototype,"normal",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],P.prototype,"point",void 0),(0,t._)([(0,i.Cb)({type:[a.z8],json:{write:{enabled:!0,isRequired:!0}}})],P.prototype,"sizeInPixel",void 0),(0,t._)([(0,i.Cb)({type:[Se],json:{write:!0}})],P.prototype,"slices",void 0),(0,t._)([(0,i.Cb)({type:a.z8,json:{default:0,write:!0}})],P.prototype,"timeId",void 0),(0,t._)([(0,i.Cb)({type:a.z8,json:{write:{enabled:!0,isRequired:!0}}})],P.prototype,"variableId",void 0),P=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelSection")],P);const Ie=P;let le=class extends y.wq{constructor(){super(...arguments),this.diffuseFactor=.5,this.specularFactor=.5}};(0,t._)([(0,i.Cb)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],le.prototype,"diffuseFactor",void 0),(0,t._)([(0,i.Cb)({type:Number,range:{min:0,max:1},json:{default:.5,write:!0}})],le.prototype,"specularFactor",void 0),le=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelSimpleShading")],le);const Ue=le;let J=class extends y.wq{constructor(){super(...arguments),this.continuity=null,this.hasNoData=!1,this.noData=0,this.offset=0,this.scale=1,this.type=null}};(0,t._)([(0,i.Cb)({type:["discrete","continuous"],json:{write:!0}})],J.prototype,"continuity",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{write:!0}})],J.prototype,"hasNoData",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],J.prototype,"noData",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],J.prototype,"offset",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],J.prototype,"scale",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],J.prototype,"type",void 0),J=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelFormat")],J);const Fe=J;let E=class extends y.wq{constructor(){super(...arguments),this.id=null,this.description="",this.name=null,this.originalFormat=null,this.renderingFormat=null,this.unit="",this.volumeId=0,this.type=null}};(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"id",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],E.prototype,"description",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"name",void 0),(0,t._)([(0,i.Cb)({type:Fe,json:{write:!0}})],E.prototype,"originalFormat",void 0),(0,t._)([(0,i.Cb)({type:Fe,json:{write:{enabled:!0,isRequired:!0}}})],E.prototype,"renderingFormat",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],E.prototype,"unit",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],E.prototype,"volumeId",void 0),(0,t._)([(0,i.Cb)({type:["stc-hot-spot-results","stc-cluster-outlier-results","stc-estimated-bin","generic-nearest-interpolated"],json:{write:!0}})],E.prototype,"type",void 0),E=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelVariable")],E);const Qe=E;var ae=n(58817),Q=n(91558);let Y=class extends((0,u.J)(y.wq)){constructor(){super(...arguments),this.color=Q.Z.fromArray([0,0,0,0]),this.value=0,this.enabled=!0,this.label="",this.colorLocked=!1}};(0,t._)([(0,i.Cb)({type:Q.Z,json:{type:[a.z8],write:{enabled:!0,isRequired:!0}}})],Y.prototype,"color",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],Y.prototype,"value",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{default:!0,write:!0}})],Y.prototype,"enabled",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],Y.prototype,"label",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{default:!1,write:!0}})],Y.prototype,"colorLocked",void 0),Y=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelIsosurface")],Y);const Be=Y;var xe=n(89726),G=n(21286);let pe=class extends((0,u.J)(y.wq)){constructor(){super(...arguments),this.color=null,this.position=0}};(0,t._)([(0,i.Cb)({type:Q.Z,json:{type:[a.z8],write:{enabled:!0,isRequired:!0}}})],pe.prototype,"color",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],pe.prototype,"position",void 0),pe=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelColorStop")],pe);const ze=pe;let ue=class extends((0,u.J)(y.wq)){constructor(){super(...arguments),this.opacity=1,this.position=0}};(0,t._)([(0,i.Cb)({type:Number,json:{name:"alpha",write:{enabled:!0,isRequired:!0}}})],ue.prototype,"opacity",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],ue.prototype,"position",void 0),ue=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelOpacityStop")],ue);const Re=ue;let ce=class extends((0,u.J)(y.wq)){constructor(){super(...arguments),this.enabled=!1,this.range=null}};(0,t._)([(0,i.Cb)({type:Boolean,json:{default:!1,write:!0}})],ce.prototype,"enabled",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:!0}})],ce.prototype,"range",void 0),ce=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelRangeFilter")],ce);const Xe=ce;var M,e;(e=M||(M={}))[e.Color=1]="Color",e[e.Alpha=2]="Alpha",e[e.Both=3]="Both";let W=class extends((0,u.J)(y.wq)){constructor(e){super(e),this.interpolation=null,this.stretchRange=null,this.rangeFilter=null,this._colorMapSize=256,this.colorStops=new(h.Z.ofType(ze)),this.opacityStops=new(h.Z.ofType(Re))}set colorStops(e){this._set("colorStops",(0,xe.Z)(e,this._get("colorStops"),h.Z.ofType(ze)))}set opacityStops(e){this._set("opacityStops",(0,xe.Z)(e,this._get("opacityStops"),h.Z.ofType(Re)))}getPreviousNext(e,o,r){let s=e;for(;--s>0&&o[s].type!==r&&o[s].type!==M.Both;);let l=e;const d=o.length;for(;++l<d&&o[l].type!==r&&o[l].type!==M.Both;);return[s,l]}get rasterizedTransferFunction(){const e=[];if(this.colorStops.length<2)return e;const o=[],r=[];for(const f of this.colorStops){if(!f.color)return e;r.push({color:{r:f.color.r,g:f.color.g,b:f.color.b,a:Math.round(255*(1-f.color.a))},position:f.position,type:M.Color})}if(0===this.opacityStops.length)for(const f of r)o.push({color:f.color,position:f.position});else{for(const v of this.opacityStops){const C=(0,G.uZ)(v.position,0,1),z=Math.round(255*(0,G.uZ)(1-v.opacity,0,1));let Z=!1;for(const R of r)if(R.type===M.Color&&Math.abs(R.position-C)<1e-5){R.color.a=z,R.type=M.Both,Z=!0;break}Z||r.push({color:{r:0,g:0,b:0,a:z},position:v.position,type:M.Alpha})}r.sort((v,C)=>v.position<C.position?-1:1);const f=r.length;for(let v=0;v<f;++v){const C=r[v];if(C.type!==M.Both)if(C.type===M.Color){const[z,Z]=this.getPreviousNext(v,r,M.Alpha);C.color.a=-1!==z&&Z!==f?Math.round((0,G.t7)(r[z].color.a,r[Z].color.a,(C.position-r[z].position)/(r[Z].position-r[z].position))):-1!==z?r[z].color.a:r[Z].color.a}else{const[z,Z]=this.getPreviousNext(v,r,M.Color);if(-1!==z&&Z!==f){const R=(C.position-r[z].position)/(r[Z].position-r[z].position),de=r[z].color,lt=r[Z].color;Ve.forEach(Ae=>{C.color[Ae]=Math.round((0,G.t7)(de[Ae],lt[Ae],R))})}else Ve.forEach(-1!==z?R=>{C.color[R]=r[z].color[R]}:R=>{C.color[R]=r[Z].color[R]})}}for(const v of r)o.push({color:v.color,position:v.position})}o[0].position=0,o[o.length-1].position=1;let l=0,d=1;for(let f=0;f<this._colorMapSize;++f){const v=f/this._colorMapSize;for(;v>o[d].position;)l=d++;const C=(v-o[l].position)/(o[d].position-o[l].position),z=o[l].color,Z=o[d].color,R=new Q.Z;Ve.forEach(de=>{R[de]=Math.round((0,G.t7)(z[de],Z[de],C))}),R.a=(0,G.uZ)(1-(0,G.t7)(z.a,Z.a,C)/255,0,1),e.push(R)}return e}getColorForContinuousDataValue(e,o){const r=this.rasterizedTransferFunction;if(this.colorStops.length<2||!Array.isArray(this.stretchRange)||this.stretchRange.length<2||r.length<256)return null;let s=this.stretchRange[0],l=this.stretchRange[1];if(s>l){const f=s;s=l,l=f}e=(0,G.uZ)(e,s,l);const d=r[Math.round((e-s)/(l-s)*(this._colorMapSize-1))].clone();return o||(d.a=1),d}};(0,t._)([(0,i.Cb)({type:["linear","nearest"],json:{write:!0}})],W.prototype,"interpolation",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],W.prototype,"stretchRange",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(ze),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],W.prototype,"colorStops",null),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Re),json:{read:{source:"alphaStops"},write:{enabled:!0,target:"alphaStops",overridePolicy(){return{enabled:!!this.opacityStops&&this.opacityStops.length>0}}}}})],W.prototype,"opacityStops",null),(0,t._)([(0,i.Cb)({type:Xe,json:{write:!0}})],W.prototype,"rangeFilter",void 0),(0,t._)([(0,i.Cb)({type:[Q.Z],clonable:!1,json:{read:!1}})],W.prototype,"rasterizedTransferFunction",null),W=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelTransferFunctionStyle")],W);const ke=W,Ve=["r","g","b"];let X=class extends((0,u.J)(y.wq)){constructor(){super(...arguments),this.color=Q.Z.fromArray([0,0,0,0]),this.value=0,this.enabled=!0,this.label=""}};(0,t._)([(0,i.Cb)({type:Q.Z,json:{type:[a.z8],write:{enabled:!0,isRequired:!0}}})],X.prototype,"color",void 0),(0,t._)([(0,i.Cb)({type:a.z8,json:{write:{enabled:!0,isRequired:!0}}})],X.prototype,"value",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{default:!0,write:!0}})],X.prototype,"enabled",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],X.prototype,"label",void 0),X=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelUniqueValue")],X);const qe=X;var Ne;let H=Ne=class extends y.wq{constructor(e){super(e),this.variableId=0,this.label="",this.transferFunction=null,this.uniqueValues=null,this.isosurfaces=null,this.uniqueValues=new(h.Z.ofType(qe)),this.isosurfaces=new(h.Z.ofType(Be))}clone(){return new Ne({variableId:this.variableId,label:this.label,transferFunction:(0,ae.d9)(this.transferFunction),uniqueValues:(0,ae.d9)(this.uniqueValues),isosurfaces:(0,ae.d9)(this.isosurfaces)})}};(0,t._)([(0,i.Cb)({type:a.z8,json:{write:{enabled:!0,isRequired:!0}}})],H.prototype,"variableId",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],H.prototype,"label",void 0),(0,t._)([(0,i.Cb)({type:ke,json:{write:{enabled:!0,overridePolicy(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],H.prototype,"transferFunction",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(qe),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],H.prototype,"uniqueValues",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Be),json:{write:{enabled:!0,overridePolicy(){return{enabled:(!this.uniqueValues||this.uniqueValues.length<1)&&!!this.isosurfaces&&this.isosurfaces.length>0}}}}})],H.prototype,"isosurfaces",void 0),H=Ne=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelVariableStyle")],H);const Je=H;var De=n(72642),We=n(65234),et=n(37053);let je=class extends y.wq{constructor(){super(...arguments),this.values=null}};(0,t._)([(0,i.Cb)({type:[Number],json:{write:!0}})],je.prototype,"values",void 0),je=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelIrregularSpacing")],je);const tt=je;let ye=class extends y.wq{constructor(){super(...arguments),this.scale=1,this.offset=0}};(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],ye.prototype,"scale",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],ye.prototype,"offset",void 0),ye=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelRegularSpacing")],ye);const ot=ye;let A=class extends y.wq{constructor(){super(...arguments),this.irregularSpacing=null,this.isPositiveUp=!0,this.isWrappedDateLine=!1,this.label=null,this.name=null,this.quantity=null,this.regularSpacing=null,this.size=0,this.unit=null}get isRegular(){return(null==this.irregularSpacing||void 0===this.irregularSpacing)&&null!==this.regularSpacing}getRange(){return this.isRegular?[this.regularSpacing.offset,this.regularSpacing.offset+this.regularSpacing.scale*(this.size-1)]:Array.isArray(this.irregularSpacing?.values)&&this.irregularSpacing.values.length>1?[this.irregularSpacing.values[0],this.irregularSpacing.values[this.irregularSpacing.values.length-1]]:[0,0]}};(0,t._)([(0,i.Cb)({type:tt,json:{write:!0}})],A.prototype,"irregularSpacing",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{write:!0}})],A.prototype,"isPositiveUp",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{write:!0}})],A.prototype,"isWrappedDateLine",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],A.prototype,"label",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],A.prototype,"name",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],A.prototype,"quantity",void 0),(0,t._)([(0,i.Cb)({type:ot,json:{write:!0}})],A.prototype,"regularSpacing",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:!0}})],A.prototype,"size",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],A.prototype,"unit",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{read:!1}})],A.prototype,"isRegular",null),A=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelDimension")],A);const it=A;let _=class extends y.wq{constructor(e){super(e),this.id=0,this.dimensions=null,this.spatialReference=We.Z.WGS84}get zDimension(){if(!this.dimensions||!Array.isArray(this.dimensions)||4!==this.dimensions.length)return-1;for(let e=2;e<4;++e)if(this.dimensions[e].size>0)return e;return-1}get isValid(){return!(!this.dimensions||!Array.isArray(this.dimensions)||4!==this.dimensions.length||this.dimensions[0].size<1||this.dimensions[1].size<1||-1===this.zDimension||this.dimensions[this.zDimension].size<1)}get originInLayerSpace3D(){if(!this.isValid||"xyt"===this.volumeType)return[0,0,0];const e=this.dimensions[0].getRange(),o=this.dimensions[1].getRange(),r=this.dimensions[2],s=r.isRegular?r.getRange():[0,r.size];return[e[0],o[0],s[0]]}get voxelSizeInLayerSpaceSigned(){if(!this.isValid||"xyt"===this.volumeType)return[0,0,0];const e=this.dimensions[0].getRange(),o=this.dimensions[1].getRange(),r=this.dimensions[2],s=r.isRegular?r.getRange():[0,r.size],l=[this.sizeInVoxels[0],this.sizeInVoxels[1],this.sizeInVoxels[2]];for(let d=0;d<3;++d)l[d]<2?l[d]=1:l[d]-=1;return r.isRegular&&!r.isPositiveUp&&(l[2]*=-1),[(e[1]-e[0])/l[0],(o[1]-o[0])/l[1],(s[1]-s[0])/l[2]]}get volumeType(){if(this.isValid){const e=this.dimensions[2].size>0,o=this.dimensions[3].size>0;if(!e&&o)return"xyt";if(e&&o)return"xyzt"}return"xyz"}get sizeInVoxels(){return this.isValid?[this.dimensions[0].size,this.dimensions[1].size,this.dimensions[this.zDimension].size]:[0,0,0]}computeVoxelSpaceLocation(e){if(!this.isValid)return[0,0,0];if("xyt"===this.volumeType)return N.Z.getLogger(this).error("computeVoxelSpacePosition cannot be used with XYT volumes."),[0,0,0];if(!(0,et.fS)(this.spatialReference,e.spatialReference))return N.Z.getLogger(this).error("pos argument should have the same spatial reference as the VoxelLayer."),[0,0,0];const o=(0,F.al)(e.x,e.y,e.z??0);(0,D.f)(o,o,this.originInLayerSpace3D),(0,D.D)(o,o,this.voxelSizeInLayerSpaceSigned);const r=this.dimensions[this.zDimension];if(!r.isRegular&&Array.isArray(r.irregularSpacing?.values)&&r.irregularSpacing.values.length>1){const s=e.z??0,l=r.irregularSpacing.values,d=r.isPositiveUp?1:-1,f=l.reduce((v,C)=>Math.abs(d*C-s)<Math.abs(d*v-s)?C:v);for(let v=0;v<l.length;++v)if(l[v]===f){o[2]=v;break}}return[o[0],o[1],o[2]]}computeLayerSpaceLocation(e){if(!this.isValid)return new De.Z({x:0,y:0,spatialReference:this.spatialReference});const o=(0,F.nI)(e);if((0,D.B)(o,o,this.voxelSizeInLayerSpaceSigned),(0,D.g)(o,o,this.originInLayerSpace3D),"xyt"===this.volumeType)return new De.Z({x:o[0],y:o[1],spatialReference:this.spatialReference});const r=this.dimensions[this.zDimension];return r.isRegular||Array.isArray(r.irregularSpacing?.values)&&(o[2]=e[2]<0?r.irregularSpacing.values[0]:e[2]<r.irregularSpacing.values.length?r.irregularSpacing.values[e[2]]:r.irregularSpacing.values[r.irregularSpacing.values.length-1],r.isPositiveUp||(o[2]*=-1)),new De.Z({x:o[0],y:o[1],z:o[2],spatialReference:this.spatialReference})}};(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],_.prototype,"id",void 0),(0,t._)([(0,i.Cb)({type:[it],json:{write:{enabled:!0,isRequired:!0}}})],_.prototype,"dimensions",void 0),(0,t._)([(0,i.Cb)({type:We.Z,json:{read:{enabled:!1}}})],_.prototype,"spatialReference",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{read:!1}})],_.prototype,"zDimension",null),(0,t._)([(0,i.Cb)({type:[Boolean],json:{read:!1}})],_.prototype,"isValid",null),(0,t._)([(0,i.Cb)({type:[Number],json:{read:!1}})],_.prototype,"originInLayerSpace3D",null),(0,t._)([(0,i.Cb)({type:[Number],json:{read:!1}})],_.prototype,"voxelSizeInLayerSpaceSigned",null),(0,t._)([(0,i.Cb)({type:["xyz","xyzt","xyt"],json:{read:{enabled:!1}}})],_.prototype,"volumeType",null),(0,t._)([(0,i.Cb)({type:[Number],json:{read:!1}})],_.prototype,"sizeInVoxels",null),_=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelVolume")],_);const Ke=_;var Te;let k=Te=class extends y.wq{constructor(){super(...arguments),this.apronWidth=1,this.brickSize=[32,32,32],this.maxLodLevel=0,this.nodeSize=[4,4,4]}isValid(){const e=new Te;return e.apronWidth===this.apronWidth&&e.maxLodLevel===this.maxLodLevel&&!!this.brickSize&&!!this.nodeSize&&!(!Array.isArray(this.brickSize)||!Array.isArray(this.nodeSize))&&3===this.brickSize.length&&3===this.nodeSize.length&&32===this.brickSize[0]&&32===this.brickSize[1]&&32===this.brickSize[2]&&4===this.nodeSize[0]&&4===this.nodeSize[1]&&4===this.nodeSize[2]}};(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],k.prototype,"apronWidth",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],k.prototype,"brickSize",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],k.prototype,"maxLodLevel",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],k.prototype,"nodeSize",void 0),k=Te=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelVolumeIndex")],k);const rt=k;let K=class extends((0,u.J)(y.wq)){constructor(e){super(e),this.enabled=!0,this.label="",this.normal=null,this.point=null}get orientation(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;const[e,o]=re(this.normal);return x.BV.normalize((0,a.q9)(e),0,!0)}set orientation(e){const o=be(e,this.tilt);this._set("normal",o),this._set("orientation",e)}get tilt(){if(!Array.isArray(this.normal)||3!==this.normal.length)return 0;const[e,o]=re(this.normal);return x.BV.normalize((0,a.q9)(o),0,!0)}set tilt(e){const o=be(this.orientation,e);this._set("normal",o),this._set("tilt",e)}};(0,t._)([(0,i.Cb)({type:Boolean,json:{default:!0,write:!0}})],K.prototype,"enabled",void 0),(0,t._)([(0,i.Cb)({type:String,json:{write:!0}})],K.prototype,"label",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),(0,fe.p)(e=>x.BV.normalize((0,a.q9)(e),0,!0))],K.prototype,"orientation",null),(0,t._)([(0,i.Cb)({type:Number,json:{read:!1},clonable:!1,range:{min:0,max:360}}),(0,fe.p)(e=>x.BV.normalize((0,a.q9)(e),0,!0))],K.prototype,"tilt",null),(0,t._)([(0,i.Cb)({type:[Number],json:{write:!0}})],K.prototype,"normal",void 0),(0,t._)([(0,i.Cb)({type:[Number],json:{write:!0}})],K.prototype,"point",void 0),K=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelDynamicSection")],K);const Pe=K;var Ze;let $=Ze=class extends y.wq{constructor(e){super(e),this.volumeId=0,this.verticalExaggeration=1,this.exaggerationMode="scale-height",this.verticalOffset=0,this.slices=new(h.Z.ofType(Se)),this.dynamicSections=new(h.Z.ofType(Pe))}set slices(e){this._set("slices",(0,xe.Z)(e,this._get("slices"),h.Z.ofType(Se)))}set dynamicSections(e){this._set("dynamicSections",(0,xe.Z)(e,this._get("dynamicSections"),h.Z.ofType(Pe)))}clone(){return new Ze({volumeId:this.volumeId,verticalExaggeration:this.verticalExaggeration,exaggerationMode:this.exaggerationMode,verticalOffset:this.verticalOffset,slices:(0,ae.d9)(this.slices),dynamicSections:(0,ae.d9)(this.dynamicSections)})}};(0,t._)([(0,i.Cb)({type:a.z8,json:{write:{enabled:!0,isRequired:!0}}})],$.prototype,"volumeId",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{default:1,write:!0}})],$.prototype,"verticalExaggeration",void 0),(0,t._)([(0,i.Cb)({type:["scale-position","scale-height"],json:{default:"scale-height",write:!0}})],$.prototype,"exaggerationMode",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{default:0,write:!0}})],$.prototype,"verticalOffset",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Se),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.slices&&this.slices.length>0}}}}})],$.prototype,"slices",null),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Pe),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.dynamicSections&&this.dynamicSections.length>0}}}}})],$.prototype,"dynamicSections",null),$=Ze=(0,t._)([(0,V.j)("esri.layers.voxel.VoxelVolumeStyle")],$);const $e=$;var st=n(49430);let c=class extends((0,w.Vt)((0,Ce.Y)((0,p.q)((0,g.I)((0,b.M)((0,te.R)((0,we.N)((0,ge.V)(ve.Z))))))))){constructor(e){super(e),this.serviceRoot="",this.operationalLayerType="Voxel",this.legendEnabled=!0,this.title=null,this.sections=null,this.currentVariableId=0,this.volumeStyles=null,this.renderMode="volume",this.variableStyles=null,this.enableSlices=!0,this.enableSections=!0,this.enableDynamicSections=!0,this.enableIsosurfaces=!0,this.shading=new Ue,this.opacity=1,this.variables=new h.Z,this.volumes=new h.Z,this.index=null,this.minScale=0,this.maxScale=0,this.type="voxel",this.version={major:Number.NaN,minor:Number.NaN,versionString:""},this.fullExtent=null,this.popupEnabled=!1,this.test=null,this.volumeStyles=new(h.Z.ofType($e)),this.variableStyles=new(h.Z.ofType(Je)),this.sections=new(h.Z.ofType(Ie))}normalizeCtorArgs(e){return e?.constantUpscaling&&(this.test={constantUpscaling:!0},delete e.constantUpscaling),e}set url(e){this._set("url",(0,m.Nm)(e,N.Z.getLogger(this)))}load(e){const o=null!=e?e.signal:null,r=this.loadFromPortal({supportedTypes:["Scene Service"]},e).catch(ne.r9).then(()=>this._fetchService(o)).then(()=>this.serviceRoot=this.url);return this.addResolvingPromise(r),Promise.resolve(this)}read(e,o){super.read(e,o);for(const r of this.volumes)r.spatialReference=this.spatialReference}readVersion(e,o){return super.parseVersionString(e)}validateLayer(e){if(e.layerType&&e.layerType!==this.operationalLayerType)throw new L.Z("voxel-layer:layer-type-not-supported","VoxelLayer does not support this layer type",{layerType:e.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor)||this.version.major<3)throw new L.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"});if(this.version.major>3)throw new L.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"3.x"})}readFullExtent(e,o,r){if(null!=e&&"object"==typeof e){const s=me.Z.fromJSON(e,r);if(0===s.zmin&&0===s.zmax&&Array.isArray(o.volumes)){const l=Ke.fromJSON(o.volumes[0]);if(l.isValid&&"xyt"!==l.volumeType){const d=l.dimensions[2];if(d.isRegular){let f=d.regularSpacing.offset,v=d.regularSpacing.offset+d.regularSpacing.scale*(d.size-1);if(f>v){const C=f;f=v,v=C}s.zmin=f,s.zmax=v}}}return s}return null}get voxelFields(){const e=[new S.Z({name:"Voxel.ServiceValue",alias:"Value",domain:null,editable:!1,length:128,type:"string"}),new S.Z({name:"Voxel.ServiceVariableLabel",alias:"Variable",domain:null,editable:!1,length:128,type:"string"}),new S.Z({name:"Voxel.Position",alias:"Voxel Position",domain:null,editable:!1,length:128,type:"string"})],o=this.getVolume(null);if(null!=o){if("xyzt"===o.volumeType||"xyt"===o.volumeType){const r=new S.Z({name:"Voxel.ServiceLocalTime",alias:"Local Time",domain:null,editable:!1,length:128,type:"string"});e.push(r);const s=new S.Z({name:"Voxel.ServiceNativeTime",alias:"Native Time",domain:null,editable:!1,length:128,type:"string"});e.push(s)}if("xyt"!==o.volumeType){const r=new S.Z({name:"Voxel.ServiceDepth",alias:"Depth",domain:null,editable:!1,length:128,type:"string"});e.push(r)}}return e}get popupTemplate(){return this.loaded?this.createPopupTemplate():null}get defaultPopupTemplate(){return this.createPopupTemplate()}createPopupTemplate(e){return(0,st.eZ)({fields:this.voxelFields,title:this.title},e)}getConfiguration(){const e={layerType:this.operationalLayerType,version:this.version.versionString,name:this.title,spatialReference:this.spatialReference,fullExtent:this.fullExtent,volumes:this.volumes.toJSON(),variables:this.variables.toJSON(),index:this.index?.toJSON(),sections:this.getSections(),style:{volumeStyles:this.getVolumeStyles(),currentVariableId:this.currentVariableId,renderMode:this.renderMode,variableStyles:this.getVariableStyles(),enableSections:this.enableSections,enableDynamicSections:this.enableDynamicSections,enableIsosurfaces:this.enableIsosurfaces,enableSlices:this.enableSlices,shading:this.shading}};return e.index&&this.index?.isValid()?JSON.stringify(e):""}getVariableStyle(e){let o=-1;if(o=e??this.currentVariableId,!this.variableStyles||-1===o)return null;const r=this.variableStyles.findIndex(s=>s.variableId===o);return r<0?null:this.variableStyles.at(r)}getVariable(e){let o=-1;if(o=e??this.currentVariableId,!this.variables||-1===o)return null;const r=this.variables.findIndex(s=>s.id===o);return r<0?null:this.variables.at(r)}getVolume(e){const o=this.getVariable(e);return null!=o?this.volumes.find(({id:r})=>r===o.volumeId):null}getVolumeStyle(e){const o=this.getVariable(e);return null!=o?this.volumeStyles.find(({volumeId:r})=>r===o.volumeId):null}getColorForContinuousDataValue(e,o,r){const s=this.getVariable(e);if(null==s||"continuous"!==s.renderingFormat?.continuity||!this.variableStyles)return null;const l=this.variableStyles.findIndex(f=>f.variableId===e);if(l<0)return null;const d=this.variableStyles.at(l);return d?.transferFunction?d.transferFunction.getColorForContinuousDataValue(o,r):null}getSections(){const e=[];for(const o of this.sections)e.push(new Ie({enabled:o.enabled,href:o.href,id:o.id,label:o.label,normal:o.normal,point:o.point,sizeInPixel:o.sizeInPixel,slices:o.slices,timeId:o.timeId,variableId:o.variableId}));return e}getVariableStyles(){const e=[];for(const o of this.variableStyles){const r=this._getVariable(o);if(null!=r){const s=o.clone();s.isosurfaces.length>4&&(s.isosurfaces=s.isosurfaces.slice(0,3),N.Z.getLogger(this).error("A maximum of 4 isosurfaces are supported for Voxel Layers."));for(const l of s.isosurfaces)if(!l.colorLocked){const d=this.getColorForContinuousDataValue(s.variableId,l.value,!1);null===d||d.equals(l.color)||(l.color=d)}if("continuous"===r.renderingFormat.continuity)(null===s.transferFunction||s.transferFunction.colorStops.length<2)&&N.Z.getLogger(this).error(`VoxelVariableStyle for variable ${r.id} is invalid. At least 2 color stops are required in the transferFunction for continuous Voxel Layer variables.`),null!==s.transferFunction&&(Array.isArray(s.transferFunction.stretchRange)&&2===s.transferFunction.stretchRange.length||(N.Z.getLogger(this).error(`VoxelVariableStyle for variable ${r.id} is invalid. The stretchRange of the transferFunction for continuous Voxel Layer variables must be of the form [minimumDataValue, maximumDataValue].`),s.transferFunction.stretchRange=[0,1],s.transferFunction.colorStops.removeAll()));else if("discrete"===r.renderingFormat.continuity)if(0===o.uniqueValues.length)N.Z.getLogger(this).error(`VoxelVariableStyle for variable ${r.id} is invalid. Unique values are required for discrete Voxel Layer variables.`);else for(const l of o.uniqueValues)null!=l.label||null==l.value||(l.label=l.value.toString());e.push(s)}else N.Z.getLogger(this).error(`VoxelVariable ID=${o.variableId} doesn't exist, VoxelVariableStyle for this VoxelVariable will be ignored.`)}return e}getVolumeStyles(){const e=[];for(const o of this.volumeStyles){const r=this._getVolumeFromVolumeId(o.volumeId);if(null!=r){const s=o.clone();for(const l of s.slices)this._isPlaneValid(l,[0,1,r.zDimension],r.dimensions)||(l.enabled=!1,l.label="invalid");for(const l of s.dynamicSections)this._isPlaneValid(l,[0,1,r.zDimension],r.dimensions)||(l.enabled=!1,l.label="invalid");e.push(s)}else N.Z.getLogger(this).error(`VoxelVolume ID=${o.volumeId} doesn't exist, VoxelVolumeStyle for this VoxelVolume will be ignored.`)}return e}_getVariable(e){const o=e.variableId;for(const r of this.variables)if(r.id===o)return r;return null}_getVolumeFromVolumeId(e){for(const o of this.volumes)if(o.id===e)return o;return null}_isPlaneValid(e,o,r){if(!(e.point&&Array.isArray(e.point)&&3===e.point.length&&e.normal&&Array.isArray(e.normal)&&3===e.normal.length))return!1;const s=(0,F.al)(e.normal[0],e.normal[1],e.normal[2]);return(0,D.n)(s,s),!(Math.abs(s[0])+Math.abs(s[1])+Math.abs(s[2])<1e-6||(e.normal[0]=s[0],e.normal[1]=s[1],e.normal[2]=s[2],0))}};(0,t._)([(0,i.Cb)({type:["Voxel"]})],c.prototype,"operationalLayerType",void 0),(0,t._)([(0,i.Cb)(I.rn)],c.prototype,"legendEnabled",void 0),(0,t._)([(0,i.Cb)({json:{write:!0}})],c.prototype,"title",void 0),(0,t._)([(0,i.Cb)(I.HQ)],c.prototype,"url",null),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Ie),json:{origins:{"web-scene":{name:"layerDefinition.sections",write:!0}}}})],c.prototype,"sections",void 0),(0,t._)([(0,i.Cb)({type:a.z8,json:{origins:{"web-scene":{name:"layerDefinition.style.currentVariableId",write:{enabled:!0,isRequired:!0,ignoreOrigin:!0}},service:{name:"style.currentVariableId"}}}})],c.prototype,"currentVariableId",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType($e),json:{origins:{"web-scene":{name:"layerDefinition.style.volumeStyles",write:!0},service:{name:"style.volumeStyles"}}}})],c.prototype,"volumeStyles",void 0),(0,t._)([(0,i.Cb)({type:["volume","surfaces"],json:{origins:{"web-scene":{name:"layerDefinition.style.renderMode",write:!0},service:{name:"style.renderMode"}}}})],c.prototype,"renderMode",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Je),json:{origins:{"web-scene":{name:"layerDefinition.style.variableStyles",write:!0},service:{name:"style.variableStyles"}}}})],c.prototype,"variableStyles",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableSlices",write:!0},service:{name:"style.enableSlices"}}}})],c.prototype,"enableSlices",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableSections",write:!0},service:{name:"style.enableSections"}}}})],c.prototype,"enableSections",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableDynamicSections",write:!0},service:{name:"style.enableDynamicSections"}}}})],c.prototype,"enableDynamicSections",void 0),(0,t._)([(0,i.Cb)({type:Boolean,json:{origins:{"web-scene":{name:"layerDefinition.style.enableIsosurfaces",write:!0},service:{name:"style.enableIsosurfaces"}}}})],c.prototype,"enableIsosurfaces",void 0),(0,t._)([(0,i.Cb)({type:Ue,json:{origins:{"web-scene":{name:"layerDefinition.style.shading",write:!0},service:{name:"style.shading"}}}})],c.prototype,"shading",void 0),(0,t._)([(0,i.Cb)({type:["show","hide"]})],c.prototype,"listMode",void 0),(0,t._)([(0,i.Cb)({type:Number,range:{min:0,max:1},nonNullable:!0,json:{read:!1,write:!1,origins:{"web-scene":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],c.prototype,"opacity",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Qe)})],c.prototype,"variables",void 0),(0,t._)([(0,i.Cb)({type:h.Z.ofType(Ke)})],c.prototype,"volumes",void 0),(0,t._)([(0,i.Cb)({type:rt})],c.prototype,"index",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:!1,write:!1}}}})],c.prototype,"minScale",void 0),(0,t._)([(0,i.Cb)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:!1,write:!1}}}})],c.prototype,"maxScale",void 0),(0,t._)([(0,i.Cb)({json:{read:!1},readOnly:!0})],c.prototype,"type",void 0),(0,t._)([(0,i.Cb)({readOnly:!0,json:{name:"serviceVersion"}})],c.prototype,"version",void 0),(0,t._)([(0,he.r)("service","version")],c.prototype,"readVersion",null),(0,t._)([(0,i.Cb)({type:me.Z})],c.prototype,"fullExtent",void 0),(0,t._)([(0,he.r)("service","fullExtent",["fullExtent"])],c.prototype,"readFullExtent",null),(0,t._)([(0,i.Cb)({readOnly:!0,clonable:!1,json:{read:!1}})],c.prototype,"voxelFields",null),(0,t._)([(0,i.Cb)({type:Boolean,json:{name:"disablePopup",read:{reader:(e,o)=>!o.disablePopup},write:{enabled:!0,ignoreOrigin:!0,writer(e,o,r){o[r]=!e}},origins:{"portal-item":{default:!0},"web-scene":{default:!0}}}})],c.prototype,"popupEnabled",void 0),(0,t._)([(0,i.Cb)({type:se.Z,json:{read:!1}})],c.prototype,"popupTemplate",null),(0,t._)([(0,i.Cb)({readOnly:!0})],c.prototype,"defaultPopupTemplate",null),c=(0,t._)([(0,V.j)("esri.layers.VoxelLayer")],c);const nt=c},61556:(Le,ee,n)=>{n.d(ee,{B:()=>se});var t=n(21726);function se(a){return N[function h(a){return"json"===a.type?"application/json":"blob"===a.type?a.blob.type:function L(a){const O=(0,t.Ml)(a);return i[O]||te}(a.url)}(a)]||ne}const N={},te="text/plain",ne=N[te],i={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const a in i)N[i[a]]=a}}]);