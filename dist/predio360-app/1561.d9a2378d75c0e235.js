"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[1561],{14259:(K,j,o)=>{o.d(j,{q:()=>I});var E,L,b={};E={get exports(){return b},set exports(C){b=C}},void 0!==(L=function(){function A(i,u,_,a,d){for(;a>_;){if(a-_>600){var h=a-_+1,g=u-_+1,v=Math.log(h),p=.5*Math.exp(2*v/3),y=.5*Math.sqrt(v*p*(h-p)/h)*(g-h/2<0?-1:1);A(i,u,Math.max(_,Math.floor(u-g*p/h+y)),Math.min(a,Math.floor(u+(h-g)*p/h+y)),d)}var T=i[u],r=_,s=a;for(P(i,_,u),d(i[a],T)>0&&P(i,_,a);r<s;){for(P(i,r,s),r++,s--;d(i[r],T)<0;)r++;for(;d(i[s],T)>0;)s--}0===d(i[_],T)?P(i,_,s):P(i,++s,a),s<=u&&(_=s+1),u<=s&&(a=s-1)}}function P(i,u,_){var a=i[u];i[u]=i[_],i[_]=a}function l(i,u){return i<u?-1:i>u?1:0}return function C(i,u,_,a,d){A(i,u,_||0,a||i.length-1,d||l)}}())&&(E.exports=L);const I=b},77044:(K,j,o)=>{o.d(j,{Y:()=>L});var E=o(62208);function m(l,i){return l?i?4:3:i?3:2}function L(l,i,u,_,a){if((0,E.Wi)(i)||!i.lengths.length)return null;const d="upperLeft"===a?.originPosition?-1:1;l.lengths.length&&(l.lengths.length=0),l.coords.length&&(l.coords.length=0);const h=l.coords,g=[],v=u?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:p,coords:y}=i,T=m(u,_);let r=0;for(const s of p){const c=b(v,y,r,s,u,_,d);c&&g.push(c),r+=s*T}if(g.sort((s,c)=>{let f=d*s[2]-d*c[2];return 0===f&&u&&(f=s[4]-c[4]),f}),g.length){let s=6*g[0][2];h[0]=g[0][0]/s,h[1]=g[0][1]/s,u&&(s=6*g[0][4],h[2]=0!==s?g[0][3]/s:0),(h[0]<v[0]||h[0]>v[1]||h[1]<v[2]||h[1]>v[3]||u&&(h[2]<v[4]||h[2]>v[5]))&&(h.length=0)}if(!h.length){const s=i.lengths[0]?function W(l,i,u,_,a){const d=m(_,a);let h=i,g=i+d,v=0,p=0,y=0,T=0;for(let r=0,s=u-1;r<s;r++,h+=d,g+=d){const c=l[h],f=l[h+1],O=l[h+2],R=l[g],D=l[g+1],M=l[g+2],U=_?C(c,f,O,R,D,M):I(c,f,R,D);if(U)if(v+=U,_){const B=P(c,f,O,R,D,M);p+=U*B[0],y+=U*B[1],T+=U*B[2]}else{const B=A(c,f,R,D);p+=U*B[0],y+=U*B[1]}}return v>0?_?[p/v,y/v,T/v]:[p/v,y/v]:u>0?_?[l[i],l[i+1],l[i+2]]:[l[i],l[i+1]]:null}(y,0,p[0],u,_):null;if(!s)return null;h[0]=s[0],h[1]=s[1],u&&s.length>2&&(h[2]=s[2])}return l}function b(l,i,u,_,a,d,h=1){const g=m(a,d);let v=u,p=u+g,y=0,T=0,r=0,s=0,c=0;for(let O=0,R=_-1;O<R;O++,v+=g,p+=g){const D=i[v],M=i[v+1],U=i[v+2],B=i[p],N=i[p+1],x=i[p+2];let S=D*N-B*M;s+=S,y+=(D+B)*S,T+=(M+N)*S,a&&(S=D*x-B*U,r+=(U+x)*S,c+=S),D<l[0]&&(l[0]=D),D>l[1]&&(l[1]=D),M<l[2]&&(l[2]=M),M>l[3]&&(l[3]=M),a&&(U<l[4]&&(l[4]=U),U>l[5]&&(l[5]=U))}if(s*h>0&&(s*=-1),c*h>0&&(c*=-1),!s)return null;const f=[y,T,.5*s];return a&&(f[3]=r,f[4]=.5*c),f}function I(l,i,u,_){const a=u-l,d=_-i;return Math.sqrt(a*a+d*d)}function C(l,i,u,_,a,d){const h=_-l,g=a-i,v=d-u;return Math.sqrt(h*h+g*g+v*v)}function A(l,i,u,_){return[l+.5*(u-l),i+.5*(_-i)]}function P(l,i,u,_,a,d){return[l+.5*(_-l),i+.5*(a-i),u+.5*(d-u)]}},60507:(K,j,o)=>{o.d(j,{Jn:()=>C,RL:()=>P,VW:()=>I,W_:()=>v,jG:()=>p,tR:()=>y,tq:()=>h,vQ:()=>_,zx:()=>a});var E=o(62208),m=o(29505);function L(r){return r?p:y}function I(r,s){return function b(r,s){return(0,E.Wi)(s)||!s.mode?L(r).mode:s.mode}(!!(0,E.pC)(r)&&r.hasZ,s)}function C(r,s){return function W(r,s){return(0,E.pC)(s)?s:L(r)}(!!(0,E.pC)(r)&&!!r.hasZ,s)}function P(r){const s=function i(r){return r.layer&&"elevationInfo"in r.layer?r.layer.elevationInfo:null}(r),c=I(r.geometry,s);return{mode:c,offset:(0,E.pC)(s)&&"on-the-ground"!==c?(0,E.Pt)(s.offset,0)*(0,m.Z7)((0,E.Pt)(s.unit,"meters")):0}}function _(r,s,c,f=null){return d(r,s.x,s.y,s.hasZ?s.z:0,s.spatialReference,c,f)}function a(r,s,c,f,O=null){return d(r,s[0],s[1],s.length>2?s[2]:0,c,f,O)}function d(r,s,c,f,O,R,D=null){if((0,E.Wi)(R))return;const M=(0,E.pC)(D)?D.mode:"absolute-height";if("on-the-ground"===M)return 0;const{absoluteZ:U}=h(s,c,f,O,r,R);return function g(r,s,c,f,O,R,D,M){const U=(0,E.pC)(D)&&(0,E.pC)(D.offset)?D.offset:0;switch(M){case"absolute-height":return r-U;case"relative-to-ground":return r-((0,E.Pt)(R.elevationProvider.getElevation(s,c,f,O,"ground"),0)+U);case"relative-to-scene":return r-((0,E.Pt)(R.elevationProvider.getElevation(s,c,f,O,"scene"),0)+U)}}(U,s,c,f,O,r,D,M)}function h(r,s,c,f,O,R){const D=(0,E.pC)(R.offset)?R.offset:0;switch(R.mode){case"absolute-height":return{absoluteZ:c+D,elevation:0};case"on-the-ground":{const M=(0,E.Pt)(O.elevationProvider.getElevation(r,s,0,f,"ground"),0);return{absoluteZ:M,elevation:M}}case"relative-to-ground":{const M=(0,E.Pt)(O.elevationProvider.getElevation(r,s,c,f,"ground"),0);return{absoluteZ:c+M+D,elevation:M}}case"relative-to-scene":{const M=(0,E.Pt)(O.elevationProvider.getElevation(r,s,c,f,"scene"),0);return{absoluteZ:c+M+D,elevation:M}}}}function v(r,s){if((0,E.Wi)(s))return!1;const{mode:c}=s;return(0,E.pC)(c)&&("scene"===r&&"relative-to-scene"===c||"ground"===r&&"absolute-height"!==c)}const p={mode:"absolute-height",offset:0},y={mode:"on-the-ground",offset:null}},62359:(K,j,o)=>{o.r(j),o.d(j,{default:()=>v});var E=o(15861),m=o(17626),L=o(26584),b=o(62208),W=o(32917),I=o(77712),P=(o(90912),o(85931),o(76898)),l=o(19702),i=o(13191),u=o(32400),_=o(46348),a=o(89765),d=o(23147),h=o(45611);let g=class extends((0,l.A)(h.Z)){constructor(){super(...arguments),this.type="graphics-3d",this.symbologySnappingSupported=!0,this._slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null}initialize(){this._set("processor",new u.D({owner:this,scaleVisibilityEnabled:!0,frustumVisibilityEnabled:!0})),this.addResolvingPromise(this.processor.initializePromise),this.handles.add(this.layer.on("graphic-update",p=>this.processor.graphicsCore.graphicUpdateHandler(p))),this.addResolvingPromise((0,a.E)(this).then(p=>this.fullExtentInLocalViewSpatialReference=p)),this.layer.internal?this.notifyChange("updating"):this.handles.add((0,W.gx)(()=>this.view?.basemapTerrain?.ready,()=>()=>this.notifyChange("updating"),{once:!0}))}destroy(){this.handles.removeAll(),this.updatingHandles.removeAll(),this._set("processor",(0,b.SC)(this.processor))}get loadedGraphics(){return this.layer.graphics}get legendEnabled(){return this.canResume()&&!this.processor?.frustumVisibilitySuspended}get slicePlaneEnabled(){return this._slicePlaneEnabled&&!this.layer.internal}set slicePlaneEnabled(p){this._slicePlaneEnabled=p}getSuspendInfo(){const p=super.getSuspendInfo();return p.outsideScaleRange=this.processor?.scaleVisibilitySuspended??!1,p.outsideOfView=this.processor?.frustumVisibilitySuspended??!1,p}fetchPopupFeatures(p,y){return(0,E.Z)(function*(){return(0,b.Wg)(y)?.clientGraphics??[]})()}getHit(p){return this.processor.getHit(p)}whenGraphicBounds(p,y){return this.processor.whenGraphicBounds(p,y)}computeAttachmentOrigin(p,y){return this.processor?.computeAttachmentOrigin(p,y)}getSymbolLayerSize(p,y){return this.processor.getSymbolLayerSize(p,y)}queryGraphics(){return Promise.resolve(this.loadedGraphics)}maskOccludee(p){return this.processor.maskOccludee(p)}highlight(p){return this.processor.highlight(p)}elevationAlignPointsInFeatures(p,y){var T=this;return(0,E.Z)(function*(){const{processor:r}=T;if((0,b.Wi)(r)||(0,b.Wi)(r.graphics3DGraphics))throw new L.Z("graphicslayerview3d:missing-processor","A Graphics3D processor is needed to resolve graphics elevation.");const{graphics3DGraphics:s}=r;return(0,i.W)(T.view,T.layer,f=>"number"==typeof f?s.get(f):void 0,p,y)})()}queryForSymbologySnapping(p,y){var T=this;return(0,E.Z)(function*(){return(0,_.c)(T.processor,p,y)})()}get updatePolicy(){return this.processor?.graphicsCore.effectiveUpdatePolicy||d.j.SYNC}canResume(){return super.canResume()&&!this.processor?.scaleVisibilitySuspended}isUpdating(){return!(!this.processor?.updating&&(this.layer.internal||this.view?.basemapTerrain?.ready))}get performanceInfo(){return{displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:-1,totalNumberOfFeatures:-1,nodes:0,core:null,updating:this.updating,elevationUpdating:this.processor?.elevationAlignment.updating??!1,visibilityFrustum:!this.processor?.frustumVisibilitySuspended}}getUsedMemory(){return this.processor?.graphicsCore?.usedMemory??0}getUnloadedMemory(){return this.processor?.graphicsCore?.unprocessedMemoryEstimate}ignoresMemoryFactor(){return!0}};(0,m._)([(0,I.Cb)()],g.prototype,"loadedGraphics",null),(0,m._)([(0,I.Cb)({readOnly:!0})],g.prototype,"legendEnabled",null),(0,m._)([(0,I.Cb)()],g.prototype,"layer",void 0),(0,m._)([(0,I.Cb)({readOnly:!0})],g.prototype,"processor",void 0),(0,m._)([(0,I.Cb)()],g.prototype,"_slicePlaneEnabled",void 0),(0,m._)([(0,I.Cb)({type:Boolean})],g.prototype,"slicePlaneEnabled",null),g=(0,m._)([(0,P.j)("esri.views.3d.layers.GraphicsLayerView3D")],g);const v=g},19702:(K,j,o)=>{o.d(j,{A:()=>i});var E=o(15861),m=o(17626),L=o(54024),b=o(10699),W=o(32917),I=o(77712),P=(o(90912),o(85931),o(76898)),l=o(36947);const i=u=>{let _=class extends u{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(a){super.postscript(a),(0,l.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var a=this;return(0,E.Z)(function*(){const d=new AbortController,h=d.signal;a.handles.add((0,L.kB)(()=>d.abort())),yield(0,W.N1)(()=>a.view.defaultsFromMap?.heightModelInfoReady,h),(0,b.k_)(h);const g=(0,l.Wt)(a.layer,a.view.heightModelInfo,a.supportsHeightUnitConversion);if(g)throw g})()}canResume(){const a=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!a||!a.minScale||!a.maxScale||a.minScale>=a.maxScale)}getSuspendInfo(){const a=super.getSuspendInfo(),d=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return d&&d.minScale&&d.maxScale&&d.minScale<d.maxScale&&(a.outsideScaleRange=!0),a}};return(0,m._)([(0,I.Cb)()],_.prototype,"view",void 0),(0,m._)([(0,I.Cb)()],_.prototype,"slicePlaneEnabled",void 0),_=(0,m._)([(0,P.j)("esri.views.3d.layers.LayerView3D")],_),_}},13191:(K,j,o)=>{o.d(j,{W:()=>i});var E=o(15861),L=(o(29132),o(62208)),b=o(10699),W=o(38114),I=o(60507),C=o(81468),A=o(79112),P=o(74746),l=o(65234);function i(h,g,v,p,y){return u.apply(this,arguments)}function u(){return(u=(0,E.Z)(function*(h,g,v,p,y){const{elevationProvider:T,renderCoordsHelper:r,spatialReference:s}=h,{elevationInfo:c}=g,f=(0,P.WI)(c,!0),O=yield(0,P.kr)(f,s,y);(0,b.k_)(y);const R=[],D=new Set,M=new Set;for(const{objectId:U,points:B}of p){const N=v(U);if((0,L.Wi)(N)){for(const S of B)R.push(S[2]);D.add(U)}else{N.isDraped&&M.add(U),_.setFromElevationInfo((0,I.Jn)(N.graphic.geometry,c)),_.updateFeatureExpressionInfoContext(O,N.graphic,g),a.spatialReference=h.spatialReference;for(const{x:S,y:G,z:V}of B)a.x=S,a.y=G,a.z=V??0,(0,C.qZ)(a,T,_,r,d),R.push(d.z)}}return{elevations:R,drapedObjectIds:M,failedObjectIds:D}})).apply(this,arguments)}const _=new A.o,a=(0,W.Tx)(0,0,0,l.Z.WGS84),d=new C.Lm},46348:(K,j,o)=>{o.d(j,{c:()=>W});var E=o(15861),m=o(62208),L=o(10699),b=o(46679);function W(A,P,l){return I.apply(this,arguments)}function I(){return I=(0,E.Z)(function*(A,P,l){if((0,m.Wi)(A)||0===P.candidates.length)return C;const i=A.graphics3DGraphicsByObjectID??A.graphics3DGraphics,u=[],_=[],{renderer:a}=A,d=(0,m.pC)(a)&&"arcadeRequired"in a&&a.arcadeRequired?(0,b.LC)():null,h=function(){var r=(0,E.Z)(function*(s,{graphic:c,graphics3DSymbol:f}){const O=yield d,R=yield A.getRenderingInfoAsync(c,a,O,{signal:l});return(0,m.Wi)(R)?[]:f.queryForSnapping(s,v,R,l)});return function(c,f){return r.apply(this,arguments)}}(),{candidates:g,spatialReference:v}=P;for(let r=0;r<g.length;++r){const s=g[r],{objectId:c}=s,f="number"==typeof c?i?.get(c):void 0;if((0,m.Wi)(f))continue;const{graphics3DSymbol:O}=f;O.symbologySnappingSupported&&(u.push(h(s,f)),_.push(r))}if(0===u.length)return C;const p=yield Promise.all(u);(0,L.k_)(l);const y=[],T=[];for(let r=0;r<p.length;++r){const s=p[r],c=_[r];for(const f of s)y.push(f),T.push(c)}return{candidates:y,sourceCandidateIndices:T}}),I.apply(this,arguments)}const C={candidates:[],sourceCandidateIndices:[]}},89765:(K,j,o)=>{o.d(j,{E:()=>b});var E=o(62208),m=o(46367),L=o(35082);function b(W){const I=W.view.spatialReference,C=W.layer.fullExtent,A=(0,E.pC)(C)&&C.spatialReference;if((0,E.Wi)(C)||!A)return Promise.resolve(null);if(A.equals(I))return Promise.resolve(C.clone());const P=(0,m.iV)(C,I);return(0,E.pC)(P)?Promise.resolve(P):W.view.state.isLocal?(0,L.projectGeometry)(C,I,W.layer.portalItem).then(l=>!W.destroyed&&l?l:null).catch(()=>null):Promise.resolve(null)}},45611:(K,j,o)=>{o.d(j,{Z:()=>a});var E=o(17626),m=o(14517),L=o(61885),b=o(80542),W=o(61996),I=o(63290),C=o(62208),A=o(60330),P=o(77712),u=(o(90912),o(85931),o(76898));let _=class extends((0,b.p)((0,W.IG)((0,A.v)(L.Z.EventedMixin(m.Z))))){constructor(d){super(d),this.layer=null,this.parent=null}initialize(){this.when().catch(d=>{if("layerview:create-error"!==d.name){const h=this.layer&&this.layer.id||"no id",g=this.layer&&this.layer.title||"no title";I.Z.getLogger(this.declaredClass).error("#resolve()",`Failed to resolve layer view (layer title: '${g}', id: '${h}')`,d)}})}get fullOpacity(){return(0,C.Pt)(this.get("layer.opacity"),1)*(0,C.Pt)(this.get("parent.fullOpacity"),1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this.updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(d){this._overrideIfSome("visible",d)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const d=this.parent&&this.parent.suspended?this.parent.suspendInfo:{};return this.view&&this.view.ready||(d.viewNotReady=!0),this.layer&&this.layer.loaded||(d.layerNotLoaded=!0),this.visible||(d.layerInvisible=!0),d}isUpdating(){return!1}};(0,E._)([(0,P.Cb)()],_.prototype,"fullOpacity",null),(0,E._)([(0,P.Cb)()],_.prototype,"layer",void 0),(0,E._)([(0,P.Cb)()],_.prototype,"parent",void 0),(0,E._)([(0,P.Cb)({readOnly:!0})],_.prototype,"suspended",null),(0,E._)([(0,P.Cb)({readOnly:!0})],_.prototype,"suspendInfo",null),(0,E._)([(0,P.Cb)({readOnly:!0})],_.prototype,"legendEnabled",null),(0,E._)([(0,P.Cb)({type:Boolean,readOnly:!0})],_.prototype,"updating",null),(0,E._)([(0,P.Cb)({readOnly:!0})],_.prototype,"updatingProgress",null),(0,E._)([(0,P.Cb)()],_.prototype,"visible",null),(0,E._)([(0,P.Cb)()],_.prototype,"view",void 0),_=(0,E._)([(0,u.j)("esri.views.layers.LayerView")],_);const a=_}}]);