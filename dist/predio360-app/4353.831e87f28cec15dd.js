"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[4353,7777,4766],{84600:(Mt,_t,R)=>{R.d(_t,{Rd:()=>$,Ud:()=>Y,VG:()=>W,Wv:()=>lt,Zv:()=>F});var P=R(15572),j=R(90466);function W(L,U,Z,g=2,A="abbr"){return(0,j.VG)(L,(0,P.nn)(U,Z).value,Z,g,A)}function $(L,U,Z=2,g="abbr"){return(0,j.Rd)(L,U.value,U.unit,Z,g)}function lt(L,U,Z=2,g="abbr"){return(0,j.Wv)(L,U.value,U.unit,Z,g)}function Y(L,U,Z=2,g="abbr"){return(0,j.Ud)(L,U.value,U.unit,Z,g)}function F(L,U,Z=2,g="abbr"){return(0,j.Zv)(L,U.value,U.unit,Z,g)}},15572:(Mt,_t,R)=>{R.d(_t,{GJ:()=>$,hw:()=>V,mE:()=>gt,ne:()=>k,nn:()=>lt,yG:()=>W});var P=R(16730);function W(T,I){return{type:(0,P.UF)(I),value:T,unit:I}}function k(T,I){return{type:(0,P.UF)(I),value:T,unit:I}}function $(T,I,Q="arithmetic"){return{type:(0,P.UF)(I),value:T,unit:I,rotationType:Q}}function lt(T,I){const Q=gt(T,I);return"angle"===T.type?$(Q,I,T.rotationType):function j(T,I){return{type:(0,P.UF)(I),value:T,unit:I}}(Q,I)}function gt(T,I){return(0,P.En)(T.value,T.unit,I)}function V(T,I,Q){if(I===Q)return T;switch(Q){case"arithmetic":case"geographic":return 90-T}}W(0,"meters"),k(0,"square-meters"),$(0,"radians"),$(0,"degrees"),$(0,"degrees","geographic")},90466:(Mt,_t,R)=>{R.d(_t,{Rd:()=>mt,Ud:()=>z,VG:()=>ht,Wv:()=>V,Zv:()=>tt,sS:()=>A});var P=R(41844),W=(R(23719),R(21286)),$=(R(15572),R(77275)),at=R(16730),lt=R(15348);function ht(M,C,x,S=2,O="abbr"){return`${(0,lt.uf)(C,{minimumFractionDigits:S,maximumFractionDigits:S,signDisplay:C>0?"never":"exceptZero"})} ${function gt(M,C,x){return M.units[C][x]}(M,x,O)}`}function mt(M,C,x,S=2,O="abbr"){const D=(0,at.Y8)(C,x);return ht(M,(0,at.En)(C,x,D),D,S,O)}function V(M,C,x,S=2,O="abbr"){const D=(0,at.Dw)(C,x);return ht(M,(0,at.En)(C,x,D),D,S,O)}function z(M,C,x,S=2,O="abbr"){const D=(0,at.Q7)(C,x);return ht(M,(0,at.En)(C,x,D),D,S,O)}function tt(M,C,x,S=2,O="abbr"){const D=(0,at.jl)(C,x);return ht(M,(0,at.En)(C,x,D),D,S,O)}const g=["B","kB","MB","GB","TB"];function A(M,C){let x=0===(C=Math.round(C))?0:Math.floor(Math.log(C)/Math.log(P.Y.KILOBYTES));x=(0,W.uZ)(x,0,g.length-1);const S=(0,lt.uf)(C/P.Y.KILOBYTES**x,{maximumFractionDigits:2});return(0,$.gx)(M.units.bytes[g[x]],{fileSize:S})}},77777:(Mt,_t,R)=>{R.r(_t),R.d(_t,{hydratedAdapter:()=>at});var P=R(2004),j=R(72854),W=R(72642),k=R(37118),$=R(55214);const at={convertToGEGeometry:function lt(V,w){if(null==w)return null;let z="cache"in w?w.cache._geVersion:void 0;return null==z&&(z=V.convertJSONToGeometry(w),"cache"in w&&(w.cache._geVersion=z)),z},exportPoint:function gt(V,w,z){const B=V.hasZ(w),tt=V.hasM(w),H=new W.Z({x:V.getPointX(w),y:V.getPointY(w),spatialReference:z});return B&&(H.z=V.getPointZ(w)),tt&&(H.m=V.getPointM(w)),H.cache._geVersion=w,H},exportPolygon:function ht(V,w,z){const B=new k.Z({rings:V.exportPaths(w),hasZ:V.hasZ(w),hasM:V.hasM(w),spatialReference:z});return B.cache._geVersion=w,B},exportPolyline:function Y(V,w,z){const B=new $.Z({paths:V.exportPaths(w),hasZ:V.hasZ(w),hasM:V.hasM(w),spatialReference:z});return B.cache._geVersion=w,B},exportMultipoint:function mt(V,w,z){const B=new j.Z({hasZ:V.hasZ(w),hasM:V.hasM(w),points:V.exportPoints(w),spatialReference:z});return B.cache._geVersion=w,B},exportExtent:function F(V,w,z){const B=V.hasZ(w),tt=V.hasM(w),H=new P.Z({xmin:V.getXMin(w),ymin:V.getYMin(w),xmax:V.getXMax(w),ymax:V.getYMax(w),spatialReference:z});if(B){const T=V.getZExtent(w);H.zmin=T.vmin,H.zmax=T.vmax}if(tt){const T=V.getMExtent(w);H.mmin=T.vmin,H.mmax=T.vmax}return H.cache._geVersion=w,H}}},44766:(Mt,_t,R)=>{R.r(_t),R.d(_t,{buffer:()=>Z,changeDefaultSpatialReferenceTolerance:()=>et,clearDefaultSpatialReferenceTolerance:()=>pt,clip:()=>$,contains:()=>lt,convexHull:()=>T,crosses:()=>gt,cut:()=>at,densify:()=>rt,difference:()=>I,disjoint:()=>w,distance:()=>ht,equals:()=>Y,extendedSpatialReferenceInfo:()=>k,flipHorizontal:()=>O,flipVertical:()=>D,generalize:()=>J,geodesicArea:()=>dt,geodesicBuffer:()=>g,geodesicDensify:()=>nt,geodesicLength:()=>it,intersect:()=>N,intersectLinesToPoints:()=>ct,intersects:()=>mt,isSimple:()=>tt,nearestCoordinate:()=>A,nearestVertex:()=>M,nearestVertices:()=>C,offset:()=>U,overlaps:()=>z,planarArea:()=>q,planarLength:()=>K,relate:()=>B,rotate:()=>S,simplify:()=>H,symmetricDifference:()=>Q,touches:()=>F,union:()=>L,within:()=>V});var P=R(4918),j=R(77777);function W(d){return Array.isArray(d)?d[0].spatialReference:d&&d.spatialReference}function k(d){return P.G.extendedSpatialReferenceInfo(d)}function $(d,_){return P.G.clip(j.hydratedAdapter,W(d),d,_)}function at(d,_){return P.G.cut(j.hydratedAdapter,W(d),d,_)}function lt(d,_){return P.G.contains(j.hydratedAdapter,W(d),d,_)}function gt(d,_){return P.G.crosses(j.hydratedAdapter,W(d),d,_)}function ht(d,_,y){return P.G.distance(j.hydratedAdapter,W(d),d,_,y)}function Y(d,_){return P.G.equals(j.hydratedAdapter,W(d),d,_)}function mt(d,_){return P.G.intersects(j.hydratedAdapter,W(d),d,_)}function F(d,_){return P.G.touches(j.hydratedAdapter,W(d),d,_)}function V(d,_){return P.G.within(j.hydratedAdapter,W(d),d,_)}function w(d,_){return P.G.disjoint(j.hydratedAdapter,W(d),d,_)}function z(d,_){return P.G.overlaps(j.hydratedAdapter,W(d),d,_)}function B(d,_,y){return P.G.relate(j.hydratedAdapter,W(d),d,_,y)}function tt(d){return P.G.isSimple(j.hydratedAdapter,W(d),d)}function H(d){return P.G.simplify(j.hydratedAdapter,W(d),d)}function T(d,_=!1){return P.G.convexHull(j.hydratedAdapter,W(d),d,_)}function I(d,_){return P.G.difference(j.hydratedAdapter,W(d),d,_)}function Q(d,_){return P.G.symmetricDifference(j.hydratedAdapter,W(d),d,_)}function N(d,_){return P.G.intersect(j.hydratedAdapter,W(d),d,_)}function L(d,_=null){return P.G.union(j.hydratedAdapter,W(d),d,_)}function U(d,_,y,E,X,G){return P.G.offset(j.hydratedAdapter,W(d),d,_,y,E,X,G)}function Z(d,_,y,E=!1){return P.G.buffer(j.hydratedAdapter,W(d),d,_,y,E)}function g(d,_,y,E,X,G){return P.G.geodesicBuffer(j.hydratedAdapter,W(d),d,_,y,E,X,G)}function A(d,_,y=!0){return P.G.nearestCoordinate(j.hydratedAdapter,W(d),d,_,y)}function M(d,_){return P.G.nearestVertex(j.hydratedAdapter,W(d),d,_)}function C(d,_,y,E){return P.G.nearestVertices(j.hydratedAdapter,W(d),d,_,y,E)}function x(d){return"xmin"in d?"center"in d?d.center:null:"x"in d?d:"extent"in d?d.extent?.center??null:null}function S(d,_,y){if(null==d)throw new ut;const E=d.spatialReference;if(null==(y=y??x(d)))throw new ut;const X=d.constructor.fromJSON(P.G.rotate(d,_,y));return X.spatialReference=E,X}function O(d,_){if(null==d)throw new ut;const y=d.spatialReference;if(null==(_=_??x(d)))throw new ut;const E=d.constructor.fromJSON(P.G.flipHorizontal(d,_));return E.spatialReference=y,E}function D(d,_){if(null==d)throw new ut;const y=d.spatialReference;if(null==(_=_??x(d)))throw new ut;const E=d.constructor.fromJSON(P.G.flipVertical(d,_));return E.spatialReference=y,E}function J(d,_,y,E){return P.G.generalize(j.hydratedAdapter,W(d),d,_,y,E)}function rt(d,_,y){return P.G.densify(j.hydratedAdapter,W(d),d,_,y)}function nt(d,_,y,E=0){return P.G.geodesicDensify(j.hydratedAdapter,W(d),d,_,y,E)}function q(d,_){return P.G.planarArea(j.hydratedAdapter,W(d),d,_)}function K(d,_){return P.G.planarLength(j.hydratedAdapter,W(d),d,_)}function dt(d,_,y){return P.G.geodesicArea(j.hydratedAdapter,W(d),d,_,y)}function it(d,_,y){return P.G.geodesicLength(j.hydratedAdapter,W(d),d,_,y)}function ct(d,_){return P.G.intersectLinesToPoints(j.hydratedAdapter,W(d),d,_)}function et(d,_){P.G.changeDefaultSpatialReferenceTolerance(d,_)}function pt(d){P.G.clearDefaultSpatialReferenceTolerance(d)}class ut extends Error{constructor(){super("Illegal Argument Exception")}}},10049:(Mt,_t,R)=>{R.d(_t,{Gb:()=>B,Jf:()=>H,Lc:()=>Z,TB:()=>Q,_q:()=>I,cA:()=>N}),R(29132);var j=R(26584),W=R(16730),k=R(37299),$=R(37053),ht=(R(55214),R(37118),R(72642),R(65234));function Y(g){if(!g)return null;if((0,$.sT)(g)&&g.wkid){const M=k.Dg[g.wkid];if(M)return M}const A=g.wkt2||g.wkt;if(A){const M=function mt(g){const A=k.FQ.exec(g);if(!A||2!==A.length)return null;const M=A[1].split(",");if(!M||M.length<3)return null;const C=parseFloat(M[1]),x=parseFloat(M[2]);return isNaN(C)||isNaN(x)?null:{a:C,f:0===x?0:1/x}}(A);if(M)return M}return null}function F(g){const A=Y(g);if(function V(g){return null!=g&&"b"in g&&"eSq"in g&&"radius"in g}(A))return A;const M=A.a*(1-A.f);return Object.assign(A,{b:M,eSq:1-(M/A.a)**2,radius:(2*A.a+M)/3,densificationRatio:1e4/((2*A.a+M)/3)})}function B(g){return null!==Y(g)}function H(g,A="meters"){if(!g)throw new j.Z("geodesic-lengths:invalid-geometries","the input geometries type is not supported");if(g.some(C=>!B(C.spatialReference)))throw new j.Z("geodesic-lengths:invalid-spatial-reference","the input geometries spatial reference is not supported");const M=[];for(let C=0;C<g.length;C++){const x=g[C],{spatialReference:S}=x,O="polyline"===x.type?x.paths:x.rings;let D=0;for(let J=0;J<O.length;J++){const rt=O[J];let nt=0;for(let q=1;q<rt.length;q++){const K=rt[q-1][0],dt=rt[q][0],it=rt[q-1][1],ct=rt[q][1];if(it!==ct||K!==dt){const et=new I;N(et,[K,it],[dt,ct],S),nt+=et.distance}}D+=nt}D=(0,W.En)(D,"meters",A),M.push(D)}return M}class I{constructor(A=0,M,C){this.distance=A,this.azimuth=M,this.reverseAzimuth=C}}function Q(g,A,M,C,x){const D=A[0]*k.Yr,J=A[1]*k.Yr,rt=(M??0)*k.Yr,{a:nt,b:q,f:K}=F(x),dt=Math.sin(rt),it=Math.cos(rt),ct=(1-K)*Math.tan(J),et=1/Math.sqrt(1+ct*ct),pt=ct*et,ut=Math.atan2(ct,it),d=et*dt,_=d*d,y=1-_,E=y*(nt*nt-q*q)/(q*q),X=1+E/16384*(4096+E*(E*(320-175*E)-768)),G=E/1024*(256+E*(E*(74-47*E)-128));let ot,ft,st,bt,xt=C/(q*X),yt=2*Math.PI;for(;Math.abs(xt-yt)>1e-12;)st=Math.cos(2*ut+xt),ot=Math.sin(xt),ft=Math.cos(xt),bt=G*ot*(st+G/4*(ft*(2*st*st-1)-G/6*st*(4*ot*ot-3)*(4*st*st-3))),yt=xt,xt=C/(q*X)+bt;const vt=pt*ot-et*ft*it,Ct=Math.atan2(pt*ft+et*ot*it,(1-K)*Math.sqrt(_+vt*vt)),Pt=Math.atan2(ot*dt,et*ft-pt*ot*it),Et=K/16*y*(4+K*(4-3*y)),Rt=Ct/k.Yr;return g[0]=(D+(Pt-(1-Et)*K*d*(xt+Et*ot*(st+Et*ft*(2*st*st-1)))))/k.Yr,g[1]=Rt,g}function N(g,A,M,C){const x=A[0]*k.Yr,S=A[1]*k.Yr,O=M[0]*k.Yr,D=M[1]*k.Yr,{a:J,b:rt,f:nt,radius:q}=F(C),K=O-x,dt=Math.atan((1-nt)*Math.tan(S)),it=Math.atan((1-nt)*Math.tan(D)),ct=Math.sin(dt),et=Math.cos(dt),pt=Math.sin(it),ut=Math.cos(it);let d,_,y,E,X,G,ot,ft,st,bt,xt=1e3,yt=K;do{if(ot=Math.sin(yt),ft=Math.cos(yt),y=Math.sqrt(ut*ot*(ut*ot)+(et*pt-ct*ut*ft)*(et*pt-ct*ut*ft)),0===y)return g.distance=0,g.azimuth=void 0,g.reverseAzimuth=void 0,g;X=ct*pt+et*ut*ft,G=Math.atan2(y,X),st=et*ut*ot/y,_=1-st*st,E=X-2*ct*pt/_,isNaN(E)&&(E=0),bt=nt/16*_*(4+nt*(4-3*_)),d=yt,yt=K+(1-bt)*nt*st*(G+bt*y*(E+bt*X*(2*E*E-1)))}while(Math.abs(yt-d)>1e-12&&--xt>0);if(0===xt){const Dt=q,At=Math.acos(Math.sin(S)*Math.sin(D)+Math.cos(S)*Math.cos(D)*Math.cos(O-x))*Dt,St=O-x,wt=Math.sin(St)*Math.cos(D),It=Math.cos(S)*Math.sin(D)-Math.sin(S)*Math.cos(D)*Math.cos(St),Ot=Math.atan2(wt,It);return g.azimuth=Ot/k.Yr,g.distance=At,g.reverseAzimuth=void 0,g}const vt=_*(J*J-rt*rt)/(rt*rt),Ct=vt/1024*(256+vt*(vt*(74-47*vt)-128)),Pt=rt*(1+vt/16384*(4096+vt*(vt*(320-175*vt)-768)))*(G-Ct*y*(E+Ct/4*(X*(2*E*E-1)-Ct/6*E*(4*y*y-3)*(4*E*E-3)))),Et=Math.atan2(ut*Math.sin(yt),et*pt-ct*ut*Math.cos(yt)),Rt=Math.atan2(et*Math.sin(yt),et*pt*Math.cos(yt)-ct*ut);return g.azimuth=Et/k.Yr,g.distance=Pt,g.reverseAzimuth=Rt/k.Yr,g}function Z(g){return B(g)?g:(0,$.sS)(g)?ht.Z.WGS84:null}},75775:(Mt,_t,R)=>{R.d(_t,{R:()=>W});var P=R(16730),j=R(31099);function W(k){const $="metric";if(null==k)return $;const at=k.map,lt=(at&&"portalItem"in at?at.portalItem?.portal:null)??j.Z.getDefault();switch(lt.user?.units??lt.units){case $:return $;case"english":return"imperial"}return(0,P.yT)(k.spatialReference)??$}},68063:(Mt,_t,R)=>{R.d(_t,{K:()=>x,j:()=>O});var P=R(91558),j=R(72392),W=R(32917),k=R(23841),$=R(95470),at=R(79800),lt=R(29302),gt=R(68604),ht=R(25858),Y=R(17626),mt=R(83761),F=R(77712),B=(R(8314),R(63290),R(4619),R(76898));R(50645);let H=d=>({vnodeSelector:"",properties:void 0,children:void 0,text:d.toString(),domNode:null}),T=(d,_,y)=>{for(let E=0,X=_.length;E<X;E++){let G=_[E];Array.isArray(G)?T(d,G,y):null!=G&&!1!==G&&("string"==typeof G&&(G=H(G)),y.push(G))}};function I(d,_,y){if(Array.isArray(_))y=_,_=void 0;else if(_&&("string"==typeof _||_.hasOwnProperty("vnodeSelector"))||y&&("string"==typeof y||y.hasOwnProperty("vnodeSelector")))throw new Error("h called with invalid arguments");let E,X;return y&&1===y.length&&"string"==typeof y[0]?E=y[0]:y&&(X=[],T(d,y,X),0===X.length&&(X=void 0)),{vnodeSelector:d,properties:_,children:X,text:""===E?void 0:E,domNode:null}}R(62996);let N=class extends mt.Z{get startPosition(){return[this.startX,this.startY]}set startPosition(d){this._set("startX",d[0]),this._set("startY",d[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(d){this._set("endX",d[0]),this._set("endY",d[1])}constructor(d){super(d),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const d=this.color;return`rgba(${d[0]}, ${d[1]}, ${d[2]}, ${d[3]})`}get _lineCap(){return"round"}render(){const{height:d,left:_,top:y,width:E,x1:X,x2:G,y1:ot,y2:ft}=this._calculateCoordinates(L);return I("div",{classes:{"esri-line-overlay-item":!0},styles:{left:_+"px",top:y+"px",width:E+"px",height:d+"px",visibility:this.visible?"visible":"hidden"}},[I("svg",{width:E,height:d},[I("line",{x1:X,y1:ot,x2:G,y2:ft,style:`stroke: ${this._strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this._lineCap};`})])])}renderCanvas(d){if(!this.visible)return;d.strokeStyle=this._strokeStyle,d.lineWidth=this.width,d.lineCap=this._lineCap;const _=this._calculateCoordinates(L);d.beginPath(),d.moveTo(_.left+_.x1,_.top+_.y1),d.lineTo(_.left+_.x2,_.top+_.y2),d.stroke()}_calculateCoordinates(d){const _=Math.min(this.startX,this.endX),y=Math.max(this.startX,this.endX),E=Math.min(this.startY,this.endY),X=Math.max(this.startY,this.endY),G=this.width;return d.left=_-G,d.top=E-G,d.width=y-_+2*G,d.height=Math.max(20,X-E+2*G),d.x1=this.startX-_+G,d.y1=this.startY-E+G,d.x2=this.endX-_+G,d.y2=this.endY-E+G,d}};(0,Y._)([(0,F.Cb)()],N.prototype,"startX",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"startY",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"endX",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"endY",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"startPosition",null),(0,Y._)([(0,F.Cb)()],N.prototype,"endPosition",null),(0,Y._)([(0,F.Cb)()],N.prototype,"width",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"color",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"visible",void 0),(0,Y._)([(0,F.Cb)()],N.prototype,"isDecoration",void 0),(0,Y._)([(0,F.Cb)({readOnly:!0})],N.prototype,"_strokeStyle",null),N=(0,Y._)([(0,B.j)("esri.views.overlay.LineOverlayItem")],N);const L={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0},U=N,Z={bottom:"esri-text-overlay-item-anchor-bottom","bottom-right":"esri-text-overlay-item-anchor-bottom-right","bottom-left":"esri-text-overlay-item-anchor-bottom-left",top:"esri-text-overlay-item-anchor-top","top-right":"esri-text-overlay-item-anchor-top-right","top-left":"esri-text-overlay-item-anchor-top-left",center:"esri-text-overlay-item-anchor-center",right:"esri-text-overlay-item-anchor-right",left:"esri-text-overlay-item-anchor-left"};let g=class extends mt.Z{get position(){return[this.x,this.y]}set position(d){this._set("x",d[0]),this._set("y",d[1])}get _textShadowColor(){const{textColor:d,backgroundColor:_}=this,y=_.clone();return y.a*=d.a,y}get _textShadow(){const d=this._textShadowColor.toCss(!0);return`0 0 ${this._textShadowSize}px ${d}`}get padding(){return.5*this.fontSize}get _borderRadius(){return this.padding}constructor(d){super(d),this.x=0,this.y=0,this.text="-",this.fontSize=14,this.anchor="center",this.visible=!0,this.isDecoration=!0,this.backgroundColor=new P.Z([0,0,0,.6]),this.textColor=new P.Z([255,255,255]),this._textShadowSize=1}render(){return I("div",{classes:this._cssClasses(),styles:{left:Math.floor(this.x)+"px",top:Math.floor(this.y)+"px",visibility:this.visible?"visible":"hidden",fontSize:this.fontSize+"px",lineHeight:this.fontSize+"px",backgroundColor:this.backgroundColor.toCss(!0),color:this.textColor.toCss(!0),padding:this.padding+"px",borderRadius:this._borderRadius+"px",textShadow:this._textShadow}},[this.text])}renderCanvas(d){if(!this.visible)return;const _=d.font.replace(/^(.*?)px/,"");d.font=`${this.fontSize}px ${_}`;const y=this.padding,E=this._borderRadius,X=d.measureText(this.text).width,G=this.fontSize,ot=A[this.anchor];d.textAlign="center",d.textBaseline="middle";const ft=X+2*y,st=G+2*y;this._roundedRect(d,this.x+ot.x*ft,this.y+ot.y*st,ft,st,E),d.fillStyle=this.backgroundColor.toCss(!0),d.fill();const yt=this.x+(ot.x+.5)*ft,vt=this.y+(ot.y+.5)*st;this._renderTextShadow(d,this.text,yt,vt),d.fillStyle=this.textColor.toCss(!0),d.fillText(this.text,yt,vt)}_renderTextShadow(d,_,y,E){d.lineJoin="miter",d.fillStyle=`rgba(${this._textShadowColor.r}, ${this._textShadowColor.g}, ${this._textShadowColor.b}, ${1/M.length})`;const X=this._textShadowSize;for(const[G,ot]of M)d.fillText(_,y+X*G,E+X*ot)}_roundedRect(d,_,y,E,X,G){d.beginPath(),d.moveTo(_,y+G),d.arcTo(_,y,_+G,y,G),d.lineTo(_+E-G,y),d.arcTo(_+E,y,_+E,y+G,G),d.lineTo(_+E,y+X-G),d.arcTo(_+E,y+X,_+E-G,y+X,G),d.lineTo(_+G,y+X),d.arcTo(_,y+X,_,y+X-G,G),d.closePath()}_cssClasses(){const d={"esri-text-overlay-item":!0};let _;for(_ in Z)d[Z[_]]=this.anchor===_;return d}};(0,Y._)([(0,F.Cb)()],g.prototype,"x",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"y",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"position",null),(0,Y._)([(0,F.Cb)()],g.prototype,"text",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"fontSize",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"anchor",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"visible",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"isDecoration",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"backgroundColor",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"textColor",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"_textShadowSize",void 0),(0,Y._)([(0,F.Cb)()],g.prototype,"_textShadowColor",null),(0,Y._)([(0,F.Cb)()],g.prototype,"_textShadow",null),(0,Y._)([(0,F.Cb)()],g.prototype,"padding",null),(0,Y._)([(0,F.Cb)()],g.prototype,"_borderRadius",null),g=(0,Y._)([(0,B.j)("esri.views.overlay.TextOverlayItem")],g);const A={bottom:{x:-.5,y:-1,textAlign:"center",textBaseline:"bottom"},"bottom-left":{x:0,y:-1,textAlign:"left",textBaseline:"bottom"},"bottom-right":{x:-1,y:-1,textAlign:"right",textBaseline:"bottom"},center:{x:-.5,y:-.5,textAlign:"center",textBaseline:"middle"},left:{x:0,y:-.5,textAlign:"left",textBaseline:"middle"},right:{x:-1,y:-.5,textAlign:"right",textBaseline:"middle"},top:{x:-.5,y:0,textAlign:"center",textBaseline:"top"},"top-left":{x:0,y:0,textAlign:"left",textBaseline:"top"},"top-right":{x:-1,y:0,textAlign:"right",textBaseline:"top"}},M=[];for(let _=0;_<360;_+=22.5)M.push([Math.cos(Math.PI*_/180),Math.sin(Math.PI*_/180)]);const C=g;class x extends gt.l{constructor(_){super(_),this._handles=new j.Z,this._textItem=null,this._calloutItem=null,this._showCallout=!0,this._showText=!0,this._geometry=null,this._text="-",this._fontSize=14,this._backgroundColor=new P.Z([0,0,0,.6]),this._calloutColor=new P.Z([0,0,0,.5]),this._textColor=new P.Z([255,255,255]),this._distance=25,this._anchor="right",this.updatePositionOnCameraMove=!0,this.applyProperties(_)}get geometry(){return this._geometry}set geometry(_){this._geometry=_,this.updateLabelPosition()}get isDecoration(){return this._isDecoration}set isDecoration(_){this._isDecoration=_,this._textItem&&(this._textItem.isDecoration=_),this._calloutItem&&(this._calloutItem.isDecoration=_)}get textItem(){return this._textItem}get text(){return this._text}set text(_){this._text=_,this.attached&&(this._textItem.text=this._text)}get fontSize(){return this._fontSize}set fontSize(_){this._fontSize=_,this.attached&&(this._textItem.fontSize=this._fontSize)}get backgroundColor(){return this._backgroundColor}set backgroundColor(_){this._backgroundColor=_,this.attached&&(this._textItem.backgroundColor=this._backgroundColor)}get calloutColor(){return this._calloutColor}set calloutColor(_){this._calloutColor=_,this.attached&&(this._calloutItem.color=this._calloutColor.toRgba())}get textColor(){return this._textColor}set textColor(_){this._textColor=_,this.attached&&(this._textItem.textColor=this._textColor)}get distance(){return this._distance}set distance(_){this._distance!==_&&(this._distance=_,this.updateLabelPosition())}get anchor(){return this._anchor}set anchor(_){this._anchor!==_&&(this._anchor=_,this.updateLabelPosition())}get _camera(){return this.view.state.cssCamera}overlaps(_){return!!this.attached&&this.textItem.visible&&_.textItem.visible&&!!this.view.overlay?.overlaps(this._textItem,_.textItem)}updateLabelPosition(){if(!this.attached)return;this._showText=!1,this._showCallout=!1;const{geometry:_,view:y,visible:E}=this;if(null!=_&&y._stage)switch(_.type){case"point":if(!this._computeLabelPositionFromPoint(_.point,et))break;if(_.callout){const X=this._camera,G=_.callout.distance;(0,$.IH)(ct,ct,[0,_.callout.offset]),X.renderToScreen(ct,et),(0,$.t8)(K,0,1),(0,$.bA)(K,K,G),(0,$.IH)(K,K,ct),X.renderToScreen(K,pt),this._showCallout=this._updatePosition(et,pt)}else this._textItem.position=[et[0],et[1]],this._textItem.anchor="center";this._showText=!0;break;case"corner":if(!this._computeLabelPositionFromCorner(_,this._distance,et,pt))break;this._showCallout=this._updatePosition(et,pt),this._showText=!0;break;case"segment":{if(!this._computeLabelPositionFromSegment(_,this._distance,this._anchor,et,pt))break;this._showText=!0;const X=this._updatePosition(et,pt);this._showCallout=!1!==_.callout&&X,this._showCallout||(this._textItem.anchor="center")}}this.updateVisibility(E)}_computeLabelPositionFromPoint(_,y){const E=this._camera;return E.projectToRenderScreen(_,it),!(it[2]<0||it[2]>1||(E.renderToScreen(it,y),0))}_computeLabelPositionFromCorner(_,y,E,X){if(!_)return!1;const G=this._camera;return S(_.left,1,G,nt),(0,$.tk)(nt,nt),S(_.right,0,G,q),(0,$.IH)(K,nt,q),(0,$.tk)(K,K),(0,$.Fv)(K,K),G.projectToRenderScreen(_.left.endRenderSpace,it),!(it[2]<0||it[2]>1||(G.renderToScreen(it,E),(0,$.bA)(K,K,y),(0,$.IH)(K,K,it),G.renderToScreen(K,X),0))}_computeLabelPositionFromSegment(_,y,E,X,G){if(!_)return!1;const ot=_.segment,ft=this._camera;(0,ht.CM)(ot.startRenderSpace,ot.endRenderSpace,ft,nt),(0,$.t8)(K,-nt[1],nt[0]);let st=!1;switch(E){case"top":st=K[1]<0;break;case"bottom":st=K[1]>0;break;case"left":st=K[0]>0;break;case"right":st=K[0]<0}if(st&&(0,$.tk)(K,K),0===(0,$.kE)(K))switch(E){case"top":K[1]=1;break;case"bottom":K[1]=-1;break;case"left":K[0]=-1;break;case"right":K[0]=1}return ot.eval(ut[_.sampleLocation],dt),ft.projectToRenderScreen(dt,it),!(it[2]<0||it[2]>1||(ft.renderToScreen(it,X),(0,$.bA)(K,K,y),(0,$.IH)(K,K,it),ft.renderToScreen(K,G),0))}_updatePosition(_,y){if(y){const E=y[0]-_[0],X=y[1]-_[1];return this._textItem.position=[y[0],y[1]],this._textItem.anchor=Math.abs(E)>Math.abs(X)?E>0?"left":"right":X>0?"top":"bottom",this._calloutItem.startPosition=[_[0],_[1]],this._calloutItem.endPosition=[y[0],y[1]],!0}return this._textItem.position=[_[0],_[1]],this._textItem.anchor="center",!1}createResources(){this._textItem=new C({visible:!0,text:this._text,fontSize:this._fontSize,backgroundColor:this._backgroundColor,textColor:this._textColor,isDecoration:this._isDecoration}),this._calloutItem=new U({color:this._calloutColor.toRgba(),visible:!0,width:2,isDecoration:this._isDecoration}),this.updateLabelPosition(),this.view.overlay?.items.addMany([this._textItem,this._calloutItem]),this.updatePositionOnCameraMove&&this._handles.add((0,W.YP)(()=>this.view.state.camera,()=>this.updateLabelPosition()))}destroyResources(){this.view.overlay&&!this.view.overlay.destroyed&&this.view.overlay.items.removeMany([this._textItem,this._calloutItem]),this._handles.removeAll()}updateVisibility(_){this._textItem.visible=this._showText&&_,this._calloutItem.visible=this._showCallout&&_}}function S(d,_,y,E){return d.eval(_,D,rt),(0,at.g)(J,D,rt),(0,ht.CM)(D,J,y,E)}function O(d){switch(d){case"top":return"bottom";case"right":return"left";case"bottom":return"top";case"left":return"right"}}const D=(0,lt.Ue)(),J=(0,lt.Ue)(),rt=(0,lt.Ue)(),nt=(0,k.gX)(),q=(0,k.gX)(),K=(0,k.gX)(),dt=(0,lt.Ue)(),it=(0,k.J$)(),ct=(0,k.gX)(),et=(0,k.s1)(),pt=(0,k.s1)(),ut={start:0,center:.5,end:1}},64770:(Mt,_t,R)=>{R.d(_t,{u:()=>ht,y:()=>gt});var P=R(79800),j=R(29302),W=R(55915),k=R(81863),$=R(1582),at=R(26242),lt=R(98943);class gt{constructor(w=(0,j.Ue)(),z=(0,j.Ue)()){this.startRenderSpace=w,this.endRenderSpace=z,this.type="euclidean"}eval(w,z,B){return(0,P.m)(z,this.startRenderSpace,this.endRenderSpace,w),B&&((0,P.f)(B,this.endRenderSpace,this.startRenderSpace),(0,P.n)(B,B)),z}createRenderGeometry(w,z){const B=[],tt=[],H=(I,Q)=>{const N=mt;(0,P.f)(N,I,w),B.push([N[0],N[1],N[2]]),tt.push([Q[0],Q[1],Q[2]])},T=z.worldUpAtPosition(this.eval(.5,Y),at.WM.get());return H(this.startRenderSpace,T),H(this.endRenderSpace,T),{points:B,normals:tt}}static fromPositionAndVector(w,z,B=1){return(0,P.h)(Y,z,B),(0,P.g)(Y,w,Y),new gt((0,j.d9)(w),(0,j.d9)(Y))}}class ht{_projectIn(w,z){this._project?(0,$.S)(w,this.renderSpatialReference,z,this._pcpf):(0,P.c)(z,w)}constructor(w,z,B){this.startRenderSpace=w,this.endRenderSpace=z,this.renderSpatialReference=B,this.type="geodesic",this._start=(0,j.Ue)(),this._end=(0,j.Ue)(),this._pcpf=(0,k.rS)(B),this._project=(0,W.canProjectWithoutEngine)(B,this._pcpf),this._projectIn(w,this._start),this._projectIn(z,this._end)}eval(w,z,B){if(this._project)if(B){const tt=mt;(0,lt.ek)(this._start,this._end,w,z,tt),(0,P.g)(F,z,tt),(0,$.S)(z,this._pcpf,z,this.renderSpatialReference),(0,$.S)(F,this._pcpf,F,this.renderSpatialReference),(0,P.f)(B,F,z),(0,P.n)(B,B)}else(0,lt.ZA)(this._start,this._end,w,z),(0,$.S)(z,this._pcpf,z,this.renderSpatialReference);else(0,P.m)(z,this._start,this._end,w),B&&((0,P.f)(B,this._end,this._start),(0,P.n)(B,B));return z}createRenderGeometry(w,z){const B=[],tt=[],H=(I,Q)=>{const N=F;(0,P.f)(N,I,w),B.push([N[0],N[1],N[2]]),tt.push([Q[0],Q[1],Q[2]])};for(let I=0;I<128;++I){const N=Y,L=mt;this.eval(I/127,N),z.worldUpAtPosition(N,L),H(N,L)}return{points:B,normals:tt}}}const Y=(0,j.Ue)(),mt=(0,j.Ue)(),F=(0,j.Ue)()},25858:(Mt,_t,R)=>{R.d(_t,{CM:()=>lt,RS:()=>ht,Rs:()=>mt});var P=R(23841),j=R(95470),W=R(79800),k=R(29302),$=R(41967),at=R(60507);function lt(tt,H,T,I){T.projectToRenderScreen(tt,w),T.projectToRenderScreen(H,z),(0,j.$X)(I,z,w),(0,j.Fv)(I,I)}function ht(tt,H,T,I,Q=(0,k.Ue)()){const N=(0,W.c)(V,tt);return N[2]=(0,at.zx)(I,N,H,T)||0,I.renderCoordsHelper.toRenderCoords(N,H,Q),Q}function mt(tt,H,T,I){return"2d"===I.type?(F.x=tt[0],F.y=tt[1],F.spatialReference=H,I.toScreen(F)):(ht(tt,H,T,I,V),I.state.camera.projectToScreen(V,B),(0,P.vW)(B[0],B[1]))}const F=(0,$.T)(0,0,0,null),V=(0,k.Ue)(),w=(0,P.gX)(),z=(0,P.gX)(),B=(0,P.s1)()}}]);