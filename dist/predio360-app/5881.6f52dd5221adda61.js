"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[5881],{93310:(fe,se,_)=>{_.d(se,{S:()=>w,b:()=>L});var B=_(1503),q=_(81801),Z=_(13934),U=_(78925),X=_(24255),ee=_(10109),V=_(67022),oe=_(33726),z=_(2166),N=_(97139),x=_(69960),Q=_(17625),E=_(22355),S=_(44835),T=_(16396);function L(C){const R=new E.kG,K=C.multipassEnabled&&(C.output===Z.H_.Color||C.output===Z.H_.Alpha);R.include(X.w,C),R.include(q.A,C),R.include(U.f5,C);const{vertex:H,fragment:k}=R;return k.include(oe.Y),(0,z.Sv)(H,C),k.uniforms.add(new x.N("uColor",_e=>_e.color)),R.attributes.add(T.T.POSITION,"vec3"),R.varyings.add("vWorldPosition","vec3"),K&&R.varyings.add("depth","float"),C.screenSizeEnabled&&R.attributes.add(T.T.OFFSET,"vec3"),C.shadingEnabled&&((0,z._8)(H),R.attributes.add(T.T.NORMAL,"vec3"),R.varyings.add("vViewNormal","vec3")),H.code.add(Q.H`
    void main(void) {
      vWorldPosition = ${C.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `),C.shadingEnabled&&H.code.add(Q.H`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),H.code.add(Q.H`
    ${K?"depth = (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `),K&&R.include(ee.l,C),k.code.add(Q.H`
    void main() {
      discardBySlice(vWorldPosition);
      ${K?"terrainDepthTest(depth);":""}
    `),C.shadingEnabled?(k.uniforms.add(new N.J("shadingDirection",_e=>_e.shadingDirection)),k.uniforms.add(new x.N("shadedColor",_e=>function I(C,R){const K=1-C[3],H=C[3]+R[3]*K;return 0===H?(D[3]=H,D):(D[0]=(C[0]*C[3]+R[0]*R[3]*K)/H,D[1]=(C[1]*C[3]+R[1]*R[3]*K)/H,D[2]=(C[2]*C[3]+R[2]*R[3]*K)/H,D[3]=R[3],D)}(_e.shadingTint,_e.color))),k.code.add(Q.H`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(uColor, shadedColor, shadingFactor);`)):k.code.add(Q.H`vec4 finalColor = uColor;`),k.code.add(Q.H`
      ${C.output===Z.H_.ObjectAndLayerIdColor?Q.H`finalColor.a = 1.0;`:""}
      if (finalColor.a < ${Q.H.float(V.b)}) {
        discard;
      }
      ${C.output===Z.H_.Alpha?Q.H`fragColor = vec4(finalColor.a);`:""}

      ${C.output===Z.H_.Color?Q.H`fragColor = highlightSlice(finalColor, vWorldPosition); ${C.transparencyPassType===S.A.Color?"fragColor = premultiplyAlpha(fragColor);":""}`:""}
    }
    `),R}const D=(0,B.Ue)(),w=Object.freeze(Object.defineProperty({__proto__:null,build:L},Symbol.toStringTag,{value:"Module"}))},1437:(fe,se,_)=>{_.d(se,{p:()=>z});var B=_(17626),q=_(54024),Z=_(60330),U=_(77712),oe=(_(8314),_(63290),_(4619),_(76898));const z=N=>{let x=class extends((0,Z.v)(N)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(Q){this._userInteractive=Q}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(Q){this._overrideIfSome("visible",Q)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,(0,q.kB)(()=>this._interactiveViewModelCount--)}};return(0,B._)([(0,U.Cb)({constructOnly:!0})],x.prototype,"parent",void 0),(0,B._)([(0,U.Cb)({constructOnly:!0})],x.prototype,"view",void 0),(0,B._)([(0,U.Cb)({type:Boolean})],x.prototype,"interactive",null),(0,B._)([(0,U.Cb)()],x.prototype,"_userInteractive",void 0),(0,B._)([(0,U.Cb)({readOnly:!0})],x.prototype,"updating",null),(0,B._)([(0,U.Cb)()],x.prototype,"visible",null),(0,B._)([(0,U.Cb)()],x.prototype,"_interactiveViewModelCount",void 0),x=(0,B._)([(0,oe.j)("esri.views.3d.analysis.AnalysisView3D")],x),x}},54865:(fe,se,_)=>{_.d(se,{G:()=>Z,e:()=>U});var B=_(55915),q=_(53929);function Z(X,ee,V,oe=!1){const z=(0,B.tryProjectWithZConversion)(X,ee);return null==z?null:(z.hasZ&&!oe||null==V||(z.z=(0,q.KO)(V,z)??0),z)}function U(X,ee,V){V.warnOnce(`Failed to project analysis geometry (id: '${X.id}'), projection from spatial reference (wkid: '${ee.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}},45403:(fe,se,_)=>{_.d(se,{Z:()=>Ae}),_(29132);var q=_(94573),Z=_(61885),U=_(54024),X=_(21286),ee=_(62208),V=_(23841),oe=_(86274),z=_(32884),N=_(52113),x=_(74741),Q=_(95470),E=_(79800),S=_(29302),T=_(92383),L=_(55915),I=_(97402),D=_(94008),w=_(65401),C=_(13777),R=_(90014),K=_(70562),H=_(26242),k=_(84786),_e=_(60507),he=_(53929),Oe=_(26046),ve=_(59598),Re=_(97272),je=_(23147),Ie=_(34103),me=_(33786),be=_(72642);class Ae{constructor(h){this.metadata=void 0,this._camera=new ve.V,this._elevation={offset:0,override:null},this.collisionType={type:"point"},this.collisionPriority=0,this._renderObjects=new Array,this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=(0,x.Ue)(),this._worldFrame=null,this._renderLocation=(0,S.Ue)(),this._renderLocationDirty=!0,this._location=new be.Z({x:0,y:0,z:0}),this._elevationAlignedLocation=new be.Z,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.consumesClicks=!0,this.cursor=null,this.grabCursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=me.jg.None,this._focused=!1,this.events=new Z.Z.EventEmitter,this._screenLocation={screenPointArray:(0,V.s1)(),renderScreenPointArray:(0,V.J$)(),pixelSize:0},this._screenLocationDirty=!0,this._engineResourcesAddedToStage=!1,this._attached=!1,this._location.spatialReference=h.view.spatialReference,Object.assign(this,h);const b=this.view.state?.camera;b&&this._camera.copyFrom(b)}destroy(){this._applyObjectTransform=W,this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this._camera=null}get _stage(){return this.view?._stage}get elevationInfo(){return this._elevationInfo}set elevationInfo(h){this._elevationInfo=h,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(h){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=h.slice(),this._updateEngineObject()}set available(h){h!==this._available&&(this._available=h,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),(0,U.kB)(()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()})}set radius(h){h!==this._radius&&(this._radius=h,this._updateEngineObject())}get radius(){return this._radius}set worldSized(h){h!==this._worldSized&&(this._worldSized=h,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(h){Se(h)&&(this._screenLocationDirty=!0),(0,N.JG)(this._modelTransform,h),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=(0,x.Ue)()),function Ce(A,h,b){switch(A.viewingMode){case"local":return(0,N.yR)(b),!0;case"global":{const j=(0,T.Iu)(A.renderCoordsHelper.spatialReference);(0,D.PR)(h,0,Te,0,j.radius),(0,I.y)((0,X.Vl)(Te[0]),(0,X.Vl)(Te[1]),b)}}}(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(h){this.view.renderCoordsHelper.fromRenderCoords(h,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(h){(0,k.WG)(h,this._location),this._notifyLocationChanged()}_notifyLocationChanged(){this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(h){(0,k.WG)(h,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit("location-update",{location:this._location})}_updateElevationAlignedLocation(){const h=null!=this._elevation.override?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y,this._elevationAlignedLocation.z=h+this._elevation.offset,this._elevationAlignedLocation.spatialReference=(0,k.D)(this.location.spatialReference),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(h){h!==this._grabbing&&(this._grabbing=h,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(h){h!==this._hovering&&(this._hovering=h,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(h){h!==this._selected&&(this._selected=h,this._updateEngineObject(),this.events.emit("select-changed",{action:h?"select":"deselect"}))}get state(){return this._state}set state(h){h!==this._state&&(this._state=h,this._updateEngineObject())}updateStateEnabled(h,b){b?this.state|=h:this.state&=~h}_setFocused(h){h!==this._focused&&(this._focused=h,this.events.emit("focus-changed",{action:!0===h?"focus":"unfocus"}))}get focused(){return this._focused}get screenLocation(){return this._ensureScreenLocation(),this._screenLocation}_ensureScreenLocation(){if(!this._screenLocationDirty)return;let h;if(this._screenLocation.pixelSize=this._camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1,Se(this._modelTransform)){const b=this._calculateModelTransformOffset(P);h=(0,E.g)(b,b,this.renderLocation)}else h=this.renderLocation;this._camera.projectToRenderScreen(h,this._screenLocation.renderScreenPointArray),this._camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(h){this._applyObjectTransform=h,this._screenLocationDirty=!0,this._updateEngineObject()}get attached(){return this._attached}intersectionDistance(h,b){if(!this.available)return null;const j=(0,V.md)(h,ie),$=this._getCollisionRadius(b),F=-1*this.collisionPriority;switch(this.collisionType.type){case"point":if((0,Q.bI)(this.screenLocation.screenPointArray,j)<$*$)return this.screenLocation.renderScreenPointArray[2]+F;break;case"line":{const G=this.collisionType.paths,Y=this._getWorldToScreenObjectScale(),ne=this._calculateObjectTransform(Y,Pe),re=$*this.screenLocation.pixelSize,ce=(0,Oe.u4)(this._camera,j,de);if(null==ce)return null;for(const ae of G){if(0===ae.length)continue;const le=(0,E.e)(Te,ae[0],ne);for(let J=1;J<ae.length;J++){const ue=(0,E.e)(v,ae[J],ne),pe=(0,C.Gr)((0,C.zk)(le,ue,te),ce);if(null!=pe&&pe<re*re){const Me=(0,E.g)(H.WM.get(),le,ue);(0,E.h)(Me,Me,.5);const De=(0,V.So)(H.WM.get());return this._camera.projectToRenderScreen(Me,De),De[2]+F}(0,E.c)(le,ue)}}break}case"disc":{const G=this.collisionType.direction,Y=this.collisionType.offset??S.AG,ne=this._getWorldToScreenObjectScale(),re=this._calculateObjectTransform(ne,Pe),ce=$*this.screenLocation.pixelSize,ae=(0,Oe.u4)(this._camera,j,de);if(null==ae)return null;const le=(0,oe.xO)(Ee,re),J=(0,E.t)(g,G,le),ue=(0,E.e)(y,Y,re);(0,R.Yq)(ue,J,ge);const pe=M;if((0,R.BR)(ge,ae,pe)&&(0,E.a)(pe,ue)<ce*ce)return this.screenLocation.renderScreenPointArray[2]+F;break}case"ribbon":{const{paths:G,direction:Y}=this.collisionType,ne=this._getWorldToScreenObjectScale(),re=this._calculateObjectTransform(ne,Pe),ce=$*this._camera.computeScreenPixelSizeAt(this.renderLocation),ae=(0,Oe.u4)(this._camera,j,de);if(null==ae)return null;const le=(0,oe.xO)(Ee,re),J=(0,E.t)(g,Y,le),ue=this._calculateModelTransformPosition(y);(0,R.Yq)(ue,J,ge);const pe=M;if(!(0,R.BR)(ge,ae,pe))break;for(const Me of G){if(0===Me.length)continue;const De=(0,E.e)(Te,Me[0],re);for(let Le=1;Le<Me.length;Le++){const Ue=(0,E.e)(v,Me[Le],re),We=(0,C.Jk)((0,C.zk)(De,Ue,te),pe);if(null!=We&&We<ce*ce){const xe=(0,E.g)(H.WM.get(),De,Ue);(0,E.h)(xe,xe,.5);const Be=(0,V.So)(H.WM.get());return this._camera.projectToRenderScreen(xe,Be),Be[2]+F}(0,E.c)(De,Ue)}}break}default:(0,q.Bg)(this.collisionType)}return null}attach(h={manipulator3D:{}}){const b=this._stage;if(!b)return;const j=h.manipulator3D;null==j.engineLayerId?(this._engineLayer=new Ie.F(b,{pickable:!1,updatePolicy:je.j.SYNC}),j.engineLayerId=this._engineLayer.id):b?.getObject&&(this._engineLayer=b.getObject(j.engineLayerId)),j.engineLayerReferences=(j.engineLayerReferences||0)+1,this._materialIdReferences=j.materialIdReferences,null==this._materialIdReferences&&(this._materialIdReferences=new Map,j.materialIdReferences=this._materialIdReferences),this._camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),(0,L.canProjectWithoutEngine)(this._location.spatialReference,this.view.spatialReference)||(this.location=new be.Z({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(h={manipulator3D:{}}){const b=h.manipulator3D;b.engineLayerReferences--;const j=0===b.engineLayerReferences;this._removeResourcesFromStage(),j&&(b.engineLayerId=null,(0,ee.SC)(this._engineLayer)),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this._camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(h){(0,L.projectPoint)(this.location,O,h.spatialReference)&&(0,w.Qn)(h.extent,O)&&this._notifyLocationChanged()}_evaluateElevationAlignment(){if(null==this.elevationInfo)return;let h=null,b=0;const j=(0,_e.ap)(this.elevationInfo,this.location.spatialReference??this.view.elevationProvider.spatialReference);switch(this.elevationInfo.mode){case"on-the-ground":h=(0,he.KO)(this.view.elevationProvider,this.location,"ground")??0;break;case"relative-to-ground":b=((0,he.KO)(this.view.elevationProvider,this.location,"ground")??0)+j;break;case"relative-to-scene":b=((0,he.KO)(this.view.elevationProvider,this.location,"scene")??0)+j;break;case"absolute-height":b=j}return b!==this._elevation.offset||h!==this._elevation.override?(this._elevation.offset=b,void(this._elevation.override=h)):void 0}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const h=this._getWorldToScreenObjectScale(),b=Pe;if(!0===this.autoScaleRenderObjects){const G=this._getFocusedSize(this._radius,this.focused)*h;this._calculateObjectTransform(G,b)}else this._calculateObjectTransform(h,b);const{objectsByState:j}=this._ensureEngineResources(),$=(this.focused?me.Q9.Focused:me.Q9.Unfocused)|(this.selected?me.Q9.Selected:me.Q9.Unselected),F=this._noDisplayCount>0;for(const{stateMask:G,objects:Y}of j)if(F)for(const le of Y)le.visible=!1;else if((G&me.Q9.All)!==me.Q9.None&&($&G)!=(G&me.Q9.All)||(G&me.jg.All)!==me.jg.None&&(this.state&G)!=(G&me.jg.All))for(const le of Y)le.visible=!1;else for(const le of Y)le.visible=!0,le.transformation=b}_ensureEngineResources(){if(null==this._engineResources){const h=this._engineLayer,b=[],j=new Set;this.renderObjects.forEach(({geometry:{material:G}})=>{j.has(G)||(b.push(G),j.add(G))});const $=new Map;this._renderObjects.forEach(G=>{const Y=new Re.T({castShadow:!1,geometries:[G.geometry]}),ne=$.get(G.stateMask)||[];ne.push(Y),$.set(G.stateMask,ne)});const F=[];$.forEach((G,Y)=>F.push({stateMask:Y,objects:G})),this._engineResources={objectsByState:F,layer:h,materials:b}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){const h=this._stage;if(this._engineResourcesAddedToStage||null==this._engineResources||!h)return;const{objectsByState:b,layer:j,materials:$}=this._engineResources;$.forEach(F=>{const G=this._materialIdReferences,Y=G.get(F.id)||0;0===Y&&h.add(F),G.set(F.id,Y+1)}),b.forEach(({objects:F})=>{j.addMany(F),h.addMany(F)}),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(){const h=this._stage;if(!this._engineResourcesAddedToStage||null==this._engineResources||!h)return;const{objectsByState:b,layer:j,materials:$}=this._engineResources;b.forEach(({objects:F})=>{j.removeMany(F),h.removeMany(F)}),$.forEach(F=>{const G=this._materialIdReferences,Y=G.get(F.id);1===Y?(h.remove(F),G.delete(F.id)):G.set(F.id,Y-1)}),this._engineResourcesAddedToStage=!1}_getCollisionRadius(h){return this._getFocusedSize(this.radius,!0)*("touch"===h?this.touchMultiplier:1)}_getFocusedSize(h,b){return h*(b?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(h){const b=this._getWorldToScreenObjectScale(),j=this._calculateObjectTransform(b,ye);return(0,E.s)(h,j[12],j[13],j[14])}_calculateModelTransformOffset(h){const b=this._calculateModelTransformPosition(h);return(0,E.f)(h,b,this.renderLocation)}_calculateObjectTransform(h,b){return(0,N.t8)(b,h,0,0,0,0,h,0,0,0,0,h,0,0,0,0,1),this._worldFrame&&(0,N.Jp)(b,b,this._worldFrame),(0,N.Jp)(b,b,this._modelTransform),b[12]+=this.renderLocation[0],b[13]+=this.renderLocation[1],b[14]+=this.renderLocation[2],b[15]=1,null!=this._applyObjectTransform&&this._applyObjectTransform(b),b}get test(){let h=!1;if(null!=this._engineResources)for(const b of this._engineResources.objectsByState){for(const j of b.objects)if(j.visible){h=!0;break}if(h)break}return{areAnyResourcesVisible:h}}}function Se(A){return 0!==A[12]||0!==A[13]||0!==A[14]}const ie=(0,V.s1)(),te=(0,C.Ue)(),de=(0,K.Ue)(),Ee=(0,z.Ue)(),ye=(0,x.Ue)(),Pe=(0,x.Ue)(),ge=(0,R.Ue)(),Te=(0,S.Ue)(),v=(0,S.Ue)(),M=(0,S.Ue)(),g=(0,S.Ue)(),y=(0,S.Ue)(),P=(0,S.Ue)(),O=new be.Z({x:0,y:0,z:0,spatialReference:null}),W=()=>{}},40345:(fe,se,_)=>{_.d(se,{r:()=>q});var B=_(33786);class q{constructor(U,X=B.Q9.None){this.geometry=U,this.stateMask=X}}},19142:(fe,se,_)=>{_.d(se,{Aq:()=>L,EA:()=>x,Gd:()=>T,X9:()=>S,vQ:()=>E});var B=_(78260),q=_(52113),Z=_(79800),U=_(26242),V=(_(84786),_(67225),_(42743)),oe=_(40723),z=_(92972),N=_(81040);function x(C,R=oe.yD.OccludeAndTransparent,K=!0){const H=(0,B.gp)(C),k=!(C[3]<1);return K?new N.Q({color:H,writeDepth:k,cullFace:V.Vr.Back,renderOccluded:R,isDecoration:!0}):new z.E({color:H,writeDepth:k,cullFace:V.Vr.Back,renderOccluded:R,isDecoration:!0})}const E=Object.freeze({calloutLength:40,calloutWidth:1,discRadius:27,focusMultiplier:1.1}),S=Object.freeze({autoScaleRenderObjects:!1,worldSized:!0});function T(C,R,K,H){const k=(0,Z.f)(U.WM.get(),C,K),_e=L(k,(0,Z.b)(U.WM.get(),H,k),K,U.MP.get());(0,q.U_)(_e,_e);const he=(0,Z.e)(U.WM.get(),R,_e);return Math.atan2(he[1],he[0])}function L(C,R,K,H){const k=(0,Z.n)(U.WM.get(),C),_e=(0,Z.n)(U.WM.get(),R),he=(0,Z.b)(U.WM.get(),k,_e);return H[0]=k[0],H[1]=k[1],H[2]=k[2],H[3]=0,H[4]=_e[0],H[5]=_e[1],H[6]=_e[2],H[7]=0,H[8]=he[0],H[9]=he[1],H[10]=he[2],H[11]=0,H[12]=K[0],H[13]=K[1],H[14]=K[2],H[15]=1,H}},87469:(fe,se,_)=>{_.d(se,{r:()=>N});var B=_(52113),q=_(74741),Z=_(79800),U=_(29302),X=_(1503),ee=_(53928),V=_(79020),oe=_(40723),z=_(92222);class N extends ee._{constructor(E,S){super(E),this._hasExternalMaterial=!1,this._hasExternalMaterial=null!=S,this._material=S??new z.U({width:1,color:(0,X.al)(1,0,1,1),stippleOffColor:null,stipplePattern:null,stipplePreferContinuous:!0,isClosed:!1,falloff:0,innerColor:null,innerWidth:1,hasPolygonOffset:!1,renderOccluded:oe.yD.OccludeAndTransparent,isDecoration:!!E.isDecoration,writeDepth:!0}),this.applyProperties(E)}setGeometryFromRenderSpacePoint(E,S=1e3){this.geometry=[[[E[0]-S,E[1],E[2]],[E[0]+S,E[1],E[2]]],[[E[0],E[1]-S,E[2]],[E[0],E[1]+S,E[2]]],[[E[0],E[1],E[2]-S],[E[0],E[1],E[2]+S]]]}setGeometryFromExtent(E){const S=this.view.spatialReference,T=(0,U.Ue)(),L=(0,U.Ue)(),I=100,D=[];(0,Z.s)(T,E[0],E[1],I),this.view.renderCoordsHelper.toRenderCoords(T,S,L),D.push([L[0],L[1],L[2]]),(0,Z.s)(T,E[2],E[1],I),this.view.renderCoordsHelper.toRenderCoords(T,S,L),D.push([L[0],L[1],L[2]]),(0,Z.s)(T,E[2],E[3],I),this.view.renderCoordsHelper.toRenderCoords(T,S,L),D.push([L[0],L[1],L[2]]),(0,Z.s)(T,E[0],E[3],I),this.view.renderCoordsHelper.toRenderCoords(T,S,L),D.push([L[0],L[1],L[2]]),(0,Z.s)(T,E[0],E[1],I),this.view.renderCoordsHelper.toRenderCoords(T,S,L),D.push([L[0],L[1],L[2]]),(0,Z.s)(T,E[0],E[1],I),this.view.renderCoordsHelper.toRenderCoords(T,S,L),D.push([L[0],L[1],L[2]]),this.geometry=[D]}setGeometryFromFrustum(E){const S=[];E.lines.forEach(T=>{S.push([T.origin[0],T.origin[1],T.origin[2]]),S.push([T.endpoint[0],T.endpoint[1],T.endpoint[2]])}),this.geometry=[S]}setGeometryFromBoundedPlane(E){const S=[],T=E.origin,L=E.basis1,I=E.basis2,D=.5,w=(0,U.Ue)(),C=(0,U.Ue)(),R=(0,U.Ue)(),K=(0,U.Ue)();w[0]=T[0]-L[0]*D-I[0]*D,w[1]=T[1]-L[1]*D-I[1]*D,w[2]=T[2]-L[2]*D-I[2]*D,C[0]=T[0]-L[0]*D+I[0]*D,C[1]=T[1]-L[1]*D+I[1]*D,C[2]=T[2]-L[2]*D+I[2]*D,R[0]=T[0]+L[0]*D+I[0]*D,R[1]=T[1]+L[1]*D+I[1]*D,R[2]=T[2]+L[2]*D+I[2]*D,K[0]=T[0]+L[0]*D-I[0]*D,K[1]=T[1]+L[1]*D-I[1]*D,K[2]=T[2]+L[2]*D-I[2]*D,S.push([w[0],w[1],w[2]]),S.push([C[0],C[1],C[2]]),S.push([R[0],R[1],R[2]]),S.push([K[0],K[1],K[2]]),S.push([w[0],w[1],w[2]]),this.geometry=[S]}setGeometryFromSegment(E){const S=E.endRenderSpace;this.transform=(0,B.vc)(x,S);const{points:T}=E.createRenderGeometry(S,this.view.renderCoordsHelper);this.geometry=[T]}setGeometryFromSegments(E,S=U.AG){this.transform=(0,B.vc)(x,S),this.geometry=E.map(T=>T.createRenderGeometry(S,this.view.renderCoordsHelper).points)}getTransformedGeometry(){return null==this._geometry?null:this._geometry.map(E=>E.map(S=>(0,Z.e)((0,U.Ue)(),S,this.transform)))}get renderOccluded(){return this._material.parameters.renderOccluded}set renderOccluded(E){this._material.setParameters({renderOccluded:E})}get geometry(){return this._geometry}set geometry(E){this._geometry=E,this.recreateGeometry()}get width(){return this._material.parameters.width}set width(E){this._material.setParameters({width:E})}get color(){return this._material.parameters.color}set color(E){const S=1===E[3];this._material.setParameters({color:(0,X.d9)(E),writeDepth:S})}get innerWidth(){return this._material.parameters.innerWidth}set innerWidth(E){this._material.setParameters({innerWidth:E})}get innerColor(){return this._material.parameters.innerColor}set innerColor(E){this._material.setParameters({innerColor:null!=E?(0,X.d9)(E):null})}get stipplePattern(){return this._material.parameters.stipplePattern}set stipplePattern(E){null!=this._material&&this._material.setParameters({stipplePattern:E})}get stippleOffColor(){return this._material.parameters.stippleOffColor}set stippleOffColor(E){this._material.setParameters({stippleOffColor:null!=E?(0,X.d9)(E):null})}get stipplePreferContinuous(){return this._material.parameters.stipplePreferContinuous}set stipplePreferContinuous(E){this._material.setParameters({stipplePreferContinuous:E})}get falloff(){return this._material.parameters.falloff}set falloff(E){this._material.setParameters({falloff:E})}get polygonOffset(){return this._material.parameters.hasPolygonOffset}set polygonOffset(E){this._material.setParameters({hasPolygonOffset:E})}createExternalResources(){}destroyExternalResources(){}createGeometries(E){for(const S of(0,V.c)(this.geometry)){const T=(0,V.Y)(this._material,S);E.addGeometry(T)}}forEachExternalMaterial(E){this._hasExternalMaterial||E(this._material)}}const x=(0,q.Ue)()},53928:(fe,se,_)=>{_.d(se,{_:()=>V});var B=_(52113),q=_(74741),Z=_(68604),U=_(97272),X=_(23147),ee=_(34103);class V extends Z.l{constructor(z){super(z),this._resources=null,this._transform=(0,q.Ue)()}get object(){return null!=this._resources?this._resources.object:null}get transform(){return this._transform}set transform(z){(0,B.JG)(this._transform,z),null!=this._resources&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(null==this._resources)return;const z=this._resources.object,N=this.view._stage;N.removeMany(z.geometries),z.removeAllGeometries(),this.createGeometries(z),z.visible=this.visible,N.addMany(z.geometries)}createResources(){this.destroyResources();const z=this.view._stage;if(!z)return;const N=new ee.F(z,{pickable:!1,updatePolicy:X.j.SYNC}),x=new U.T({castShadow:!1});x.transformation=this._transform,this.createExternalResources(),this.createGeometries(x),z.addMany(x.geometries),this.forEachExternalMaterial(Q=>z.add(Q)),z.add(x),N.add(x),x.visible=this.visible,this._resources={layer:N,object:x}}destroyResources(){const z=this.view._stage;null!=this._resources&&z&&(z.remove(this._resources.object),this._resources.layer.destroy(),this.forEachExternalMaterial(N=>{z.remove(N)}),z.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(z){null!=this._resources&&(this._resources.object.visible=z)}}},68604:(fe,se,_)=>{_.d(se,{l:()=>q});var B=_(32917);class q{get isDecoration(){return this._isDecoration}set isDecoration(U){this._isDecoration=U}constructor(U){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=U.view,this._handle=(0,B.YP)(()=>U.view.ready,X=>{this._resourcesCreated&&(X?this._createResources():this._destroyResources())})}applyProperties(U){let X=!1;for(const ee in U)ee in this?"attached"===ee?X=U[ee]:this[ee]=U[ee]:console.error("Cannot set unknown property",ee);this.attached=X}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(U){U!==this._attached&&this.view._stage&&(this._attached=U,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(U))}onAttachedChange(U){}get visible(){return this._visible}set visible(U){U!==this._visible&&(this._visible=U,this.attached&&this.updateVisibility(U))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}},81801:(fe,se,_)=>{_.d(se,{A:()=>U});var B=_(2166),q=_(65787),Z=_(17625);function U(X,ee){if(!ee.screenSizeEnabled)return;const V=X.vertex;(0,B.hY)(V,ee),V.uniforms.add(new q.p("perScreenPixelRatio",(oe,z)=>z.camera.perScreenPixelRatio),new q.p("screenSizeScale",oe=>oe.screenSizeScale)),V.code.add(Z.H`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - cameraPosition));
return viewDirectionDistance * perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSizeScale * computeRenderPixelSizeAt(anchor) + anchor;
}`)}},81040:(fe,se,_)=>{_.d(se,{Q:()=>je});var B=_(79800),q=_(29302),Z=_(1503),U=_(5548),X=_(60479),ee=_(19625),V=_(13934),oe=_(42743),z=_(60881),N=_(40723),x=_(5894),Q=_(2282),E=_(16396),S=_(42037),T=_(57623),L=_(17626),I=_(651),D=_(91056),w=_(87601),C=_(88569),R=_(12407),K=_(44835),H=_(41528),k=_(93310),_e=_(67969),he=_(2078);class Oe extends D.A{initializeProgram(ie){return new R.$(ie.rctx,Oe.shader.get().build(this.configuration),Re)}_setPipelineState(ie){const te=this.configuration,de=ie===K.A.NONE,Ee=ie===K.A.FrontFace;return(0,he.sm)({blending:te.output!==V.H_.Color&&te.output!==V.H_.Alpha||!te.transparent?null:de?C.wu:(0,C.j7)(ie),culling:(0,he.zp)(te.cullFace),depthTest:{func:Ee?_e.wb.LESS:te.shadingEnabled?_e.wb.LEQUAL:_e.wb.LESS},depthWrite:de?te.writeDepth?he.LZ:null:(0,C.K5)(ie),colorWrite:he.BK,polygonOffset:de||Ee?null:C.E0})}initializePipeline(){return this._setPipelineState(this.configuration.transparencyPassType)}}Oe.shader=new I.J(k.S,()=>_.e(8271).then(_.bind(_,88271)));class ve extends H.W{constructor(){super(...arguments),this.output=V.H_.Color,this.cullFace=oe.Vr.None,this.transparencyPassType=K.A.NONE,this.hasSlicePlane=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.multipassEnabled=!1,this.cullAboveGround=!1}}(0,L._)([(0,w.o)({count:V.H_.COUNT})],ve.prototype,"output",void 0),(0,L._)([(0,w.o)({count:oe.Vr.COUNT})],ve.prototype,"cullFace",void 0),(0,L._)([(0,w.o)({count:K.A.COUNT})],ve.prototype,"transparencyPassType",void 0),(0,L._)([(0,w.o)()],ve.prototype,"hasSlicePlane",void 0),(0,L._)([(0,w.o)()],ve.prototype,"transparent",void 0),(0,L._)([(0,w.o)()],ve.prototype,"writeDepth",void 0),(0,L._)([(0,w.o)()],ve.prototype,"screenSizeEnabled",void 0),(0,L._)([(0,w.o)()],ve.prototype,"shadingEnabled",void 0),(0,L._)([(0,w.o)()],ve.prototype,"multipassEnabled",void 0),(0,L._)([(0,w.o)()],ve.prototype,"cullAboveGround",void 0),(0,L._)([(0,w.o)({constValue:!1})],ve.prototype,"occlusionPass",void 0);const Re=new Map([[E.T.POSITION,0],[E.T.NORMAL,1],[E.T.OFFSET,2]]);class je extends N.F5{constructor(ie){super(ie,new me),this.supportsEdges=!0,this.produces=new Map([[x.r.OPAQUE_MATERIAL,te=>te===V.H_.Highlight||(0,V.aN)(te)&&!this._isTransparent],[x.r.TRANSPARENT_MATERIAL,te=>(0,V.aN)(te)&&this._isTransparent&&this.parameters.writeDepth],[x.r.TRANSPARENT_DEPTH_WRITE_DISABLED_MATERIAL,te=>(0,V.aN)(te)&&this._isTransparent&&!this.parameters.writeDepth]]),this._configuration=new ve,this._vertexAttributeLocations=Re}getConfiguration(ie,te){return this._configuration.output=ie,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._isTransparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.screenSizeEnabled=this.parameters.screenSizeEnabled,this._configuration.shadingEnabled=this.parameters.shadingEnabled,this._configuration.transparencyPassType=te.transparencyPassType,this._configuration.multipassEnabled=te.multipassEnabled,this._configuration.cullAboveGround=te.multipassTerrain.cullAboveGround,this._configuration}intersect(ie,te,de,Ee,ye,Pe){if(this.parameters.screenSizeEnabled){const ge=ie.attributes.get(E.T.OFFSET),Te={applyToVertex:(v,M,g,y)=>{const P=(0,B.s)(Ae,ge.data[3*y],ge.data[3*y+1],ge.data[3*y+2]),O=(0,B.s)(Se,v,M,g);return(0,B.h)(P,P,this.parameters.screenSizeScale*de.camera.computeScreenPixelSizeAt(P)),(0,B.g)(O,O,P),[O[0],O[1],O[2]]},applyToAabb:v=>{const M=(0,U.be)(v,Ae);return(0,U.bA)(v,this.parameters.screenSizeScale*de.camera.computeScreenPixelSizeAt(M))}};(0,T.Bw)(ie,de,Ee,ye,Te,Pe)}else(0,T.Bw)(ie,de,Ee,ye,void 0,Pe)}createGLMaterial(ie){return new Ie(ie)}createBufferWriter(){return new be(this.parameters.screenSizeEnabled)}get _isTransparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}}class Ie extends z.Z{beginSlot(ie){return this.ensureTechnique(Oe,ie)}}class me extends N.Mt{constructor(){super(...arguments),this.color=(0,Z.al)(1,1,1,1),this.shadingTint=(0,Z.al)(0,0,0,.25),this.shadingDirection=(0,B.n)((0,q.Ue)(),[.5,-.5,-.5]),this.screenSizeScale=14,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=oe.Vr.None,this.screenSizeEnabled=!1,this.shadingEnabled=!0}}class be{constructor(ie){this.screenSizeEnabled=ie;const te=(0,ee.U$)().vec3f(E.T.POSITION).vec3f(E.T.NORMAL);this.screenSizeEnabled&&te.vec3f(E.T.OFFSET),this.vertexBufferLayout=te}elementCount(ie){return ie.attributes.get(E.T.POSITION).indices.length}write(ie,te,de,Ee,ye){if((0,S.NK)(de,this.vertexBufferLayout,ie,te,Ee,ye),this.screenSizeEnabled){if(!de.attributes.has(E.T.OFFSET))throw new Error(`${E.T.OFFSET} vertex attribute required for screenSizeEnabled ShadedColorMaterial`);{const Pe=de.attributes.get(E.T.OFFSET);(0,Q.hu)(3===Pe.size);const ge=Ee.getField(E.T.OFFSET,X.ct);if(!ge)throw new Error("unable to acquire view for "+E.T.OFFSET);(0,S.ho)(Pe,te,ge,ye)}}}}const Ae=(0,q.Ue)(),Se=(0,q.Ue)()},95925:(fe,se,_)=>{_.d(se,{Er:()=>ee,Lp:()=>V,Yq:()=>N});var B=_(15861),q=_(59213),Z=_(62208),U=_(10699),X=_(32917);function ee(x,Q){x.interactive=!0;const{tool:E,view:S}=x;S.activeTool=E;let T=(0,U.fu)(Q,()=>{S.activeTool===E&&(S.activeTool=null)});return(0,q.vr)(function(){var L=(0,B.Z)(function*(I){yield(0,X.N1)(()=>null==E||!E.active,I),T=(0,Z.hw)(T)});return function(I){return L.apply(this,arguments)}}(),Q)}function V(x,Q){return(0,X.YP)(()=>x.interactive,()=>function oe(x,Q){x.interactive?function z(x,Q){N(x);const{view:E,analysis:S}=x,T=new Q({view:E,analysis:S,analysisViewData:x});x.tool=T,E.tools.add(T)}(x,Q):N(x)}(x,Q),X.tX)}function N(x){const{view:Q,tool:E}=x;null!=E&&(Q.tools.remove(E),x.tool=null)}},58997:(fe,se,_)=>{_.d(se,{f:()=>L});var E,I,B=_(17626),q=_(32917),Z=_(63290),V=(_(8314),_(4619),_(26584),_(76898)),oe=_(83761),z=_(10699),N=_(77712),x=_(33786),Q=_(46160);(I=E||(E={}))[I.WhenToolEditable=0]="WhenToolEditable",I[I.WhenToolNotEditable=1]="WhenToolNotEditable",I[I.Always=2]="Always";class S{constructor(){this._isToolEditable=!0,this._manipulators=new Q.Z,this._resourceContexts={manipulator3D:{}},this._attached=!1}set isToolEditable(D){this._isToolEditable=D}get length(){return this._manipulators.length}add(D,w=E.WhenToolEditable){this.addMany([D],w)}addMany(D,w=E.WhenToolEditable){for(const C of D){const R={manipulator:C,visibilityPredicate:w,attached:!1};this._manipulators.add(R),this._attached&&this._updateManipulatorAttachment(R)}}remove(D){for(let w=0;w<this._manipulators.length;w++)if(this._manipulators.at(w).manipulator===D){const C=this._manipulators.splice(w,1)[0];this._detachManipulator(C);break}}removeAll(){this._manipulators.forEach(D=>{this._detachManipulator(D)}),this._manipulators.removeAll()}attach(){this._manipulators.forEach(D=>{this._updateManipulatorAttachment(D)}),this._attached=!0}detach(){this._manipulators.forEach(D=>{this._detachManipulator(D)}),this._attached=!1}destroy(){this.detach(),this._manipulators.forEach(({manipulator:D})=>D.destroy()),this._manipulators.destroy(),this._resourceContexts=null}on(D,w){return this._manipulators.on(D,C=>{w(C)})}forEach(D){for(const w of this._manipulators.items)D(w)}some(D){return this._manipulators.items.some(D)}toArray(){const D=[];return this.forEach(w=>D.push(w.manipulator)),D}intersect(D,w){let C=null,R=Number.MAX_VALUE;return this._manipulators.forEach(({manipulator:K,attached:H})=>{if(!H||!K.interactive)return;const k=K.intersectionDistance(D,w);null!=k&&k<R&&(R=k,C=K)}),C}_updateManipulatorAttachment(D){this._isManipulatorItemVisible(D)?this._attachManipulator(D):this._detachManipulator(D)}_attachManipulator(D){D.attached||(D.manipulator.attach&&D.manipulator.attach(this._resourceContexts),D.attached=!0)}_detachManipulator(D){if(!D.attached)return;const w=D.manipulator;w.grabbing=!1,w.dragging=!1,w.hovering=!1,w.selected=!1,w.detach&&w.detach(this._resourceContexts),D.attached=!1}_isManipulatorItemVisible(D){return D.visibilityPredicate===E.Always||(this._isToolEditable?D.visibilityPredicate===E.WhenToolEditable:D.visibilityPredicate===E.WhenToolNotEditable)}}let T=class extends oe.Z{constructor(I){super(I),this.manipulators=new S,this.automaticManipulatorSelection=!0,this.hasGrabbedManipulators=!1,this.hasHoveredManipulators=!1,this.firstGrabbedManipulator=null,this.created=!1,this.removeIncompleteOnCancel=!0,this._editableFlags=new Map([[x.bH.MANAGER,!0],[x.bH.USER,!0]]),this._creationFinishedResolver=(0,z.hh)()}get active(){return null!=this.view&&this.view.activeTool===this}set visible(I){this._get("visible")!==I&&(this._set("visible",I),this._syncVisible())}get editable(){return this.getEditableFlag(x.bH.USER)}set editable(I){this.setEditableFlag(x.bH.USER,I)}get updating(){return!1}get cursor(){return null}get hasFocusedManipulators(){return this.hasGrabbedManipulators||this.hasHoveredManipulators}destroy(){this.manipulators.destroy(),this._set("view",null)}onAdd(){this._syncVisible()}activate(){null!=this.view?(this.view.focus(),this.onActivate()):Z.Z.getLogger(this).error("Can't activate tool if view is not defined.")}deactivate(){this.onDeactivate()}handleInputEvent(I){this.onInputEvent(I)}handleInputEventAfter(I){this.onInputEventAfter(I)}setEditableFlag(I,D){this._editableFlags.set(I,D),this.manipulators.isToolEditable=this.internallyEditable,this._updateManipulatorAttachment(),I===x.bH.USER&&this.notifyChange("editable"),this.onEditableChange(),this.onManipulatorSelectionChanged()}getEditableFlag(I){return this._editableFlags.get(I)??!1}whenCreated(){return this._creationFinishedResolver.promise}onManipulatorSelectionChanged(){}onActivate(){}onDeactivate(){}onShow(){}onHide(){}onEditableChange(){}onInputEvent(I){}onInputEventAfter(I){}get internallyEditable(){return this.getEditableFlag(x.bH.USER)&&this.getEditableFlag(x.bH.MANAGER)}finishToolCreation(){this.created||this._creationFinishedResolver.resolve(this),this._set("created",!0)}_syncVisible(){if(this.initialized)if(this.visible)this._show();else if(this._hide(),this.active)return void(this.view.activeTool=null)}_show(){this._updateManipulatorAttachment(),this.onShow()}_hide(){this._updateManipulatorAttachment(),this.onHide()}_updateManipulatorAttachment(){this.visible?this.manipulators.attach():this.manipulators.detach()}};(0,B._)([(0,N.Cb)({constructOnly:!0})],T.prototype,"view",void 0),(0,B._)([(0,N.Cb)({readOnly:!0})],T.prototype,"active",null),(0,B._)([(0,N.Cb)({value:!0})],T.prototype,"visible",null),(0,B._)([(0,N.Cb)({value:!0})],T.prototype,"editable",null),(0,B._)([(0,N.Cb)({readOnly:!0})],T.prototype,"manipulators",void 0),(0,B._)([(0,N.Cb)({readOnly:!0})],T.prototype,"updating",null),(0,B._)([(0,N.Cb)()],T.prototype,"cursor",null),(0,B._)([(0,N.Cb)({readOnly:!0})],T.prototype,"automaticManipulatorSelection",void 0),(0,B._)([(0,N.Cb)()],T.prototype,"hasFocusedManipulators",null),(0,B._)([(0,N.Cb)()],T.prototype,"hasGrabbedManipulators",void 0),(0,B._)([(0,N.Cb)()],T.prototype,"hasHoveredManipulators",void 0),(0,B._)([(0,N.Cb)()],T.prototype,"firstGrabbedManipulator",void 0),(0,B._)([(0,N.Cb)({readOnly:!0})],T.prototype,"created",void 0),(0,B._)([(0,N.Cb)({readOnly:!0})],T.prototype,"removeIncompleteOnCancel",void 0),T=(0,B._)([(0,V.j)("esri.views.interactive.InteractiveToolBase")],T);let L=class extends T{constructor(I){super(I)}initialize(){this.addHandles((0,q.YP)(()=>this.analysisViewData.visible,I=>this.visible=I,q.tX))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};L=(0,B._)([(0,V.j)("esri.views.interactive.AnalysisToolBase")],L)},30260:(fe,se,_)=>{_.d(se,{hM:()=>ye,Xd:()=>k,di:()=>be}),_(29132),_(85931),_(8314);var U=_(58817);function k(v,M){return v.events.on("drag",function H(v,M){let g=null,y=null;return P=>{if("cancel"===P.action)return void(null!=y&&(y.execute({action:"cancel"}),g=null,y=null));const O={action:P.action,screenStart:P.start,screenEnd:P.screenPoint};"start"===P.action&&null==g&&(g=new ye,y=new ye,M(v,g,y,P.pointerType,O)),g?.execute(O),"end"===P.action&&null!=g&&(g=null,y=null)}}(v,M))}function be(v,M){const g=new Map;for(const y of M)g.set(y,(0,U.d9)(v[y]));return y=>(g.forEach((P,O)=>{v[O]=P}),y)}_(21286),_(29302),_(55915),_(17727),_(84786),_(18918),_(60507),_(65401),_(32442),_(25748),_(72642);const Ee=()=>{};class ye{constructor(){this.execute=Ee}next(M,g=new ye){return null!=M&&(this.execute=y=>{const P=M(y);null!=P&&g.execute(P)}),g}}}}]);