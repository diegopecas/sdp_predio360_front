"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[7755],{67755:(se,j,_)=>{_.r(j),_.d(j,{getContrastingBackgroundTheme:()=>K,getRenderSymbolParameters:()=>W,previewSymbol2D:()=>oe});var P=_(15861),F=_(91558),T=_(78260),H=_(26584),V=_(17002),M=_(23841),w=_(39868),E=_(71131),X=_(34057),b=_(50369);const A="picture-fill",J="picture-marker",N="simple-fill",Q="simple-line",Y="simple-marker",$="text",q="Aa",ee=E.b_.size,C=E.b_.maxSize,te=E.b_.maxOutlineSize,S=E.b_.lineWidth,I=225,ne=document.createElement("canvas");function R(t,e){const a=ne.getContext("2d"),n=[];e&&(e.weight&&n.push(e.weight),e.size&&n.push(e.size+"px"),e.family&&n.push(e.family)),a.font=n.join(" ");const{width:h,actualBoundingBoxLeft:s,actualBoundingBoxRight:p,actualBoundingBoxAscent:r,actualBoundingBoxDescent:c}=a.measureText(t);return{width:Math.ceil(Math.max(h,s+p)),height:Math.ceil(r+c),x:Math.floor(s),y:Math.floor((r-c)/2)}}function L(t){const e=t?.size;return{width:null!=e&&"object"==typeof e&&"width"in e?(0,M.F2)(e.width):null,height:null!=e&&"object"==typeof e&&"height"in e?(0,M.F2)(e.height):null}}function k(){return(k=(0,P.Z)(function*(t,e){const a=e.fill,n=t.color;if("pattern"===a?.type&&n&&t.type!==A){const h=yield(0,w.Od)(a.src,n.toCss(!0));a.src=h,e.fill=a}})).apply(this,arguments)}function B(){return(B=(0,P.Z)(function*(t,e,a,n){if(!("font"in t)||!t.font||"text"!==e.shape.type)return;try{yield(0,V.mx)(t.font)}catch{}const{width:h,height:s}=L(n);if(!/[\uE600-\uE6FF]/.test(e.shape.text)){const{width:p,height:r,x:c,y:d}=R(e.shape.text,{weight:e.font?.weight,size:e.font?.size,family:e.font?.family});a[0]=h??p,a[1]=s??r,e.shape.x=c,e.shape.y=d;const f=null!=n?.rotation?n.rotation:"angle"in t?t.angle:null;if(f){const l=f*(Math.PI/180),i=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l));a[1]=a[0]*i+a[1]*x}}})).apply(this,arguments)}function Z(t,e){return t>e?"dark":"light"}function W(t,e){const a="number"==typeof e?.size?e?.size:null,n=null!=a?(0,M.F2)(a):null,h=null!=e?.maxSize?(0,M.F2)(e.maxSize):null,s=null!=e?.rotation?e.rotation:"angle"in t?t.angle:null,p=(0,w._M)(t);let r=(0,w.mx)(t);"dark"!==K(t,245)||e?.ignoreWhiteSymbols||(r={width:.75,...r,color:"#bdc3c7"});const c={shape:null,fill:p,stroke:r,offset:[0,0]};r?.width&&(r.width=Math.min(r.width,te));const d=r?.width||0;let f=null!=e?.size&&(null==e?.scale||e?.scale),l=0,i=0,x=!1;switch(t.type){case Y:{const u=t.style,{width:m,height:o}=L(e),v=m===o&&null!=m?m:n??Math.min((0,M.F2)(t.size),h||C);switch(l=v,i=v,u){case"circle":c.shape={type:"circle",cx:0,cy:0,r:.5*v},f||(l+=d,i+=d);break;case"cross":c.shape={type:"path",path:[{command:"M",values:[0,.5*i]},{command:"L",values:[l,.5*i]},{command:"M",values:[.5*l,0]},{command:"L",values:[.5*l,i]}]};break;case"diamond":c.shape={type:"path",path:[{command:"M",values:[0,.5*i]},{command:"L",values:[.5*l,0]},{command:"L",values:[l,.5*i]},{command:"L",values:[.5*l,i]},{command:"Z",values:[]}]},f||(l+=d,i+=d);break;case"square":c.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,i]},{command:"L",values:[0,i]},{command:"Z",values:[]}]},f||(l+=d,i+=d),s&&(x=!0);break;case"triangle":c.shape={type:"path",path:[{command:"M",values:[.5*l,0]},{command:"L",values:[l,i]},{command:"L",values:[0,i]},{command:"Z",values:[]}]},f||(l+=d,i+=d),s&&(x=!0);break;case"x":c.shape={type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,i]},{command:"M",values:[l,0]},{command:"L",values:[0,i]}]},s&&(x=!0);break;case"path":c.shape={type:"path",path:t.path||""},f||(l+=d,i+=d),s&&(x=!0),f=!0}break}case Q:{const{width:u,height:m}=L(e),o=(0,w.iI)(r).reduce((U,D)=>U+D,0),v=o&&Math.ceil(S/o),y=m??n??d,g=u??(o*v||S);r&&(r.width=y),l=g,i=y,f=!0,c.shape={type:"path",path:[{command:"M",values:[y/2,i/2]},{command:"L",values:[l-y/2,i/2]}]};break}case A:case N:{const u="object"==typeof e?.symbolConfig&&!!e?.symbolConfig?.isSquareFill,{width:m,height:o}=L(e);l=!u&&m!==o||null==m?n??ee:m,i=!u&&m!==o||null==o?l:o,f||(l+=d,i+=d),f=!0,c.shape=u?{type:"path",path:[{command:"M",values:[0,0]},{command:"L",values:[l,0]},{command:"L",values:[l,i]},{command:"L",values:[0,i]},{command:"L",values:[0,0]},{command:"Z",values:[]}]}:E.JZ.fill[0];break}case J:{const u=Math.min((0,M.F2)(t.width),h||C),m=Math.min((0,M.F2)(t.height),h||C),{width:o,height:v}=L(e),y=o===v&&null!=o?o:n??Math.max(u,m),g=u/m;l=g<=1?Math.ceil(y*g):y,i=g<=1?y:Math.ceil(y/g),c.shape={type:"image",x:-Math.round(l/2),y:-Math.round(i/2),width:l,height:i,src:t.url||""},s&&(x=!0);break}case $:{const u=t,m=e?.overrideText||u.text||q,o=u.font,{width:v,height:y}=L(e),g=y??n??Math.min((0,M.F2)(o.size),h||C),{width:U,height:D}=R(m,{weight:o.weight,size:g,family:o.family}),z=/[\uE600-\uE6FF]/.test(m);l=v??(z?g:U),i=z?g:D;let G=.5*(z?g:D);z&&(G+=5),c.shape={type:"text",text:m,x:u.xoffset||0,y:u.yoffset||G,align:"middle",alignBaseline:u.verticalAlignment,decoration:o&&o.decoration,rotated:u.rotated,kerning:u.kerning},c.font=o&&{size:g,style:o.style,decoration:o.decoration,weight:o.weight,family:o.family};break}}return{shapeDescriptor:c,size:[l,i],renderOptions:{node:e?.node,scale:f,opacity:e?.opacity,rotation:s,useRotationSize:x,effectView:e?.effectView,ariaLabel:e?.ariaLabel}}}function oe(t,e){return O.apply(this,arguments)}function O(){return O=(0,P.Z)(function*(t,e){const{shapeDescriptor:a,size:n,renderOptions:h}=W(t,e);if(!a.shape)throw new H.Z("symbolPreview: renderPreviewHTML2D","symbol not supported.");yield function ae(t,e){return k.apply(this,arguments)}(t,a),yield function le(t,e,a,n){return B.apply(this,arguments)}(t,a,n,e);const s=[[a]];if("object"==typeof e?.symbolConfig&&e?.symbolConfig?.applyColorModulation){const p=.6*n[0];s.unshift([{...a,offset:[-p,0],fill:(0,E.dc)(a.fill,-.3)}]),s.push([{...a,offset:[p,0],fill:(0,E.dc)(a.fill,.3)}]),n[0]+=2*p,h.scale=!1}return"text"===t.type&&function ie(t,e,a,n,h){if(null!=t.haloColor&&null!=t.haloSize){h.masking??=a.map(()=>[]);const s=(0,M.F2)(t.haloSize);n[0]+=s,n[1]+=s,a.unshift([{...e,fill:null,stroke:{color:t.haloColor,width:2*s,join:"round",cap:"round"}}]),h.masking.unshift([{shape:{type:"rect",x:0,y:0,width:n[0]+2*b.c9,height:n[1]+2*b.c9},fill:[255,255,255],stroke:null},{...e,fill:[0,0,0,0],stroke:null}])}null==t.backgroundColor&&null==t.borderLineColor||(n[0]+=2*b.c9,n[1]+=2*b.c9,a.unshift([{shape:{type:"rect",x:0,y:0,width:n[0],height:n[1]},fill:t.backgroundColor,stroke:{color:t.borderLineColor,width:(0,M.F2)(t.borderLineSize)}}]),h.masking?.unshift([]))}(t,a,s,n,h),(0,X.wh)(s,n,h)}),O.apply(this,arguments)}function K(t,e=I){const a=(0,w._M)(t),n=(0,w.mx)(t),h=!a||"type"in a?null:new F.Z(a),s=n?.color?new F.Z(n?.color):null,p=h?Z((0,T.EX)(h),e):null,r=s?Z((0,T.EX)(s),e):null;return r?p?p===r?p:e>=I?"light":"dark":r:p}}}]);