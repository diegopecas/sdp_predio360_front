"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[5940],{45940:(A,E,t)=>{t.r(E),t.d(E,{default:()=>S});var M=t(15861),a=t(17626),D=t(63290),P=t(62208),C=t(10699),y=t(32917),c=t(77712),O=(t(8314),t(4619),t(76898)),r=t(2004),h=t(91757),d=t(56800),T=t(67802),K=t(45611),x=t(94421),f=t(73535);let i=class extends((0,f.Z)((0,x.Z)((0,d.y)(K.Z)))){constructor(){super(...arguments),this.bitmapContainer=new h.c}supportsSpatialReference(e){return this.layer.serviceSupportsSpatialReference(e)}update(e){this.strategy.update(e).catch(_=>{(0,C.D_)(_)||D.Z.getLogger(this).error(_)})}attach(){const{layer:e}=this,{imageMaxHeight:_,imageMaxWidth:o}=e;this.bitmapContainer=new h.c,this.container.addChild(this.bitmapContainer),this.strategy=new T.Z({container:this.bitmapContainer,fetchSource:this.fetchImage.bind(this),requestUpdate:this.requestUpdate.bind(this),imageMaxHeight:_,imageMaxWidth:o,imageRotationSupported:!1,imageNormalizationSupported:!1,hidpi:!1}),this.addAttachHandles((0,y.YP)(()=>this.exportImageVersion,()=>this.requestUpdate()))}detach(){this.strategy=(0,P.SC)(this.strategy),this.container.removeAllChildren()}moveStart(){}viewChange(){}moveEnd(){this.requestUpdate()}createFetchPopupFeaturesQuery(e){const{view:_,bitmapContainer:o}=this,{x:n,y:l}=e,{spatialReference:Z}=_;let s,m=0,v=0;if(o.children.some(G=>{const{width:u,height:I,resolution:W,x:g,y:p}=G,B=g+W*u,j=p-W*I;return n>=g&&n<=B&&l<=p&&l>=j&&(s=new r.Z({xmin:g,ymin:j,xmax:B,ymax:p,spatialReference:Z}),m=u,v=I,!0)}),!s)return null;const U=s.width/m,V=Math.round((n-s.xmin)/U),H=Math.round((s.ymax-l)/U);return{extent:s,width:m,height:v,x:V,y:H}}doRefresh(){var e=this;return(0,M.Z)(function*(){e.requestUpdate()})()}isUpdating(){return this.strategy.updating||this.updateRequested}fetchImage(e,_,o,n){return this.layer.fetchImageBitmap(e,_,o,{timeExtent:this.timeExtent,...n})}};(0,a._)([(0,c.Cb)()],i.prototype,"strategy",void 0),(0,a._)([(0,c.Cb)()],i.prototype,"updating",void 0),i=(0,a._)([(0,O.j)("esri.views.2d.layers.WMSLayerView2D")],i);const S=i},94421:(A,E,t)=>{t.d(E,{Z:()=>R});var M=t(17626),a=t(63290),D=t(10699),P=t(32917),L=(t(8314),t(4619),t(26584),t(76898));const R=O=>{let r=class extends O{initialize(){this.addHandles((0,P.on)(()=>this.layer,"refresh",h=>{this.doRefresh(h.dataChanged).catch(d=>{(0,D.D_)(d)||a.Z.getLogger(this).error(d)})}),"RefreshableLayerView")}};return r=(0,M._)([(0,L.j)("esri.layers.mixins.RefreshableLayerView")],r),r}}}]);