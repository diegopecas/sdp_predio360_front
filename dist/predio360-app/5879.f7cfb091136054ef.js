"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[5879,7215],{35879:(mn,D,x)=>{x.r(D),x.d(D,{registerFunctions:()=>q});var g=x(15861),U=x(24263),S=x(37780),_=x(6729),s=x(25919),l=x(27187),a=x(47562),H=x(16309),O=x(85692),E=x(21375),Q=x(16730),F=x(2004),f=x(21674),h=x(87215),C=x(72854),R=x(72642),K=x(37118),V=x(55214),z=x(91179),X=x(31099),T=x(84792);function J(u,r,e){return W.apply(this,arguments)}function W(){return(W=(0,g.Z)(function*(u,r,e){if(!U.id?.findCredential(u.restUrl))return null;if("loaded"===u.loadStatus&&""===r&&u.user?.sourceJSON&&!1===e)return u.user.sourceJSON;const p={responseType:"json",query:{f:"json"}};if(e&&(p.query.returnUserLicenseTypeExtensions=!0),""===r){const t=yield(0,T.Z)(u.restUrl+"/community/self",p);if(t.data){const o=t.data;if(o?.username)return o}return null}const n=yield(0,T.Z)(u.restUrl+"/community/users/"+r,p);if(n.data){const t=n.data;return t.error?null:t}return null})).apply(this,arguments)}function Y(u){return 0===U.i8.indexOf("4.")?K.Z.fromExtent(u):new K.Z({spatialReference:u.spatialReference,rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]})}function N(u,r,e){if((0,a.H)(u,2,2,r,e),!(u[0]instanceof f.Z&&u[1]instanceof f.Z||u[0]instanceof f.Z&&null===u[1]||u[1]instanceof f.Z&&null===u[0]||null===u[0]&&null===u[1]))throw new s.aV(r,s.rH.InvalidParameter,e)}function $(u,r){return B.apply(this,arguments)}function B(){return(B=(0,g.Z)(function*(u,r){if("polygon"!==u.type&&"polyline"!==u.type&&"extent"!==u.type)return 0;let e=1;(u.spatialReference.vcsWkid||u.spatialReference.latestVcsWkid)&&(e=(0,O._R)(u.spatialReference)/(0,Q.c9)(u.spatialReference));let d=0;if("polyline"===u.type)for(const n of u.paths)for(let t=1;t<n.length;t++)d+=(0,O.AW)(n[t],n[t-1],e);else if("polygon"===u.type)for(const n of u.rings){for(let t=1;t<n.length;t++)d+=(0,O.AW)(n[t],n[t-1],e);(n[0][0]!==n[n.length-1][0]||n[0][1]!==n[n.length-1][1]||void 0!==n[0][2]&&n[0][2]!==n[n.length-1][2])&&(d+=(0,O.AW)(n[0],n[n.length-1],e))}else"extent"===u.type&&(d+=2*(0,O.AW)([u.xmin,u.ymin,0],[u.xmax,u.ymin,0],e),d+=2*(0,O.AW)([u.xmin,u.ymin,0],[u.xmin,u.ymax,0],e),d*=2,d+=4*Math.abs((0,a.K)(u.zmax,0)*e-(0,a.K)(u.zmin,0)*e));const p=new V.Z({hasZ:!1,hasM:!1,spatialReference:u.spatialReference,paths:[[0,0],[0,d]]});return(0,h.planarLength)(p,r)})).apply(this,arguments)}function q(u){"async"===u.mode&&(u.functions.disjoint=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null===n[0]||null===n[1]||(0,h.disjoint)(n[0],n[1])))},u.functions.intersects=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.intersects)(n[0],n[1])))},u.functions.touches=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.touches)(n[0],n[1])))},u.functions.crosses=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.crosses)(n[0],n[1])))},u.functions.within=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.within)(n[0],n[1])))},u.functions.contains=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.contains)(n[0],n[1])))},u.functions.overlaps=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null!==n[1]&&(0,h.overlaps)(n[0],n[1])))},u.functions.equals=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>((0,a.H)(n,2,2,r,e),n[0]===n[1]||(n[0]instanceof f.Z&&n[1]instanceof f.Z?(0,h.equals)(n[0],n[1]):((0,a.k)(n[0])&&(0,a.k)(n[1])||!!((0,a.n)(n[0])&&(0,a.n)(n[1])||(0,a.m)(n[0])&&(0,a.m)(n[1])))&&n[0].equals(n[1]))))},u.functions.relate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,3,3,r,e),n[0]instanceof f.Z&&n[1]instanceof f.Z)return(0,h.relate)(n[0],n[1],(0,a.j)(n[2]));if(n[0]instanceof f.Z&&null===n[1]||n[1]instanceof f.Z&&null===n[0]||null===n[0]&&null===n[1])return!1;throw new s.aV(r,s.rH.InvalidParameter,e)})},u.functions.intersection=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null===n[0]||null===n[1]?null:(0,h.intersect)(n[0],n[1])))},u.functions.union=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{const t=[];if(0===(n=(0,a.I)(n)).length)throw new s.aV(r,s.rH.WrongNumberOfParameters,e);if(1===n.length)if((0,a.o)(n[0])){const o=(0,a.I)(n[0]);for(let m=0;m<o.length;m++)if(null!==o[m]){if(!(o[m]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t.push(o[m])}}else{if(!(0,a.q)(n[0])){if(n[0]instanceof f.Z)return(0,a.x)((0,l.r1)(n[0]),r.spatialReference);if(null===n[0])return null;throw new s.aV(r,s.rH.InvalidParameter,e)}{const o=(0,a.I)(n[0].toArray());for(let m=0;m<o.length;m++)if(null!==o[m]){if(!(o[m]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t.push(o[m])}}}else for(let o=0;o<n.length;o++)if(null!==n[o]){if(!(n[o]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t.push(n[o])}return 0===t.length?null:(0,h.union)(t)})},u.functions.difference=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null!==n[0]&&null===n[1]?(0,l.r1)(n[0]):null===n[0]?null:(0,h.difference)(n[0],n[1])))},u.functions.symmetricdifference=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>(N(n=(0,a.I)(n),r,e),null===n[0]&&null===n[1]?null:null===n[0]?(0,l.r1)(n[1]):null===n[1]?(0,l.r1)(n[0]):(0,h.symmetricDifference)(n[0],n[1])))},u.functions.clip=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),!(n[1]instanceof F.Z)&&null!==n[1])throw new s.aV(r,s.rH.InvalidParameter,e);if(null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return null===n[1]?null:(0,h.clip)(n[0],n[1])})},u.functions.cut=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),!(n[1]instanceof V.Z)&&null!==n[1])throw new s.aV(r,s.rH.InvalidParameter,e);if(null===n[0])return[];if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return null===n[1]?[(0,l.r1)(n[0])]:(0,h.cut)(n[0],n[1])})},u.functions.area=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const o=yield t[0].sumArea((0,l.EI)((0,a.K)(t[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return o}if((0,a.o)(t[0])||(0,a.q)(t[0])){const o=(0,a.J)(t[0],r.spatialReference);return null===o?0:(0,h.planarArea)(o,(0,l.EI)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.planarArea)(t[0],(0,l.EI)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.areageodetic=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const o=yield t[0].sumArea((0,l.EI)((0,a.K)(t[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return o}if((0,a.o)(t[0])||(0,a.q)(t[0])){const o=(0,a.J)(t[0],r.spatialReference);return null===o?0:(0,h.geodesicArea)(o,(0,l.EI)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.geodesicArea)(t[0],(0,l.EI)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.length=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const o=yield t[0].sumLength((0,l.Lz)((0,a.K)(t[1],-1)),!1,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return o}if((0,a.o)(t[0])||(0,a.q)(t[0])){const o=(0,a.L)(t[0],r.spatialReference);return null===o?0:(0,h.planarLength)(o,(0,l.Lz)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.planarLength)(t[0],(0,l.Lz)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.length3d=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if((0,a.H)(n,1,2,r,e),null===(n=(0,a.I)(n))[0])return 0;if((0,a.o)(n[0])||(0,a.q)(n[0])){const t=(0,a.L)(n[0],r.spatialReference);return null===t?0:!0===t.hasZ?$(t,(0,l.Lz)((0,a.K)(n[1],-1))):(0,h.planarLength)(t,(0,l.Lz)((0,a.K)(n[1],-1)))}if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return!0===n[0].hasZ?$(n[0],(0,l.Lz)((0,a.K)(n[1],-1))):(0,h.planarLength)(n[0],(0,l.Lz)((0,a.K)(n[1],-1)))})},u.functions.lengthgeodetic=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if((0,a.H)(t,1,2,r,e),null===(t=(0,a.I)(t))[0])return 0;if((0,a.u)(t[0])){const o=yield t[0].sumLength((0,l.Lz)((0,a.K)(t[1],-1)),!0,r.abortSignal);if(r.abortSignal.aborted)throw new s.aV(r,s.rH.Cancelled,e);return o}if((0,a.o)(t[0])||(0,a.q)(t[0])){const o=(0,a.L)(t[0],r.spatialReference);return null===o?0:(0,h.geodesicLength)(o,(0,l.Lz)((0,a.K)(t[1],-1)))}if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.geodesicLength)(t[0],(0,l.Lz)((0,a.K)(t[1],-1)))});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.distance=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{n=(0,a.I)(n),(0,a.H)(n,2,3,r,e);let t=n[0];((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.M)(n[0],r.spatialReference));let o=n[1];if(((0,a.o)(n[1])||(0,a.q)(n[1]))&&(o=(0,a.M)(n[1],r.spatialReference)),!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(o instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.distance)(t,o,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.distancegeodetic=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{n=(0,a.I)(n),(0,a.H)(n,2,3,r,e);const t=n[0],o=n[1];if(!(t instanceof R.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(o instanceof R.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const m=new V.Z({paths:[],spatialReference:t.spatialReference});return m.addPath([t,o]),(0,h.geodesicLength)(m,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.densify=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);if(t<=0)throw new s.aV(r,s.rH.InvalidParameter,e);return n[0]instanceof K.Z||n[0]instanceof V.Z?(0,h.densify)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]instanceof F.Z?(0,h.densify)(Y(n[0]),t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]})},u.functions.densifygeodetic=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);if(t<=0)throw new s.aV(r,s.rH.InvalidParameter,e);return n[0]instanceof K.Z||n[0]instanceof V.Z?(0,h.geodesicDensify)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]instanceof F.Z?(0,h.geodesicDensify)(Y(n[0]),t,(0,l.Lz)((0,a.K)(n[2],-1))):n[0]})},u.functions.generalize=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,4,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.generalize)(n[0],t,(0,a.h)((0,a.K)(n[2],!0)),(0,l.Lz)((0,a.K)(n[3],-1)))})},u.functions.buffer=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);return 0===t?(0,l.r1)(n[0]):(0,h.buffer)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.buffergeodetic=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,3,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);return 0===t?(0,l.r1)(n[0]):(0,h.geodesicBuffer)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1)))})},u.functions.offset=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,6,r,e),null===n[0])return null;if(!(n[0]instanceof K.Z||n[0]instanceof V.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const t=(0,a.g)(n[1]);if(isNaN(t))throw new s.aV(r,s.rH.InvalidParameter,e);const o=(0,a.g)((0,a.K)(n[4],10));if(isNaN(o))throw new s.aV(r,s.rH.InvalidParameter,e);const m=(0,a.g)((0,a.K)(n[5],0));if(isNaN(m))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.offset)(n[0],t,(0,l.Lz)((0,a.K)(n[2],-1)),(0,a.j)((0,a.K)(n[3],"round")).toLowerCase(),o,m)})},u.functions.rotate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{n=(0,a.I)(n),(0,a.H)(n,2,3,r,e);let t=n[0];if(null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);t instanceof F.Z&&(t=K.Z.fromExtent(t));const o=(0,a.g)(n[1]);if(isNaN(o))throw new s.aV(r,s.rH.InvalidParameter,e);const m=(0,a.K)(n[2],null);if(null===m)return(0,h.rotate)(t,o);if(m instanceof R.Z)return(0,h.rotate)(t,o,m);throw new s.aV(r,s.rH.InvalidParameter,e)})},u.functions.centroid=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.M)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return t instanceof R.Z?(0,a.x)((0,l.r1)(n[0]),r.spatialReference):t instanceof K.Z?t.centroid:t instanceof V.Z?(0,O.s9)(t):t instanceof C.Z?(0,O.Ay)(t):t instanceof F.Z?t.center:null})},u.functions.measuretocoordinate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.L)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t instanceof V.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if((0,a.b)(!1===n[1]))throw new s.aV(r,s.rH.InvalidParameter,e);const o=(0,E.Tv)(t,n[1]);return o?_.Z.convertObjectToArcadeDictionary(o,(0,a.N)(r),!1,!0):null})},u.functions.pointtocoordinate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.L)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t instanceof V.Z))throw new s.aV(r,s.rH.InvalidParameter,e);const o=n[1];if(null===o)return null;if(!(o instanceof R.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if((0,a.b)(!1===n[1]))throw new s.aV(r,s.rH.InvalidParameter,e);const m=(0,E.zq)(t,o);return m?_.Z.convertObjectToArcadeDictionary(m,(0,a.N)(r),!1,!0):null})},u.functions.distancetocoordinate=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,2,2,r,e),null===n[0])return null;let t=n[0];if(((0,a.o)(n[0])||(0,a.q)(n[0]))&&(t=(0,a.L)(n[0],r.spatialReference)),null===t)return null;if(!(t instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t instanceof V.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if((0,a.b)(!1===n[1]))throw new s.aV(r,s.rH.InvalidParameter,e);const o=(0,E.qt)(t,n[1]);return o?_.Z.convertObjectToArcadeDictionary(o,(0,a.N)(r),!1,!0):null})},u.functions.multiparttosinglepart=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){t=(0,a.I)(t),(0,a.H)(t,1,1,r,e);const o=[];if(null===t[0])return null;if(!(t[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);if(t[0]instanceof R.Z)return[(0,a.x)((0,l.r1)(t[0]),r.spatialReference)];if(t[0]instanceof F.Z)return[(0,a.x)((0,l.r1)(t[0]),r.spatialReference)];const m=yield(0,h.simplify)(t[0]);if(m instanceof K.Z){const I=[],v=[];for(let w=0;w<m.rings.length;w++)if(m.isClockwise(m.rings[w])){const P=(0,z.im)({rings:[m.rings[w]],hasZ:!0===m.hasZ,hazM:!0===m.hasM,spatialReference:m.spatialReference.toJSON()});I.push(P)}else v.push({ring:m.rings[w],pt:m.getPoint(w,0)});for(let w=0;w<v.length;w++)for(let P=0;P<I.length;P++)if(I[P].contains(v[w].pt)){I[P].addRing(v[w].ring);break}return I}if(m instanceof V.Z){const I=[];for(let v=0;v<m.paths.length;v++){const w=(0,z.im)({paths:[m.paths[v]],hasZ:!0===m.hasZ,hazM:!0===m.hasM,spatialReference:m.spatialReference.toJSON()});I.push(w)}return I}if(t[0]instanceof C.Z){const I=(0,a.x)((0,l.r1)(t[0]),r.spatialReference);for(let v=0;v<I.points.length;v++)o.push(I.getPoint(v));return o}return null});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.issimple=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return!0;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.isSimple)(n[0])})},u.functions.simplify=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.simplify)(n[0])})},u.functions.convexhull=function(r,e){return u.standardFunctionAsync(r,e,(d,p,n)=>{if(n=(0,a.I)(n),(0,a.H)(n,1,1,r,e),null===n[0])return null;if(!(n[0]instanceof f.Z))throw new s.aV(r,s.rH.InvalidParameter,e);return(0,h.convexHull)(n[0])})},u.functions.getuser=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){(0,a.H)(t,0,2,r,e);let o=(0,a.K)(t[1],""),m=!0===o;if(o=!0===o||!1===o?"":(0,a.j)(o),0===t.length||t[0]instanceof S.Z){let v=null;v=r.services?.portal?r.services.portal:X.Z.getDefault(),t.length>0&&(v=(0,H._)(t[0],v));const w=yield J(v,o,m);if(w){const P=JSON.parse(JSON.stringify(w));for(const A of["lastLogin","created","modified"])null!=P[A]&&(P[A]=new Date(P[A]));return _.Z.convertObjectToArcadeDictionary(P,(0,a.N)(r))}return null}let I=null;if((0,a.u)(t[0])&&(I=t[0]),I){if(m=!1,o)return null;yield I.load();const v=yield I.getOwningSystemUrl();if(!v){if(!o){const A=yield I.getIdentityUser();return A?_.Z.convertObjectToArcadeDictionary({username:A},(0,a.N)(r)):null}return null}let w=null;w=r.services?.portal?r.services.portal:X.Z.getDefault(),w=(0,H._)(new S.Z(v),w);const P=yield J(w,o,m);if(P){const A=JSON.parse(JSON.stringify(P));for(const j of["lastLogin","created","modified"])null!=A[j]&&(A[j]=new Date(A[j]));return _.Z.convertObjectToArcadeDictionary(A,(0,a.N)(r))}return null}throw new s.aV(r,s.rH.InvalidParameter,e)});return function(p,n,t){return d.apply(this,arguments)}}())}),u.functions.nearestcoordinate=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if(t=(0,a.I)(t),(0,a.H)(t,2,2,r,e),!(t[0]instanceof f.Z||null===t[0]))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t[1]instanceof R.Z||null===t[1]))throw new s.aV(r,s.rH.InvalidParameter,e);if(null===t[0]||null===t[1])return null;const o=yield(0,h.nearestCoordinate)(t[0],t[1]);return null===o?null:_.Z.convertObjectToArcadeDictionary({coordinate:o.coordinate,distance:o.distance,sideOfLine:0===o.distance?"straddle":o.isRightSide?"right":"left"},(0,a.N)(r),!1,!0)});return function(p,n,t){return d.apply(this,arguments)}}())},u.functions.nearestvertex=function(r,e){return u.standardFunctionAsync(r,e,function(){var d=(0,g.Z)(function*(p,n,t){if(t=(0,a.I)(t),(0,a.H)(t,2,2,r,e),!(t[0]instanceof f.Z||null===t[0]))throw new s.aV(r,s.rH.InvalidParameter,e);if(!(t[1]instanceof R.Z||null===t[1]))throw new s.aV(r,s.rH.InvalidParameter,e);if(null===t[0]||null===t[1])return null;const o=yield(0,h.nearestVertex)(t[0],t[1]);return null===o?null:_.Z.convertObjectToArcadeDictionary({coordinate:o.coordinate,distance:o.distance,sideOfLine:0===o.distance?"straddle":o.isRightSide?"right":"left"},(0,a.N)(r),!1,!0)});return function(p,n,t){return d.apply(this,arguments)}}())}}},16309:(mn,D,x)=>{x.d(D,{_:()=>U});var g=x(31099);function U(S,_){return null===S?_:new g.Z({url:S.field("url")})}},87215:(mn,D,x)=>{x.r(D),x.d(D,{buffer:()=>xn,changeDefaultSpatialReferenceTolerance:()=>Dn,clearDefaultSpatialReferenceTolerance:()=>Sn,clip:()=>V,contains:()=>J,convexHull:()=>p,crosses:()=>W,cut:()=>X,densify:()=>Vn,difference:()=>t,disjoint:()=>B,distance:()=>gn,equals:()=>b,extendedSpatialReferenceInfo:()=>K,flipHorizontal:()=>Pn,flipVertical:()=>An,generalize:()=>_n,geodesicArea:()=>On,geodesicBuffer:()=>Zn,geodesicDensify:()=>Ln,geodesicLength:()=>Fn,intersect:()=>v,intersectLinesToPoints:()=>Kn,intersects:()=>Y,isSimple:()=>r,nearestCoordinate:()=>wn,nearestVertex:()=>vn,nearestVertices:()=>In,offset:()=>j,overlaps:()=>q,planarArea:()=>Rn,planarLength:()=>Nn,relate:()=>u,rotate:()=>Hn,simplify:()=>e,symmetricDifference:()=>m,touches:()=>N,union:()=>P,within:()=>$});var g=x(15861),S=(x(29132),x(97347)),_=x(72642),s=x(91179);function l(i){return Array.isArray(i)?i[0]?.spatialReference:i?.spatialReference}function a(i){return i&&(Array.isArray(i)?i.map(a):i.toJSON?i.toJSON():i)}function H(i){return Array.isArray(i)?i.map(c=>(0,s.im)(c)):(0,s.im)(i)}let E;function Q(){return F.apply(this,arguments)}function F(){return(F=(0,g.Z)(function*(){return E||(E=(0,S.bA)("geometryEngineWorker",{strategy:"distributed"})),E})).apply(this,arguments)}function f(i,c){return h.apply(this,arguments)}function h(){return(h=(0,g.Z)(function*(i,c){return(yield Q()).invoke("executeGEOperation",{operation:i,parameters:a(c)})})).apply(this,arguments)}function C(i,c){return R.apply(this,arguments)}function R(){return(R=(0,g.Z)(function*(i,c){const y=yield Q();return Promise.all(y.broadcast("executeGEOperation",{operation:i,parameters:a(c)}))})).apply(this,arguments)}function K(i){return f("extendedSpatialReferenceInfo",[i])}function V(i,c){return z.apply(this,arguments)}function z(){return(z=(0,g.Z)(function*(i,c){return H(yield f("clip",[l(i),i,c]))})).apply(this,arguments)}function X(i,c){return T.apply(this,arguments)}function T(){return(T=(0,g.Z)(function*(i,c){return H(yield f("cut",[l(i),i,c]))})).apply(this,arguments)}function J(i,c){return f("contains",[l(i),i,c])}function W(i,c){return f("crosses",[l(i),i,c])}function gn(i,c,y){return f("distance",[l(i),i,c,y])}function b(i,c){return f("equals",[l(i),i,c])}function Y(i,c){return f("intersects",[l(i),i,c])}function N(i,c){return f("touches",[l(i),i,c])}function $(i,c){return f("within",[l(i),i,c])}function B(i,c){return f("disjoint",[l(i),i,c])}function q(i,c){return f("overlaps",[l(i),i,c])}function u(i,c,y){return f("relate",[l(i),i,c,y])}function r(i){return f("isSimple",[l(i),i])}function e(i){return d.apply(this,arguments)}function d(){return(d=(0,g.Z)(function*(i){return H(yield f("simplify",[l(i),i]))})).apply(this,arguments)}function p(i){return n.apply(this,arguments)}function n(){return(n=(0,g.Z)(function*(i,c=!1){return H(yield f("convexHull",[l(i),i,c]))})).apply(this,arguments)}function t(i,c){return o.apply(this,arguments)}function o(){return(o=(0,g.Z)(function*(i,c){return H(yield f("difference",[l(i),i,c]))})).apply(this,arguments)}function m(i,c){return I.apply(this,arguments)}function I(){return(I=(0,g.Z)(function*(i,c){return H(yield f("symmetricDifference",[l(i),i,c]))})).apply(this,arguments)}function v(i,c){return w.apply(this,arguments)}function w(){return(w=(0,g.Z)(function*(i,c){return H(yield f("intersect",[l(i),i,c]))})).apply(this,arguments)}function P(i){return A.apply(this,arguments)}function A(){return(A=(0,g.Z)(function*(i,c=null){const y=function O(i,c){let y;return Array.isArray(i)?y=i:(y=[],y.push(i),null!=c&&y.push(c)),y}(i,c);return H(yield f("union",[l(y),y]))})).apply(this,arguments)}function j(i,c,y,Z,L,G){return k.apply(this,arguments)}function k(){return(k=(0,g.Z)(function*(i,c,y,Z,L,G){return H(yield f("offset",[l(i),i,c,y,Z,L,G]))})).apply(this,arguments)}function xn(i,c,y){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(i,c,y,Z=!1){const L=[l(i),i,c,y,Z];return H(yield f("buffer",L))})).apply(this,arguments)}function Zn(i,c,y,Z,L,G){return rn.apply(this,arguments)}function rn(){return(rn=(0,g.Z)(function*(i,c,y,Z,L,G){const En=[l(i),i,c,y,Z,L,G];return H(yield f("geodesicBuffer",En))})).apply(this,arguments)}function wn(i,c){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(i,c,y=!0){const Z=yield f("nearestCoordinate",[l(i),i,c,y]);return{...Z,coordinate:_.Z.fromJSON(Z.coordinate)}})).apply(this,arguments)}function vn(i,c){return en.apply(this,arguments)}function en(){return(en=(0,g.Z)(function*(i,c){const y=yield f("nearestVertex",[l(i),i,c]);return{...y,coordinate:_.Z.fromJSON(y.coordinate)}})).apply(this,arguments)}function In(i,c,y,Z){return an.apply(this,arguments)}function an(){return(an=(0,g.Z)(function*(i,c,y,Z){return(yield f("nearestVertices",[l(i),i,c,y,Z])).map(L=>({...L,coordinate:_.Z.fromJSON(L.coordinate)}))})).apply(this,arguments)}function un(i){return"xmin"in i?i.center:"x"in i?i:i.extent?.center}function Hn(i,c,y){return sn.apply(this,arguments)}function sn(){return(sn=(0,g.Z)(function*(i,c,y){if(null==i)throw new M;const Z=i.spatialReference;if(null==(y=y??un(i)))throw new M;const L=i.constructor.fromJSON(yield f("rotate",[Z,i,c,y]));return L.spatialReference=Z,L})).apply(this,arguments)}function Pn(i,c){return cn.apply(this,arguments)}function cn(){return(cn=(0,g.Z)(function*(i,c){if(null==i)throw new M;const y=i.spatialReference;if(null==(c=c??un(i)))throw new M;const Z=i.constructor.fromJSON(yield f("flipHorizontal",[y,i,c]));return Z.spatialReference=y,Z})).apply(this,arguments)}function An(i,c){return on.apply(this,arguments)}function on(){return(on=(0,g.Z)(function*(i,c){if(null==i)throw new M;const y=i.spatialReference;if(null==(c=c??un(i)))throw new M;const Z=i.constructor.fromJSON(yield f("flipVertical",[y,i,c]));return Z.spatialReference=y,Z})).apply(this,arguments)}function _n(i,c,y,Z){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(i,c,y,Z){return H(yield f("generalize",[l(i),i,c,y,Z]))})).apply(this,arguments)}function Vn(i,c,y){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(i,c,y){return H(yield f("densify",[l(i),i,c,y]))})).apply(this,arguments)}function Ln(i,c,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,g.Z)(function*(i,c,y,Z=0){return H(yield f("geodesicDensify",[l(i),i,c,y,Z]))})).apply(this,arguments)}function Rn(i,c){return f("planarArea",[l(i),i,c])}function Nn(i,c){return f("planarLength",[l(i),i,c])}function On(i,c,y){return f("geodesicArea",[l(i),i,c,y])}function Fn(i,c,y){return f("geodesicLength",[l(i),i,c,y])}function Kn(i,c){return pn.apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(i,c){return H(yield f("intersectLinesToPoints",[l(i),i,c]))})).apply(this,arguments)}function Dn(i,c){return yn.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(i,c){yield C("changeDefaultSpatialReferenceTolerance",[i,c])})).apply(this,arguments)}function Sn(i){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(i){yield C("clearDefaultSpatialReferenceTolerance",[i])})).apply(this,arguments)}class M extends Error{constructor(){super("Illegal Argument Exception")}}}}]);