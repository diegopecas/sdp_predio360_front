"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[4976,5611],{64976:(M,i,e)=>{e.r(i),e.d(i,{default:()=>c});var _=e(17626),l=e(26584),d=e(77712),h=(e(8314),e(63290),e(4619),e(76898)),r=e(19702),u=e(50916),P=e(45611);let a=class extends((0,u.r)((0,r.A)(P.Z))){constructor(){super(...arguments),this.type="elevation-3d"}get tileInfo(){return this.layer.tileInfo}initialize(){const t=this.view?.map?.allLayers,n=t&&t.includes(this.layer),s=this.view?.map?.ground?.layers,o=s&&s.includes(this.layer);if(n&&!o){const E=new l.Z("layerview:elevation-layer-only","3D elevation layer '"+this.layer.id+"' can only be added to layers in map.ground");this.addResolvingPromise(Promise.reject(E))}this._addTilingSchemeMatchPromise()}};(0,_._)([(0,d.Cb)()],a.prototype,"layer",void 0),(0,_._)([(0,d.Cb)()],a.prototype,"tileInfo",null),a=(0,_._)([(0,h.j)("esri.views.3d.layers.ElevationLayerView3D")],a);const c=a},19702:(M,i,e)=>{e.d(i,{A:()=>c});var _=e(15861),l=e(17626),d=e(54024),v=e(10699),y=e(32917),p=e(77712),P=(e(8314),e(63290),e(4619),e(76898)),a=e(36947);const c=t=>{let n=class extends t{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(s){super.postscript(s),(0,a.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var s=this;return(0,_.Z)(function*(){const o=new AbortController,E=o.signal;s.addHandles((0,d.kB)(()=>o.abort())),yield(0,y.N1)(()=>s.view.defaultsFromMap?.heightModelInfoReady,E),(0,v.k_)(E);const O=(0,a.Wt)(s.layer,s.view.heightModelInfo,s.supportsHeightUnitConversion);if(O)throw O})()}canResume(){const s=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!s?.minScale||!s.maxScale||s.minScale>=s.maxScale)}getSuspendInfo(){const s=super.getSuspendInfo(),o=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return o&&o.minScale&&o.maxScale&&o.minScale<o.maxScale&&(s.outsideScaleRange=!0),s}};return(0,l._)([(0,p.Cb)()],n.prototype,"view",void 0),(0,l._)([(0,p.Cb)()],n.prototype,"slicePlaneEnabled",void 0),n=(0,l._)([(0,P.j)("esri.views.3d.layers.LayerView3D")],n),n}},45611:(M,i,e)=>{e.d(i,{Z:()=>n});var _=e(17626),l=e(83761),d=e(61885),v=e(61996),y=e(63290),p=e(62208),h=e(60330),r=e(77712),a=(e(8314),e(4619),e(76898)),c=e(11426);let t=class extends((0,v.IG)((0,h.v)(d.Z.EventedMixin(l.Z)))){constructor(s){super(s),this._updatingHandles=new c.R,this.layer=null,this.parent=null}initialize(){this.when().catch(s=>{if("layerview:create-error"!==s.name){const o=this.layer&&this.layer.id||"no id",E=this.layer?.title||"no title";y.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${E}', id: '${o}')`,s)}})}destroy(){this._updatingHandles=(0,p.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(s){this._overrideIfSome("visible",s)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const s=this.parent?.suspended?this.parent.suspendInfo:{};return this.view?.ready||(s.viewNotReady=!0),this.layer&&this.layer.loaded||(s.layerNotLoaded=!0),this.visible||(s.layerInvisible=!0),s}isUpdating(){return!1}};(0,_._)([(0,r.Cb)()],t.prototype,"fullOpacity",null),(0,_._)([(0,r.Cb)()],t.prototype,"layer",void 0),(0,_._)([(0,r.Cb)()],t.prototype,"parent",void 0),(0,_._)([(0,r.Cb)({readOnly:!0})],t.prototype,"suspended",null),(0,_._)([(0,r.Cb)({readOnly:!0})],t.prototype,"suspendInfo",null),(0,_._)([(0,r.Cb)({readOnly:!0})],t.prototype,"legendEnabled",null),(0,_._)([(0,r.Cb)({type:Boolean,readOnly:!0})],t.prototype,"updating",null),(0,_._)([(0,r.Cb)({readOnly:!0})],t.prototype,"updatingProgress",null),(0,_._)([(0,r.Cb)()],t.prototype,"visible",null),(0,_._)([(0,r.Cb)()],t.prototype,"view",void 0),t=(0,_._)([(0,a.j)("esri.views.layers.LayerView")],t);const n=t}}]);