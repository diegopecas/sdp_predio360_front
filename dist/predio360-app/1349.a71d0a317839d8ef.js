"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[1349,5611],{56800:(b,u,e)=>{e.d(u,{y:()=>M});var r,t=e(17626),_=e(46160),c=e(89726),C=e(26584),i=e(32917),s=e(77712),v=(e(8314),e(63290),e(4619),e(76898)),f=e(83137),P=e(1011),a=e(38093),y=e(90135);let d=r=class extends y.Z{constructor(p){super(p),this.type="rect",this.left=null,this.right=null,this.top=null,this.bottom=null}clone(){return new r({left:this.left,right:this.right,top:this.top,bottom:this.bottom})}commitVersionProperties(){this.commitProperty("left"),this.commitProperty("right"),this.commitProperty("top"),this.commitProperty("bottom")}};(0,t._)([(0,s.Cb)({type:[Number,String],json:{write:!0}})],d.prototype,"left",void 0),(0,t._)([(0,s.Cb)({type:[Number,String],json:{write:!0}})],d.prototype,"right",void 0),(0,t._)([(0,s.Cb)({type:[Number,String],json:{write:!0}})],d.prototype,"top",void 0),(0,t._)([(0,s.Cb)({type:[Number,String],json:{write:!0}})],d.prototype,"bottom",void 0),d=r=(0,t._)([(0,v.j)("esri.views.layers.support.ClipRect")],d);const D=d;var T=e(74835);let L=class extends y.Z{constructor(p){super(p),this.type="path",this.path=[]}commitVersionProperties(){this.commitProperty("path")}};(0,t._)([(0,s.Cb)({type:[[[Number]]],json:{write:!0}})],L.prototype,"path",void 0),L=(0,t._)([(0,v.j)("esri.views.layers.support.Path")],L);const m=_.Z.ofType({key:"type",base:null,typeMap:{rect:D,path:L,geometry:T.Z}}),M=p=>{let o=class extends p{constructor(){super(...arguments),this.attached=!1,this.clips=new m,this.lastUpdateId=-1,this.moving=!1,this.updateRequested=!1,this.visibleAtCurrentScale=!1,this.highlightOptions=null}initialize(){this.view?.spatialReference&&(this.view?.spatialReferenceLocked??1)&&!this.spatialReferenceSupported?this.addResolvingPromise(Promise.reject(new C.Z("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",{layer:this.layer}))):(this.container||(this.container=new P.W),this.container.fadeTransitionEnabled=!0,this.container.visible=!1,this.container.endTransitions(),this.addHandles([(0,i.YP)(()=>this.suspended,l=>{this.container&&(this.container.visible=!l)},i.tX),(0,i.YP)(()=>this.updateSuspended,l=>{this.view&&!l&&this.updateRequested&&this.view.requestUpdate()},i.tX),(0,i.YP)(()=>this.layer?.opacity??1,l=>{this.container&&(this.container.opacity=l)},i.tX),(0,i.YP)(()=>this.layer&&"blendMode"in this.layer?this.layer.blendMode:"normal",l=>{this.container&&(this.container.blendMode=l)},i.tX),(0,i.YP)(()=>this.layer&&"effect"in this.layer?this.layer.effect:null,l=>{this.container&&(this.container.effect=l)},i.tX),(0,i.YP)(()=>this.highlightOptions,l=>this.container.highlightOptions=l,i.tX),(0,i.on)(()=>this.clips,"change",()=>{this.container&&(this.container.clips=this.clips)},i.tX),(0,i.YP)(()=>({scale:this.view?.scale,scaleRange:this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null}),({scale:l})=>{const S=null!=l&&this.isVisibleAtScale(l);S!==this.visibleAtCurrentScale&&this._set("visibleAtCurrentScale",S)},i.tX)],"constructor"),this.view?.whenLayerView?this.view.whenLayerView(this.layer).then(l=>{l===this&&this.processAttach()},()=>{}):this.when().then(()=>{this.processAttach()},()=>{}))}destroy(){this.processDetach(),this.updateRequested=!1}get spatialReferenceSupported(){const h=this.view?.spatialReference;return null==h||this.supportsSpatialReference(h)}get updateSuspended(){return this.suspended}get updating(){return this.spatialReferenceSupported&&(!this.attached||!this.suspended&&(this.updateRequested||this.isUpdating())||!!this._updatingHandles?.updating)}processAttach(){this.isResolved()&&!this.attached&&!this.destroyed&&this.spatialReferenceSupported&&(this.attach(),this.attached=!0,this.requestUpdate())}processDetach(){this.attached&&(this.attached=!1,this.removeHandles("attach"),this.detach(),this.updateRequested=!1)}isVisibleAtScale(h){const g=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;if(!g)return!0;const{minScale:l,maxScale:S}=g;return(0,f.o2)(h,l,S)}requestUpdate(){this.destroyed||this.updateRequested||(this.updateRequested=!0,this.updateSuspended||this.view.requestUpdate())}processUpdate(h){!this.isFulfilled()||this.isResolved()?(this._set("updateParameters",h),this.updateRequested&&!this.updateSuspended&&(this.updateRequested=!1,this.update(h))):this.updateRequested=!1}hitTest(h,g){return Promise.resolve(null)}supportsSpatialReference(h){return!0}canResume(){return!!this.spatialReferenceSupported&&!!super.canResume()&&this.visibleAtCurrentScale}getSuspendInfo(){const h=super.getSuspendInfo(),g=!this.spatialReferenceSupported,l=this.visibleAtCurrentScale;return g&&(h.spatialReferenceNotSupported=g),l&&(h.outsideScaleRange=l),h}addAttachHandles(h){this.addHandles(h,"attach")}};return(0,t._)([(0,s.Cb)()],o.prototype,"attached",void 0),(0,t._)([(0,s.Cb)({type:m,set(h){const g=(0,c.Z)(h,this._get("clips"),m);this._set("clips",g)}})],o.prototype,"clips",void 0),(0,t._)([(0,s.Cb)()],o.prototype,"container",void 0),(0,t._)([(0,s.Cb)()],o.prototype,"moving",void 0),(0,t._)([(0,s.Cb)({readOnly:!0})],o.prototype,"spatialReferenceSupported",null),(0,t._)([(0,s.Cb)({readOnly:!0})],o.prototype,"updateParameters",void 0),(0,t._)([(0,s.Cb)()],o.prototype,"updateRequested",void 0),(0,t._)([(0,s.Cb)()],o.prototype,"updateSuspended",null),(0,t._)([(0,s.Cb)()],o.prototype,"updating",null),(0,t._)([(0,s.Cb)()],o.prototype,"view",void 0),(0,t._)([(0,s.Cb)({readOnly:!0})],o.prototype,"visibleAtCurrentScale",void 0),(0,t._)([(0,s.Cb)({type:a.Z})],o.prototype,"highlightOptions",void 0),o=(0,t._)([(0,v.j)("esri.views.2d.layers.LayerView2D")],o),o}},11349:(b,u,e)=>{e.r(u),e.d(u,{default:()=>M});var t=e(17626),_=e(91558),c=e(88879),C=e(62208),i=e(32917),s=e(77712),v=(e(8314),e(63290),e(4619),e(76898)),f=e(51470),P=e(79608),a=e(86810);let y=class extends((0,P.J)(a.wq)){constructor(p){super(p),this.frameCenter=null,this.frameOutline=null,this.lineOfSight=null,this.sensorLocation=null,this.sensorTrail=null}};(0,t._)([(0,s.Cb)({type:Boolean})],y.prototype,"frameCenter",void 0),(0,t._)([(0,s.Cb)({type:Boolean})],y.prototype,"frameOutline",void 0),(0,t._)([(0,s.Cb)({type:Boolean})],y.prototype,"lineOfSight",void 0),(0,t._)([(0,s.Cb)({type:Boolean})],y.prototype,"sensorLocation",void 0),(0,t._)([(0,s.Cb)({type:Boolean})],y.prototype,"sensorTrail",void 0),y=(0,t._)([(0,v.j)("esri.layers.support.TelemetryDisplay")],y);const r=y;var d=e(56800),D=e(36275),T=e(61005),L=e(45611);const E=new _.Z([255,127,0]);let m=class extends((0,d.y)(L.Z)){constructor(){super(...arguments),this._graphicsLayer=new f.Z,this._frameOutlineGraphic=new c.Z({symbol:{type:"simple-fill",outline:{type:"simple-line",color:E}}}),this._sensorTrailGraphic=new c.Z({symbol:{type:"simple-line",color:E}}),this._lineOfSightGraphic=new c.Z({symbol:{type:"simple-line",color:E}}),this._sensorLocationGraphic=new c.Z({symbol:{type:"simple-marker",color:E}}),this._frameCenterGraphic=new c.Z({symbol:{type:"simple-marker",color:E}}),this.layer=null,this.symbolColor=E,this.visibleTelemetryElements=null}destroy(){this._graphicsLayer=(0,C.SC)(this._graphicsLayer)}initialize(){this.addHandles((0,i.YP)(()=>this.symbolColor,()=>{this._frameOutlineGraphic.symbol.outline.color=this.symbolColor,this._sensorTrailGraphic.symbol.color=this.symbolColor,this._lineOfSightGraphic.symbol.color=this.symbolColor,this._sensorLocationGraphic.symbol.color=this.symbolColor,this._frameCenterGraphic.symbol.color=this.symbolColor},i.nn)),this._graphicsLayer.graphics.addMany([this._frameOutlineGraphic,this._sensorTrailGraphic,this._lineOfSightGraphic,this._sensorLocationGraphic,this._frameCenterGraphic]),this.visibleTelemetryElements=new r({frameCenter:this.layer.telemetryDisplay?.frameCenter??!0,frameOutline:this.layer.telemetryDisplay?.frameOutline??!0,lineOfSight:this.layer.telemetryDisplay?.lineOfSight??!0,sensorLocation:this.layer.telemetryDisplay?.sensorLocation??!0,sensorTrail:this.layer.telemetryDisplay?.sensorTrail??!0})}attach(){this.graphicsView=new T.Z({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this._graphicsLayer.graphics,container:new D.Z(this.view.featuresTilingScheme)}),this.container.addChild(this.graphicsView.container),this.addAttachHandles(this._graphicsLayer.on("graphic-update",this.graphicsView.graphicUpdateHandler)),this.addAttachHandles([(0,i.YP)(()=>[this.layer.telemetryDisplay?.frameCenter,this.layer.telemetryDisplay?.frameOutline,this.layer.telemetryDisplay?.sensorLocation,this.layer.telemetryDisplay?.sensorTrail,this.layer.telemetryDisplay?.lineOfSight],()=>this._updateVisibleTelemetryElements(),i.nn),(0,i.YP)(()=>[this.layer.telemetry,this.visibleTelemetryElements?.frameCenter,this.visibleTelemetryElements?.frameOutline,this.visibleTelemetryElements?.sensorLocation,this.visibleTelemetryElements?.sensorTrail,this.visibleTelemetryElements?.lineOfSight],()=>this._updateGraphicGeometries(),i.nn)])}detach(){this.container.removeAllChildren(),this.graphicsView=(0,C.SC)(this.graphicsView)}supportsSpatialReference(p){return!0}moveStart(){}moveEnd(){}viewChange(){this.graphicsView.viewChange()}update(p){this.graphicsView.processUpdate(p)}isUpdating(){return!this.graphicsView||this.graphicsView.updating}_updateVisibleTelemetryElements(){this.visibleTelemetryElements&&this.layer.telemetryDisplay&&(this.visibleTelemetryElements.frameCenter=this.layer.telemetryDisplay.frameCenter,this.visibleTelemetryElements.frameOutline=this.layer.telemetryDisplay.frameOutline,this.visibleTelemetryElements.lineOfSight=this.layer.telemetryDisplay.lineOfSight,this.visibleTelemetryElements.sensorLocation=this.layer.telemetryDisplay.sensorLocation,this.visibleTelemetryElements.sensorTrail=this.layer.telemetryDisplay.sensorTrail)}_updateGraphicGeometries(){const{telemetry:p}=this.layer,{visibleTelemetryElements:o}=this;p&&o&&(this._frameOutlineGraphic.geometry=o.frameOutline&&p.frameOutline?this.layer.telemetry.frameOutline:null,this._sensorTrailGraphic.geometry=o.sensorTrail&&p.sensorTrail?this.layer.telemetry.sensorTrail:null,this._lineOfSightGraphic.geometry=o.lineOfSight&&p.lineOfSight?this.layer.telemetry.lineOfSight:null,this._sensorLocationGraphic.geometry=o.sensorLocation&&p.sensorLocation?this.layer.telemetry.sensorLocation:null,this._frameCenterGraphic.geometry=o.frameCenter&&p.frameCenter?this.layer.telemetry.frameCenter:null)}};(0,t._)([(0,s.Cb)()],m.prototype,"graphicsView",void 0),(0,t._)([(0,s.Cb)()],m.prototype,"layer",void 0),(0,t._)([(0,s.Cb)()],m.prototype,"symbolColor",void 0),(0,t._)([(0,s.Cb)({type:r})],m.prototype,"visibleTelemetryElements",void 0),m=(0,t._)([(0,v.j)("esri.views.2d.layers.VideoLayerView2D")],m);const M=m},45611:(b,u,e)=>{e.d(u,{Z:()=>y});var t=e(17626),_=e(83761),c=e(61885),C=e(61996),i=e(63290),s=e(62208),O=e(60330),n=e(77712),f=(e(8314),e(4619),e(76898)),P=e(11426);let a=class extends((0,C.IG)((0,O.v)(c.Z.EventedMixin(_.Z)))){constructor(r){super(r),this._updatingHandles=new P.R,this.layer=null,this.parent=null}initialize(){this.when().catch(r=>{if("layerview:create-error"!==r.name){const d=this.layer&&this.layer.id||"no id",D=this.layer?.title||"no title";i.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${D}', id: '${d}')`,r)}})}destroy(){this._updatingHandles=(0,s.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(r){this._overrideIfSome("visible",r)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const r=this.parent?.suspended?this.parent.suspendInfo:{};return this.view?.ready||(r.viewNotReady=!0),this.layer&&this.layer.loaded||(r.layerNotLoaded=!0),this.visible||(r.layerInvisible=!0),r}isUpdating(){return!1}};(0,t._)([(0,n.Cb)()],a.prototype,"fullOpacity",null),(0,t._)([(0,n.Cb)()],a.prototype,"layer",void 0),(0,t._)([(0,n.Cb)()],a.prototype,"parent",void 0),(0,t._)([(0,n.Cb)({readOnly:!0})],a.prototype,"suspended",null),(0,t._)([(0,n.Cb)({readOnly:!0})],a.prototype,"suspendInfo",null),(0,t._)([(0,n.Cb)({readOnly:!0})],a.prototype,"legendEnabled",null),(0,t._)([(0,n.Cb)({type:Boolean,readOnly:!0})],a.prototype,"updating",null),(0,t._)([(0,n.Cb)({readOnly:!0})],a.prototype,"updatingProgress",null),(0,t._)([(0,n.Cb)()],a.prototype,"visible",null),(0,t._)([(0,n.Cb)()],a.prototype,"view",void 0),a=(0,t._)([(0,f.j)("esri.views.layers.LayerView")],a);const y=a},90135:(b,u,e)=>{e.d(u,{Z:()=>R});var t=e(17626),_=e(86810),c=e(77712),O=(e(8314),e(63290),e(4619),e(76898));let n=class extends _.wq{get version(){return this.commitVersionProperties(),(this._get("version")||0)+1}};(0,t._)([(0,c.Cb)({readOnly:!0})],n.prototype,"version",null),n=(0,t._)([(0,O.j)("esri.views.layers.support.ClipArea")],n);const R=n},74835:(b,u,e)=>{e.d(u,{Z:()=>d});var a,t=e(17626),c=(e(29132),e(77712)),O=(e(8314),e(63290),e(4619),e(76898)),n=e(21674),R=e(91179),v=e(90135),f=e(2004),P=e(37118);const y={base:n.Z,key:"type",typeMap:{extent:f.Z,polygon:P.Z}};let r=a=class extends v.Z{constructor(D){super(D),this.type="geometry",this.geometry=null}clone(){return new a({geometry:this.geometry?.clone()??null})}commitVersionProperties(){this.commitProperty("geometry")}};(0,t._)([(0,c.Cb)({types:y,json:{read:R.im,write:!0}})],r.prototype,"geometry",void 0),r=a=(0,t._)([(0,O.j)("esri.views.layers.support.Geometry")],r);const d=r}}]);