"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[375],{17926:(te,M,i)=>{var u,g,a;i.d(M,{B:()=>g,P:()=>u}),(a=u||(u={}))[a.None=0]="None",a[a.Int16=1]="Int16",a[a.Int32=2]="Int32",function(a){a[a.Replace=0]="Replace",a[a.Outside=1]="Outside",a[a.Inside=2]="Inside",a[a.Finished=3]="Finished"}(g||(g={}))},30375:(te,M,i)=>{i.r(M),i.d(M,{destroyContext:()=>me,dracoDecompressPointCloudData:()=>R,filterObbsForModifications:()=>N,filterObbsForModificationsSync:()=>se,initialize:()=>pe,interpretObbModificationResults:()=>ye,process:()=>n,project:()=>K,setLegacySchema:()=>J,setModifications:()=>G,setModificationsSync:()=>re,test:()=>ge,transformNormals:()=>he});var u=i(15861),g=i(65234),a=i(36344),Y=i(57517),Z=i(28036),O=i(84161),v=i(17926),L=i(54346);function C(e){return(0,L.V)(`esri/libs/i3s/${e}`)}let D;var P=i(52565);function n(e){return m.apply(this,arguments)}function m(){return(m=(0,u.Z)(function*(e){s=yield x();const t=[e.geometryBuffer];return{result:oe(s,e,t),transferList:t}})).apply(this,arguments)}function R(e){return E.apply(this,arguments)}function E(){return(E=(0,u.Z)(function*(e){s=yield x();const t=[e.geometryBuffer],{geometryBuffer:r}=e,c=r.byteLength,l=s._malloc(c),p=new Uint8Array(s.HEAPU8.buffer,l,c);p.set(new Uint8Array(r));const d=s.dracoDecompressPointCloudData(l,p.byteLength);if(s._free(l),d.error.length>0)throw new Error(`i3s.wasm: ${d.error}`);const y=d.featureIds?.length>0?d.featureIds.slice():null,f=d.positions.slice();return y&&t.push(y.buffer),t.push(f.buffer),{result:{positions:f,featureIds:y},transferList:t}})).apply(this,arguments)}function N(e){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)(function*(e){yield x(),se(e);const t={buffer:e.buffer};return{result:t,transferList:[t.buffer]}})).apply(this,arguments)}function G(e){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(e){yield x(),re(e)})).apply(this,arguments)}function J(e){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)(function*(e){s=yield x(),s.setLegacySchema(e.context,e.jsonSchema)})).apply(this,arguments)}function K(e){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(e){const{localMatrix:t,origin:r,positions:c,vertexSpace:l,localMode:p}=e,d=g.Z.fromJSON(e.inSpatialReference),y=g.Z.fromJSON(e.outSpatialReference);let f;if("georeferenced"===l.type&&null==l.origin){const[{projectBuffer:h},{initializeProjection:A}]=yield Promise.all([Promise.resolve().then(i.bind(i,39774)),Promise.resolve().then(i.bind(i,55915))]);yield A(d,y),f=new Float64Array(c.length),h(c,d,0,f,y,0,f.length/3)}else{const h="georeferenced"===l.type?Y.Z.fromJSON(l):Z.Z.fromJSON(l),{project:A}=yield Promise.resolve().then(i.bind(i,60853));f=(0,a.mB)(A({positions:c,transform:t?{localMatrix:t}:void 0,vertexSpace:h,inSpatialReference:d,outSpatialReference:y,localMode:p}))}const w=f.length,[X,k,_]=r;for(let h=0;h<w;h+=3)f[h]-=X,f[h+1]-=k,f[h+2]-=_;return{result:{projected:f,original:c},transferList:[f.buffer,c.buffer]}})).apply(this,arguments)}function he(e){return z.apply(this,arguments)}function z(){return(z=(0,u.Z)(function*({normalMatrix:e,normals:t}){const r=new Float32Array(t.length);return(0,O.b)(r,t,e),(0,O.n)(r,r),{result:{transformed:r,original:t},transferList:[r.buffer,t.buffer]}})).apply(this,arguments)}function me(e){ie(e)}let H,s;function re(e){if(!s)return;const t=e.modifications,r=s._malloc(8*t.length),c=new Float64Array(s.HEAPU8.buffer,r,t.length);for(let l=0;l<t.length;++l)c[l]=t[l];s.setModifications(e.context,r,t.length,e.isGeodetic),s._free(r)}function oe(e,t,r){const{context:c,localOrigin:l,globalTrafo:p,mbs:d,obbData:y,elevationOffset:f,geometryBuffer:w,geometryDescriptor:X,indexToVertexProjector:k,vertexToRenderProjector:_}=t,h=e._malloc(w.byteLength),q=e._malloc(33*Float64Array.BYTES_PER_ELEMENT),ae=new Uint8Array(e.HEAPU8.buffer,h,w.byteLength);ae.set(new Uint8Array(w));const b=new Float64Array(e.HEAPU8.buffer,q,33);W(b,l);let j=b.byteOffset+3*b.BYTES_PER_ELEMENT,V=new Float64Array(b.buffer,j);W(V,p),j+=16*b.BYTES_PER_ELEMENT,V=new Float64Array(b.buffer,j),W(V,d),j+=4*b.BYTES_PER_ELEMENT,y&&(V=new Float64Array(b.buffer,j),W(V,y));const le=X,be={isDraco:!1,isLegacy:!1,color:t.layouts.some(I=>I.some(S=>"color"===S.name)),normal:t.needNormals&&t.layouts.some(I=>I.some(S=>"normalCompressed"===S.name)),uv0:t.layouts.some(I=>I.some(S=>"uv0"===S.name)),uvRegion:t.layouts.some(I=>I.some(S=>"uvRegion"===S.name)),featureIndex:le.featureIndex},o=e.process(c,!!t.obbData,h,ae.byteLength,le,be,q,f,k,_,t.normalReferenceFrame);if(e._free(q),e._free(h),o.error.length>0)throw new Error(`i3s.wasm: ${o.error}`);if(o.discarded)return null;const ee=o.componentOffsets.length>0?o.componentOffsets.slice():null,ne=o.featureIds.length>0?o.featureIds.slice():null,ve=o.anchorIds.length>0?Array.from(o.anchorIds):null,Re=o.anchors.length>0?Array.from(o.anchors):null,ce=o.interleavedVertedData.slice().buffer,fe=o.indicesType===v.P.Int16?new Uint16Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/2).slice():new Uint32Array(o.indices.buffer,o.indices.byteOffset,o.indices.byteLength/4).slice(),ue=o.positions.slice(),de=o.positionIndicesType===v.P.Int16?new Uint16Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/2).slice():new Uint32Array(o.positionIndices.buffer,o.positionIndices.byteOffset,o.positionIndices.byteLength/4).slice(),Ee={layout:t.layouts[0],interleavedVertexData:ce,indices:fe,hasColors:o.hasColors,hasModifications:o.hasModifications,positionData:{data:ue,indices:de}};return ne&&r.push(ne.buffer),ee&&r.push(ee.buffer),r.push(ce),r.push(fe.buffer),r.push(ue.buffer),r.push(de.buffer),{componentOffsets:ee,featureIds:ne,anchorIds:ve,anchors:Re,transformedGeometry:Ee,obb:o.obb}}function ye(e){return 0===e?P.O4.Unmodified:1===e?P.O4.PotentiallyModified:2===e?P.O4.Culled:P.O4.Unknown}function se(e){if(!s)return;const{context:t,buffer:r}=e,c=s._malloc(r.byteLength),l=r.byteLength/Float64Array.BYTES_PER_ELEMENT,p=new Float64Array(s.HEAPU8.buffer,c,l),d=new Float64Array(r);p.set(d),s.filterOBBs(t,c,l),d.set(p),s._free(c)}function ie(e){s&&0===s.destroy(e)&&(s=null)}function W(e,t){for(let r=0;r<t.length;++r)e[r]=t[r]}function pe(){return Q.apply(this,arguments)}function Q(){return(Q=(0,u.Z)(function*(){s||(yield x())})).apply(this,arguments)}function x(){return s?Promise.resolve(s):(H||(H=function U(){return D||(D=new Promise(e=>i.e(5979).then(i.bind(i,85979)).then(t=>t.i).then(({default:t})=>{const r=t({locateFile:C,onRuntimeInitialized:()=>e(r)});delete r.then})).catch(e=>{throw e})),D}().then(e=>(s=e,H=null,s))),H)}const ge={transform:(e,t)=>s&&oe(s,e,t),destroy:ie}},52565:(te,M,i)=>{i.d(M,{$i:()=>Z,FE:()=>C,Hw:()=>L,NB:()=>D,O4:()=>v,U_:()=>O,oQ:()=>P,w5:()=>U});var O,v,L,U,C,n,u=i(1503),g=i(97126),a=i(42964),Y=i(74993);class Z extends Y.r{constructor(m,R){super(NaN,NaN),this.id=m,this.serviceMbsInIndexSR=R,this.serviceMbsInRenderSR=(0,g.f)(0,0,0,-1)}invalidateServiceBVsInRenderSR(){(0,a.WD)(this.serviceMbsInRenderSR),this.serviceObbInRenderSR?.invalidate()}shareServiceBVsInRenderSRWith(m){this.serviceObbInRenderSR=m.serviceObbInRenderSR,this.serviceMbsInRenderSR=m.serviceMbsInRenderSR}}(n=O||(O={}))[n.Unmodified=0]="Unmodified",n[n.Culled=1]="Culled",n[n.NotChecked=2]="NotChecked",function(n){n[n.Unmodified=0]="Unmodified",n[n.PotentiallyModified=1]="PotentiallyModified",n[n.Culled=2]="Culled",n[n.Unknown=3]="Unknown",n[n.NotChecked=4]="NotChecked"}(v||(v={}));class D extends Z{constructor(m,R,E,N,B,G,F,J,T,K){super(m,E),this.index=R,this.childCount=N,this.level=B,this.resources=G,this.version=F,this.lodMetric=J,this.maxError=T,this.numFeatures=K,this.failed=!1,this.cacheState=L.Unknown,this.vertexCount=0,this.memory=0,this.childrenLoaded=0,this.hasModifications=!1,this.imModificationImpact=v.NotChecked,this.elevationAgnosticBoundingVolume=(0,u.al)(0,0,0,-1)}invalidateServiceBVsInRenderSR(){super.invalidateServiceBVsInRenderSR(),this.elevationAgnosticBoundingVolume[3]=-1}}(function(n){n[n.Unknown=0]="Unknown",n[n.Uncached=1]="Uncached",n[n.Cached=2]="Cached"})(L||(L={})),function(n){n[n.None=0]="None",n[n.MaxScreenThreshold=1]="MaxScreenThreshold",n[n.ScreenSpaceRelative=2]="ScreenSpaceRelative",n[n.RemovedFeatureDiameter=3]="RemovedFeatureDiameter",n[n.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"}(U||(U={})),function(n){n[n.Hole=0]="Hole",n[n.Leaf=1]="Leaf"}(C||(C={}));class P{constructor(m,R,E,N){this.nodeHasLOD=m,this.isChosen=R,this.lodLevel=E,this.version=N}}}}]);