"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[9628],{95324:(Pe,ee,i)=>{function M(g){return null!=z(g)||null!=y(g)}function k(g){return T.test(g)}function F(g){return z(g)??y(g)}function y(g){const c=new Date(g);return function B(g,c){if(Number.isNaN(g.getTime()))return!1;let d=!0;if(x&&/\d+\W*$/.test(c)){const O=c.match(/[a-zA-Z]{2,}/);if(O){let w=!1,j=0;for(;!w&&j<=O.length;)w=!A.test(O[j]),j++;d=!w}}return d}(c,g)?Number.isNaN(c.getTime())?null:c.getTime()-6e4*c.getTimezoneOffset():null}function z(g){const c=T.exec(g);if(!c?.groups)return null;const d=c.groups,O=+d.year,w=+d.month-1,j=+d.day,N=+(d.hours??"0"),v=+(d.minutes??"0"),U=+(d.seconds??"0");if(N>23||v>59||U>59)return null;const p=d.ms??"0",_=p?+p.padEnd(3,"0").substring(0,3):0;let D;return D=d.isUTC||!d.offsetSign?Date.UTC(O,w,j,N,v,U,_):6e4*("+"===d.offsetSign?-1:1)*(60*+d.offsetHours+ +d.offsetMinutes)+Date.UTC(O,w,j,N,v,U,_),Number.isNaN(D)?null:D}i.d(ee,{mu:()=>k,of:()=>M,sG:()=>F});const T=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/,A=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,x=!Number.isNaN(new Date("technology 10").getTime())},58775:(Pe,ee,i)=>{i.d(ee,{O3:()=>Te,lG:()=>je,my:()=>de,q9:()=>A});var M=i(95324),k=i(26584),F=i(37053),y=i(66385),z=i(88071),T=i(90194);const B={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function A(e){return B[e]}function*x(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const n of e.features)n&&(yield n)}}function*g(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const n of e.coordinates)yield*n;break;case"MultiPolygon":for(const n of e.coordinates)for(const s of n)yield*s}}function d(e){for(const n of e)if(n.length>2)return!0;return!1}function j(e){let n=0;for(let s=0;s<e.length;s++){const l=e[s],h=e[(s+1)%e.length];n+=l[0]*h[1]-h[0]*l[1]}return n<=0}function N(e){const n=e[0],s=e[e.length-1];return n[0]===s[0]&&n[1]===s[1]&&n[2]===s[2]||e.push(n),e}function v(e,n,s){switch(n.type){case"LineString":return function U(e,n,s){return J(e,n.coordinates,s),e}(e,n,s);case"MultiLineString":return function p(e,n,s){for(const l of n.coordinates)J(e,l,s);return e}(e,n,s);case"MultiPoint":return function _(e,n,s){return J(e,n.coordinates,s),e}(e,n,s);case"MultiPolygon":return function D(e,n,s){for(const l of n.coordinates){S(e,l[0],s);for(let h=1;h<l.length;h++)H(e,l[h],s)}return e}(e,n,s);case"Point":return function re(e,n,s){return ae(e,n.coordinates,s),e}(e,n,s);case"Polygon":return function m(e,n,s){const l=n.coordinates;S(e,l[0],s);for(let h=1;h<l.length;h++)H(e,l[h],s);return e}(e,n,s)}}function S(e,n,s){const l=N(n);!function O(e){return!j(e)}(l)?J(e,l,s):le(e,l,s)}function H(e,n,s){const l=N(n);!function w(e){return j(e)}(l)?J(e,l,s):le(e,l,s)}function J(e,n,s){for(const l of n)ae(e,l,s);e.lengths.push(n.length)}function le(e,n,s){for(let l=n.length-1;l>=0;l--)ae(e,n[l],s);e.lengths.push(n.length)}function ae(e,n,s){const[l,h,Z]=n;e.coords.push(l,h),s.hasZ&&e.coords.push(Z||0)}function ce(e){switch(typeof e){case"string":return(0,M.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function Te(e,n=4326){if(!e)throw new k.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new k.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:s}=e;if(!s)return;const l="string"==typeof s?s:"name"===s.type?s.properties.name:"EPSG"===s.type?s.properties.code:null,h=(0,F.oR)({wkid:n})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(`.*(${n})$`,"i");if(!l||!h.test(l))throw new k.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:s})}function de(e,n={}){const s=[],l=new Set,h=new Set;let Z,oe=!1,I=null,G=!1,{geometryType:K=null}=n,pe=!1;for(const ie of x(e)){const{geometry:b,properties:$,id:t}=ie;if((!b||(K||(K=A(b.type)),A(b.type)===K))&&(oe||(oe=d(g(b))),G||(G=null!=t,G&&(Z=typeof t,$&&(I=Object.keys($).filter(o=>$[o]===t)))),$&&I&&G&&null!=t&&(I.length>1?I=I.filter(o=>$[o]===t):1===I.length&&(I=$[I[0]]===t?I:[])),!pe&&$)){let o=!0;for(const r in $){if(l.has(r))continue;const u=$[r];if(null==u){o=!1,h.add(r);continue}const a=ce(u);if("unknown"===a){h.add(r);continue}h.delete(r),l.add(r);const E=(0,T.q6)(r);E&&s.push({name:E,alias:r,type:a})}pe=o}}const fe=(0,T.q6)(1===I?.length&&I[0]||null)??void 0;if(fe)for(const ie of s)if(ie.name===fe&&(0,T.H7)(ie)){ie.type="esriFieldTypeOID";break}return{fields:s,geometryType:K,hasZ:oe,objectIdFieldName:fe,objectIdFieldType:Z,unknownFields:Array.from(h)}}function je(e,n){return Array.from(function*c(e,n={}){const{geometryType:s,objectIdField:l}=n;for(const h of e){const{geometry:Z,properties:oe,id:I}=h;if(Z&&A(Z.type)!==s)continue;const G=oe||{};let K;l&&(K=G[l],null==I||K||(G[l]=K=I)),yield new y.u_(Z?v(new z.Z,Z,n):null,G,null,K??void 0)}}(x(e),n))}},56554:(Pe,ee,i)=>{i.d(ee,{Dm:()=>A,Hq:()=>x,MS:()=>g,bU:()=>z});var M=i(8314),k=i(58817),F=i(87757),y=i(24837);function z(c){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===c||"esriGeometryMultipoint"===c?y.I4:"esriGeometryPolyline"===c?y.ET:y.lF}}}const T=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let B=1;function A(c,d){if((0,M.Z)("esri-csp-restrictions"))return()=>({[d]:null,...c});try{let O=`this.${d} = null;`;for(const j in c)O+=`this${T.test(j)?`.${j}`:`["${j}"]`} = ${JSON.stringify(c[j])};`;const w=new Function(`\n      return class AttributesClass$${B++} {\n        constructor() {\n          ${O};\n        }\n      }\n    `)();return()=>new w}catch{return()=>({[d]:null,...c})}}function x(c={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,k.d9)(c)}}]}function g(c,d){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:c},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:d,supportsDelete:d,supportsEditing:d,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:d,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:F.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},editing:{supportsGeometryUpdate:d,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},35775:(Pe,ee,i)=>{i.d(ee,{O0:()=>c,av:()=>B,b:()=>v,d1:()=>x,og:()=>w});var M=i(15861),k=i(95324),F=i(37053),y=i(90194);class z{constructor(){this.code=null,this.description=null}}class T{constructor(_){this.error=new z,this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error.description=_}}function B(p){return new T(p)}class A{constructor(_){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=_}}function x(p){return new A(p)}const g=new Set;function c(p,_,D,re=!1){g.clear();for(const m in D){const S=p.get(m);if(!S)continue;const H=d(S,D[m]);if(g.add(S.name),S&&(re||S.editable)){const J=(0,y.Qc)(S,H);if(J)return B((0,y.vP)(J,S,H));_[S.name]=H}}for(const m of p?.requiredFields??[])if(!g.has(m.name))return B(`missing required field "${m.name}"`);return null}function d(p,_){let D=_;return(0,y.H7)(p)&&"string"==typeof _?D=parseFloat(_):(0,y.qN)(p)&&null!=_&&"string"!=typeof _?D=String(_):(0,y.y2)(p)&&"string"==typeof _&&(D=(0,k.sG)(_)),(0,y.Pz)(D)}let O;function w(p,_){if(!p||!(0,F.JY)(_))return p;if("rings"in p||"paths"in p){if(null==O)throw new TypeError("geometry engine not loaded");return O.simplify(_,p)}return p}function N(){return(N=(0,M.Z)(function*(){return null==O&&(O=yield Promise.all([i.e(4918),i.e(8592),i.e(5994)]).then(i.bind(i,32825))),O})).apply(this,arguments)}function v(p,_){return U.apply(this,arguments)}function U(){return U=(0,M.Z)(function*(p,_){!(0,F.JY)(p)||"esriGeometryPolygon"!==_&&"esriGeometryPolyline"!==_||(yield function j(){return N.apply(this,arguments)}())}),U.apply(this,arguments)}},89628:(Pe,ee,i)=>{i.d(ee,{$9:()=>re,G4:()=>ae,Lu:()=>D,WW:()=>h,d:()=>n,eS:()=>je,gp:()=>Te,j:()=>J,w9:()=>S,yN:()=>s});var M=i(15861),F=(i(29132),i(84792)),y=i(26584),z=i(63290),T=i(21726),B=i(37053),A=i(46367),x=i(82054),g=i(95786),c=i(58775),d=i(56554),O=i(35775),w=i(60466),j=i(85),N=i(28302),v=i(65234);const U=()=>z.Z.getLogger("esri.layers.ogc.ogcFeatureUtils"),p="startindex",_=new Set([p,"offset"]),D="http://www.opengis.net/def/crs/",re=`${D}OGC/1.3/CRS84`;var m,t;function S(t,o){return H.apply(this,arguments)}function H(){return(H=(0,M.Z)(function*(t,o,r={},u=5){const{links:a}=t,E=b(a,"items",m.geojson)||b(a,"http://www.opengis.net/def/rel/ogc/1.0/items",m.geojson);if(null==E)throw new y.Z("ogc-feature-layer:missing-items-page","Missing items url");const{apiKey:L,customParameters:Q,signal:V}=r,R=(0,T.hF)(E.href,t.landingPage.url),ne={limit:u,...Q,token:L},me=(0,T.fl)(R,ne),De={accept:m.geojson},{data:_e}=yield(0,F.Z)(me,{signal:V,headers:De}),ye=function $(t,o,r){if(!r)return;const u=b(r,"next",m.geojson),a=(0,T.mN)(u?.href)?.query;if(!a)return;const E=(0,T.mN)(t).query,L=Object.keys(E??{});return Object.entries(a).filter(([R])=>!L.includes(R)).find(([R,ne])=>_.has(R.toLowerCase())&&Number.parseInt(ne,10)===o)?.[0]}(me,u,_e.links)??p;(0,c.O3)(_e);const W=(0,c.my)(_e,{geometryType:o.geometryType}),te=o.fields||W.fields||[],Ie=null!=o.hasZ?o.hasZ:W.hasZ,Y=W.geometryType,X=o.objectIdField||W.objectIdFieldName||"OBJECTID";let P=o.timeInfo;const ge=te.find(({name:f})=>f===X);if(ge)ge.editable=!1,ge.nullable=!1;else{if(!W.objectIdFieldType)throw new y.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");te.unshift({name:X,alias:X,type:"number"===W.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1})}if(X!==W.objectIdFieldName){const f=te.find(({name:C})=>C===W.objectIdFieldName);f&&(f.type="esriFieldTypeInteger")}te===W.fields&&W.unknownFields.length>0&&U().warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:W.unknownFields}});for(const f of te){if(null==f.name&&(f.name=f.alias),null==f.alias&&(f.alias=f.name),"esriFieldTypeOID"!==f.type&&"esriFieldTypeGlobalID"!==f.type&&(f.editable=null==f.editable||!!f.editable,f.nullable=null==f.nullable||!!f.nullable),!f.name)throw new y.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:f});if(!j.v.jsonValues.includes(f.type))throw new y.Z("ogc-feature-layer:invalid-field-type",`invalid type for field "${f.name}"`,{field:f})}if(P){const f=new w.Z(te);if(P.startTimeField){const C=f.get(P.startTimeField);C?(P.startTimeField=C.name,C.type="esriFieldTypeDate"):P.startTimeField=null}if(P.endTimeField){const C=f.get(P.endTimeField);C?(P.endTimeField=C.name,C.type="esriFieldTypeDate"):P.endTimeField=null}if(P.trackIdField){const C=f.get(P.trackIdField);C?P.trackIdField=C.name:(P.trackIdField=null,U().warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:P}}))}P.timeReference||={timeZoneIANA:N.pt},P.startTimeField||P.endTimeField||(U().warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:P}}),P=null)}return{drawingInfo:Y?(0,d.bU)(Y):null,extent:ie(t),geometryType:Y,fields:te,hasZ:!!Ie,objectIdField:X,paginationParameter:ye,timeInfo:P}})).apply(this,arguments)}function J(t){return le.apply(this,arguments)}function le(){return(le=(0,M.Z)(function*(t,o={}){const{links:r,url:u}=t,a=b(r,"data",m.json)||b(r,"http://www.opengis.net/def/rel/ogc/1.0/data",m.json);if(null==a)throw new y.Z("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:E,customParameters:L,signal:Q}=o,V=(0,T.hF)(a.href,u),{data:R}=yield(0,F.Z)(V,{signal:Q,headers:{accept:m.json},query:{...L,token:E}});for(const ne of R.collections)ne.landingPage=t;return R})).apply(this,arguments)}function ae(t){return ce.apply(this,arguments)}function ce(){return(ce=(0,M.Z)(function*(t,o={}){const{links:r,url:u}=t,a=b(r,"conformance",m.json)||b(r,"http://www.opengis.net/def/rel/ogc/1.0/conformance",m.json);if(null==a)throw new y.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:E,customParameters:L,signal:Q}=o,V=(0,T.hF)(a.href,u),{data:R}=yield(0,F.Z)(V,{signal:Q,headers:{accept:m.json},query:{...L,token:E}});return R})).apply(this,arguments)}function Te(t){return de.apply(this,arguments)}function de(){return(de=(0,M.Z)(function*(t,o={}){const{apiKey:r,customParameters:u,signal:a}=o,{data:E}=yield(0,F.Z)(t,{signal:a,headers:{accept:m.json},query:{...u,token:r}});return E.url=t,E})).apply(this,arguments)}function je(t){return e.apply(this,arguments)}function e(){return(e=(0,M.Z)(function*(t,o={}){const{links:r,url:u}=t,a=b(r,"service-desc",m.openapi);if(null==a)return U().warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:E,customParameters:L,signal:Q}=o,V=(0,T.hF)(a.href,u),{data:R}=yield(0,F.Z)(V,{signal:Q,headers:{accept:m.openapi},query:{...L,token:E}});return R})).apply(this,arguments)}function n(t){const r=/^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(t)?.groups;if(!r)return null;const{authority:u,code:a}=r;switch(u.toLowerCase()){case"ogc":switch(a.toLowerCase()){case"crs27":return v.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return v.Z.WGS84.wkid;default:return null}case"esri":case"epsg":{const E=Number.parseInt(a,10);return Number.isNaN(E)?null:E}default:return null}}function s(t,o,r){return l.apply(this,arguments)}function l(){return(l=(0,M.Z)(function*(t,o,r){const u=yield h(t,o,r);return(0,x.cn)(u)})).apply(this,arguments)}function h(t,o,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,M.Z)(function*(t,o,r){const{collection:{links:u,landingPage:{url:a}},layerDefinition:E,maxRecordCount:L,queryParameters:{apiKey:Q,customParameters:V},spatialReference:R,supportedCrs:ne}=t,me=b(u,"items",m.geojson)||b(u,"http://www.opengis.net/def/rel/ogc/1.0/items",m.geojson);if(null==me)throw new y.Z("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:De,num:_e,start:ye,timeExtent:W,where:te}=o;if(o.objectIds)throw new y.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with object ids are not supported");const Ie=v.Z.fromJSON(R),Y=o.outSpatialReference??Ie,X=Y.isWGS84?null:I(Y,ne),P=function fe(t,o){if(!function oe(t){return null!=t&&"extent"===t.type}(t))return null;const{spatialReference:r}=t;if(!r||r.isWGS84)return{bbox:G(t)};const u=I(r,o);return null!=u?{bbox:G(t),"bbox-crs":u}:r.isWebMercator?{bbox:G((0,A.iV)(t,v.Z.WGS84))}:null}(De,ne),ge=function K(t){if(null==t)return null;const{start:o,end:r}=t;return`${null!=o?o.toISOString():".."}/${null!=r?r.toISOString():".."}`}(W),f=function pe(t){return null!=t&&t&&"1=1"!==t?t:null}(te),C=_e??(null==ye?L:10),we=0===ye?void 0:ye,{fields:be,geometryType:Oe,hasZ:Me,objectIdField:he,paginationParameter:Ce}=E,ve=(0,T.hF)(me.href,a),{data:Fe}=yield(0,F.Z)(ve,{...r,query:{...V,...P,crs:X,datetime:ge,query:f,limit:C,[Ce]:we,token:Q},headers:{accept:m.geojson}}),Ee=(0,c.lG)(Fe,{geometryType:Oe,hasZ:Me,objectIdField:he}),Ue=Ee.length===C&&!!b(Fe.links??[],"next",m.geojson),Re=new w.Z(be);for(const q of Ee){const ue={};(0,O.O0)(Re,ue,q.attributes),ue[he]=q.attributes[he],q.attributes=ue}if(!X&&Y.isWebMercator)for(const q of Ee)if(null!=q.geometry&&null!=Oe){const ue=(0,x.di)(q.geometry,Oe,Me,!1);ue.spatialReference=v.Z.WGS84,q.geometry=(0,x.GH)((0,A.iV)(ue,Y))}for(const q of Ee)q.objectId=q.attributes[he];const Ae=X||!X&&Y.isWebMercator?Y.toJSON():B.YU,se=new g.Z;return se.exceededTransferLimit=Ue,se.features=Ee,se.fields=be,se.geometryType=Oe,se.hasZ=Me,se.objectIdFieldName=he,se.spatialReference=Ae,se})).apply(this,arguments)}function I(t,o){const{isWebMercator:r,wkid:u}=t;if(!u)return null;const a=r?o[3857]??o[102100]??o[102113]??o[900913]:o[t.wkid];return a?`${D}${a}`:null}function G(t){if(null==t)return"";const{xmin:o,ymin:r,xmax:u,ymax:a}=t;return`${o},${r},${u},${a}`}function ie(t){const o=t.extent?.spatial;if(!o)return null;const r=o.bbox[0],u=4===r.length,[a,E]=r;return{xmin:a,ymin:E,xmax:u?r[2]:r[3],ymax:u?r[3]:r[4],zmin:u?void 0:r[2],zmax:u?void 0:r[5],spatialReference:v.Z.WGS84.toJSON()}}function b(t,o,r){return t.find(({rel:u,type:a})=>u===o&&a===r)??t.find(({rel:u,type:a})=>u===o&&!a)}(t=m||(m={})).json="application/json",t.geojson="application/geo+json",t.openapi="application/vnd.oai.openapi+json;version=3.0"}}]);