"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[4578],{24578:(M,L,n)=>{n.r(L),n.d(L,{fromUrl:()=>x});var e=n(15861),v=n(26584),t=n(62208),r=n(21726),g=n(38305),i=n(17196),c=n(72469),I=n(30164),h=n(45205);const T={FeatureLayer:!0,SceneLayer:!0};function x(l){return E.apply(this,arguments)}function E(){return E=(0,e.Z)(function*(l){const o=l.properties?.customParameters,s=yield function G(l,o){return p.apply(this,arguments)}(l.url,o),a={...l.properties,url:l.url};if(!s.sublayerIds)return null!=s.layerOrTableId&&(a.layerId=s.layerOrTableId,a.sourceJSON=s.sourceJSON),new s.Constructor(a);const u=new((yield n.e(5964).then(n.bind(n,25964))).default)({title:s.parsedUrl.title});return function R(l,o,s){function a(u,y){const d={...s,layerId:u,sublayerTitleMode:"service-name"};return(0,t.pC)(y)&&(d.sourceJSON=y),new o.Constructor(d)}o.sublayerIds.forEach(u=>{const y=a(u,W(o.sublayerInfos,u));l.add(y)}),o.tableIds.forEach(u=>{const y=a(u,W(o.tableInfos,u));l.tables.add(y)})}(u,s,a),u}),E.apply(this,arguments)}function W(l,o){return l?l.find(s=>s.id===o):null}function p(){return p=(0,e.Z)(function*(l,o){let s=(0,g.Qc)(l);if((0,t.Wi)(s)&&(s=yield function K(l,o){return Z.apply(this,arguments)}(l,o)),(0,t.Wi)(s))throw new v.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:l});const{serverType:a,sublayer:u}=s;let y;const d={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(a){case"MapServer":y=null!=u?"FeatureLayer":(yield function N(l,o){return C.apply(this,arguments)}(l,o))?"TileLayer":"MapImageLayer";break;case"ImageServer":{const f=yield(0,h.T)(l,{customParameters:o}),{tileInfo:O,cacheType:S}=f;y=O?"LERC"!==O?.format?.toUpperCase()||S&&"elevation"!==S.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer";break}case"SceneServer":{const f=yield(0,h.T)(s.url.path,{customParameters:o});if(y="SceneLayer",f){const O=f?.layers;if("Voxel"===f?.layerType)y="VoxelLayer";else if(O?.length){const S=O[0]?.layerType;null!=S&&null!=c.fb[S]&&(y=c.fb[S])}}break}default:y=d[a]}const m="FeatureServer"===a,P={parsedUrl:s,Constructor:null,layerOrTableId:m?u:void 0,sublayerIds:null,tableIds:null};if(T[y]&&null==u){const f=yield function j(l,o,s){return D.apply(this,arguments)}(l,a,o);m&&(P.sublayerInfos=f.layerInfos,P.tableInfos=f.tableInfos),f.layerIds.length+f.tableIds.length!==1?(P.sublayerIds=f.layerIds,P.tableIds=f.tableIds):m&&(P.layerOrTableId=f.layerIds[0]??f.tableIds[0],P.sourceJSON=f.layerInfos?.[0]??f.tableInfos?.[0])}return P.Constructor=yield function F(l){return U.apply(this,arguments)}(y),P}),p.apply(this,arguments)}function Z(){return(Z=(0,e.Z)(function*(l,o){const s=yield(0,h.T)(l,{customParameters:o});let a=null,u=null;const y=s.type;if("Feature Layer"===y||"Table"===y?(a="FeatureServer",u=s.id??null):"indexedVector"===y?a="VectorTileServer":s.hasOwnProperty("mapName")?a="MapServer":s.hasOwnProperty("bandCount")&&s.hasOwnProperty("pixelSizeX")?a="ImageServer":s.hasOwnProperty("maxRecordCount")&&s.hasOwnProperty("allowGeometryUpdates")?a="FeatureServer":s.hasOwnProperty("streamUrls")?a="StreamServer":B(s)?(a="SceneServer",u=s.id):s.hasOwnProperty("layers")&&B(s.layers?.[0])&&(a="SceneServer"),!a)return null;const d=null!=u?(0,g.DR)(l):null;return{title:(0,t.pC)(d)&&s.name||(0,r.vt)(l),serverType:a,sublayer:u,url:{path:(0,t.pC)(d)?d.serviceUrl:(0,r.mN)(l).path}}})).apply(this,arguments)}function B(l){return null!=l&&l.hasOwnProperty("store")&&l.hasOwnProperty("id")&&"number"==typeof l.id}function D(){return(D=(0,e.Z)(function*(l,o,s){let a,u=!1;if("FeatureServer"===o){const m=yield(0,i.V)(l,{customParameters:s});u=!!m.layersJSON,a=m.layersJSON||m.serviceJSON}else a=yield(0,h.T)(l,{customParameters:s});const y=a?.layers,d=a?.tables;return{layerIds:y?.map(m=>m.id).reverse()||[],tableIds:d?.map(m=>m.id).reverse()||[],layerInfos:u?y:[],tableInfos:u?d:[]}})).apply(this,arguments)}function U(){return(U=(0,e.Z)(function*(l){return(0,I.T[l])()})).apply(this,arguments)}function C(){return(C=(0,e.Z)(function*(l,o){return(yield(0,h.T)(l,{customParameters:o})).tileInfo})).apply(this,arguments)}},17196:(M,L,n)=>{n.d(L,{V:()=>t});var e=n(15861),v=n(45205);function t(i,c){return r.apply(this,arguments)}function r(){return(r=(0,e.Z)(function*(i,c){const I=yield(0,v.T)(i,c);I.layers=I.layers.filter(g);const h={serviceJSON:I};if((I.currentVersion??0)<10.5)return h;const T=yield(0,v.T)(i+"/layers",c);return h.layersJSON={layers:T.layers.filter(g),tables:T.tables},h})).apply(this,arguments)}function g(i){return!i.type||"Feature Layer"===i.type}},30164:(M,L,n)=>{n.d(L,{T:()=>v});var e=n(15861);const v={BingMapsLayer:(t=(0,e.Z)(function*(){return(yield n.e(2248).then(n.bind(n,72248))).default}),function(){return t.apply(this,arguments)}),BuildingSceneLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2964),n.e(2455),n.e(9410),n.e(8592),n.e(676)]).then(n.bind(n,6189))).default});return function(){return t.apply(this,arguments)}}(),CSVLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(5625).then(n.bind(n,85625))).default});return function(){return t.apply(this,arguments)}}(),DimensionLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(7614)]).then(n.bind(n,17614))).default});return function(){return t.apply(this,arguments)}}(),ElevationLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5810)]).then(n.bind(n,75810))).default});return function(){return t.apply(this,arguments)}}(),FeatureLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,80415))).default});return function(){return t.apply(this,arguments)}}(),GeoJSONLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(2903).then(n.bind(n,72903))).default});return function(){return t.apply(this,arguments)}}(),GeoRSSLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6306).then(n.bind(n,96306))).default});return function(){return t.apply(this,arguments)}}(),GroupLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(5964).then(n.bind(n,25964))).default});return function(){return t.apply(this,arguments)}}(),ImageryLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(1533),n.e(1913),n.e(9400)]).then(n.bind(n,99400))).default});return function(){return t.apply(this,arguments)}}(),ImageryTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(1533),n.e(8594),n.e(580),n.e(1913),n.e(8592),n.e(6329)]).then(n.bind(n,86329))).default});return function(){return t.apply(this,arguments)}}(),IntegratedMeshLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2455),n.e(7867)]).then(n.bind(n,67867))).default});return function(){return t.apply(this,arguments)}}(),KMLLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(2701).then(n.bind(n,12701))).default});return function(){return t.apply(this,arguments)}}(),LineOfSightLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5628)]).then(n.bind(n,29457))).default});return function(){return t.apply(this,arguments)}}(),MapImageLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(5485),n.e(8887)]).then(n.bind(n,48887))).default});return function(){return t.apply(this,arguments)}}(),MapNotesLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(9114)]).then(n.bind(n,49114))).default});return function(){return t.apply(this,arguments)}}(),MediaLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(277)]).then(n.bind(n,60277))).default});return function(){return t.apply(this,arguments)}}(),OGCFeatureLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(9628),n.e(2955)]).then(n.bind(n,36554))).default});return function(){return t.apply(this,arguments)}}(),OpenStreetMapLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(5980)]).then(n.bind(n,71591))).default});return function(){return t.apply(this,arguments)}}(),OrientedImageryLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(725).then(n.bind(n,60725))).default});return function(){return t.apply(this,arguments)}}(),PointCloudLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2455),n.e(7155)]).then(n.bind(n,7155))).default});return function(){return t.apply(this,arguments)}}(),RouteLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(403),n.e(4940)]).then(n.bind(n,84940))).default});return function(){return t.apply(this,arguments)}}(),SceneLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2964),n.e(2455),n.e(8592),n.e(7559)]).then(n.bind(n,27559))).default});return function(){return t.apply(this,arguments)}}(),StreamLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(289).then(n.bind(n,70289))).default});return function(){return t.apply(this,arguments)}}(),SubtypeGroupLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(465).then(n.bind(n,20465))).default});return function(){return t.apply(this,arguments)}}(),TileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(5485),n.e(8592),n.e(9735)]).then(n.bind(n,59735))).default});return function(){return t.apply(this,arguments)}}(),UnknownLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6339).then(n.bind(n,56339))).default});return function(){return t.apply(this,arguments)}}(),UnsupportedLayer:function(){var t=(0,e.Z)(function*(){return(yield n.e(6240).then(n.bind(n,16240))).default});return function(){return t.apply(this,arguments)}}(),VectorTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8364),n.e(8592),n.e(3722)]).then(n.bind(n,10193))).default});return function(){return t.apply(this,arguments)}}(),VoxelLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(2455),n.e(6007)]).then(n.bind(n,26007))).default});return function(){return t.apply(this,arguments)}}(),WFSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(3774),n.e(8762)]).then(n.bind(n,98762))).default});return function(){return t.apply(this,arguments)}}(),WMSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(6894)]).then(n.bind(n,46894))).default});return function(){return t.apply(this,arguments)}}(),WMTSLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4223)]).then(n.bind(n,64223))).default});return function(){return t.apply(this,arguments)}}(),WebTileLayer:function(){var t=(0,e.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(2585)]).then(n.bind(n,28678))).default});return function(){return t.apply(this,arguments)}}()};var t},45205:(M,L,n)=>{n.d(L,{T:()=>t});var e=n(15861),v=n(84792);function t(g,i){return r.apply(this,arguments)}function r(){return(r=(0,e.Z)(function*(g,i){const{data:c}=yield(0,v.default)(g,{responseType:"json",query:{f:"json",...i?.customParameters,token:i?.apiKey}});return c})).apply(this,arguments)}}}]);