"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[6521],{36592:(Se,ie,f)=>{f.d(ie,{Q:()=>Q});var W=f(85931),v=f(77029),k=f(14259);class Q{constructor(s=9,c){this._compareMinX=I,this._compareMinY=U,this._toBBox=d=>d,this._maxEntries=Math.max(4,s||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),c&&("function"==typeof c?this._toBBox=c:this._initFormat(c)),this.clear()}destroy(){this.clear(),q.prune(),$.prune(),H.prune(),de.prune()}all(s){this._all(this._data,s)}search(s,c){let d=this._data;const p=this._toBBox;if(G(s,d))for(q.clear();d;){for(let g=0,P=d.children.length;g<P;g++){const M=d.children[g],E=d.leaf?p(M):M;G(s,E)&&(d.leaf?c(M):se(s,E)?this._all(M,c):q.push(M))}d=q.pop()}}collides(s){let c=this._data;const d=this._toBBox;if(!G(s,c))return!1;for(q.clear();c;){for(let p=0,g=c.children.length;p<g;p++){const P=c.children[p],M=c.leaf?d(P):P;if(G(s,M)){if(c.leaf||se(s,M))return!0;q.push(P)}}c=q.pop()}return!1}load(s){if(!s.length)return this;if(s.length<this._minEntries){for(let d=0,p=s.length;d<p;d++)this.insert(s[d]);return this}let c=this._build(s.slice(0,s.length),0,s.length-1,0);if(this._data.children.length)if(this._data.height===c.height)this._splitRoot(this._data,c);else{if(this._data.height<c.height){const d=this._data;this._data=c,c=d}this._insert(c,this._data.height-c.height-1,!0)}else this._data=c;return this}insert(s){return s&&this._insert(s,this._data.height-1),this}clear(){return this._data=new x([]),this}remove(s){if(!s)return this;let c,d=this._data,p=null,g=0,P=!1;const M=this._toBBox(s);for(H.clear(),de.clear();d||H.length>0;){if(d||(d=H.pop(),p=H.data[H.length-1],g=de.pop()??0,P=!0),d.leaf&&(c=(0,W.cq)(d.children,s,d.children.length,d.indexHint),-1!==c))return d.children.splice(c,1),H.push(d),this._condense(H),this;P||d.leaf||!se(d,M)?p?(g++,d=p.children[g],P=!1):d=null:(H.push(d),de.push(g),g=0,p=d,d=d.children[0])}return this}toJSON(){return this._data}fromJSON(s){return this._data=s,this}_all(s,c){let d=s;for($.clear();d;){if(!0===d.leaf)for(const p of d.children)c(p);else $.pushArray(d.children);d=$.pop()??null}}_build(s,c,d,p){const g=d-c+1;let P=this._maxEntries;if(g<=P){const L=new x(s.slice(c,d+1));return b(L,this._toBBox),L}p||(p=Math.ceil(Math.log(g)/Math.log(P)),P=Math.ceil(g/P**(p-1)));const M=new y([]);M.height=p;const E=Math.ceil(g/P),S=E*Math.ceil(Math.sqrt(P));re(s,c,d,S,this._compareMinX);for(let L=c;L<=d;L+=S){const Z=Math.min(L+S-1,d);re(s,L,Z,E,this._compareMinY);for(let X=L;X<=Z;X+=E){const me=Math.min(X+E-1,Z);M.children.push(this._build(s,X,me,p-1))}}return b(M,this._toBBox),M}_chooseSubtree(s,c,d,p){for(;p.push(c),!0!==c.leaf&&p.length-1!==d;){let g,P=1/0,M=1/0;for(let E=0,S=c.children.length;E<S;E++){const L=c.children[E],Z=O(L),X=D(s,L)-Z;X<M?(M=X,P=Z<P?Z:P,g=L):X===M&&Z<P&&(P=Z,g=L)}c=g||c.children[0]}return c}_insert(s,c,d){const g=d?s:(0,this._toBBox)(s);H.clear();const P=this._chooseSubtree(g,this._data,c,H);for(P.children.push(s),K(P,g);c>=0&&H.data[c].children.length>this._maxEntries;)this._split(H,c),c--;this._adjustParentBBoxes(g,H,c)}_split(s,c){const d=s.data[c],p=d.children.length,g=this._minEntries;this._chooseSplitAxis(d,g,p);const P=this._chooseSplitIndex(d,g,p);if(!P)return void console.log("  Error: assertion failed at PooledRBush._split: no valid split index");const M=d.children.splice(P,d.children.length-P),E=d.leaf?new x(M):new y(M);E.height=d.height,b(d,this._toBBox),b(E,this._toBBox),c?s.data[c-1].children.push(E):this._splitRoot(d,E)}_splitRoot(s,c){this._data=new y([s,c]),this._data.height=s.height+1,b(this._data,this._toBBox)}_chooseSplitIndex(s,c,d){let p,g,P;p=g=1/0;for(let M=c;M<=d-c;M++){const E=T(s,0,M,this._toBBox),S=T(s,M,d,this._toBBox),L=N(E,S),Z=O(E)+O(S);L<p?(p=L,P=M,g=Z<g?Z:g):L===p&&Z<g&&(g=Z,P=M)}return P}_chooseSplitAxis(s,c,d){const p=s.leaf?this._compareMinX:I,g=s.leaf?this._compareMinY:U;this._allDistMargin(s,c,d,p)<this._allDistMargin(s,c,d,g)&&s.children.sort(p)}_allDistMargin(s,c,d,p){s.children.sort(p);const g=this._toBBox,P=T(s,0,c,g),M=T(s,d-c,d,g);let E=j(P)+j(M);for(let S=c;S<d-c;S++){const L=s.children[S];K(P,s.leaf?g(L):L),E+=j(P)}for(let S=d-c-1;S>=c;S--){const L=s.children[S];K(M,s.leaf?g(L):L),E+=j(M)}return E}_adjustParentBBoxes(s,c,d){for(let p=d;p>=0;p--)K(c.data[p],s)}_condense(s){for(let c=s.length-1;c>=0;c--){const d=s.data[c];if(0===d.children.length)if(c>0){const p=s.data[c-1],g=p.children;g.splice((0,W.cq)(g,d,g.length,p.indexHint),1)}else this.clear();else b(d,this._toBBox)}}_initFormat(s){const c=["return a"," - b",";"];this._compareMinX=new Function("a","b",c.join(s[0])),this._compareMinY=new Function("a","b",c.join(s[1])),this._toBBox=new Function("a","return {minX: a"+s[0]+", minY: a"+s[1]+", maxX: a"+s[2]+", maxY: a"+s[3]+"};")}}function b(h,s){T(h,0,h.children.length,s,h)}function T(h,s,c,d,p){p||(p=new x([])),p.minX=1/0,p.minY=1/0,p.maxX=-1/0,p.maxY=-1/0;for(let g,P=s;P<c;P++)g=h.children[P],K(p,h.leaf?d(g):g);return p}function K(h,s){h.minX=Math.min(h.minX,s.minX),h.minY=Math.min(h.minY,s.minY),h.maxX=Math.max(h.maxX,s.maxX),h.maxY=Math.max(h.maxY,s.maxY)}function I(h,s){return h.minX-s.minX}function U(h,s){return h.minY-s.minY}function O(h){return(h.maxX-h.minX)*(h.maxY-h.minY)}function j(h){return h.maxX-h.minX+(h.maxY-h.minY)}function D(h,s){return(Math.max(s.maxX,h.maxX)-Math.min(s.minX,h.minX))*(Math.max(s.maxY,h.maxY)-Math.min(s.minY,h.minY))}function N(h,s){const c=Math.max(h.minX,s.minX),d=Math.max(h.minY,s.minY),p=Math.min(h.maxX,s.maxX),g=Math.min(h.maxY,s.maxY);return Math.max(0,p-c)*Math.max(0,g-d)}function se(h,s){return h.minX<=s.minX&&h.minY<=s.minY&&s.maxX<=h.maxX&&s.maxY<=h.maxY}function G(h,s){return s.minX<=h.maxX&&s.minY<=h.maxY&&s.maxX>=h.minX&&s.maxY>=h.minY}function re(h,s,c,d,p){const g=[s,c];for(;g.length;){const P=g.pop(),M=g.pop();if(P-M<=d)continue;const E=M+Math.ceil((P-M)/d/2)*d;(0,k.q)(h,E,M,P,p),g.push(M,E,E,P)}}const q=new v.Z,$=new v.Z,H=new v.Z,de=new v.Z({deallocator:void 0});class _{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class m extends _{constructor(){super(...arguments),this.height=1,this.indexHint=new W.SO}}class x extends m{constructor(s){super(),this.children=s,this.leaf=!0}}class y extends m{constructor(s){super(),this.children=s,this.leaf=!1}}},65629:(Se,ie,f)=>{f.d(ie,{SR:()=>U,Ui:()=>I});var W=f(86810),v=f(65401),k=f(32442),Q=f(25748),b=f(91179),T=f(74618),K=f(37053);function I(_){return O(_,!0)}function U(_){return O(_,!1)}function O(_,m){if(null==_)return null;const x=_.spatialReference,y=(0,K.C5)(x),h=(0,W.AK)(_)?_.toJSON():_;if(!y)return h;const s=(0,K.sS)(x)?102100:4326,c=T.UZ[s].maxX,d=T.UZ[s].minX;if((0,b.wp)(h))return D(h,c,d);if((0,b.aW)(h))return h.points=h.points.map(p=>D(p,c,d)),h;if((0,b.YX)(h))return function j(_,m){if(!m)return _;const x=function N(_,m){const x=[],{ymin:y,ymax:h,xmin:s,xmax:c}=_,d=_.xmax-_.xmin,[p,g]=m.valid,{x:P,frameId:M}=se(_.xmin,m),{x:E,frameId:S}=se(_.xmax,m),L=P===E&&d>0;if(d>2*g){const Z={xmin:s<c?P:E,ymin:y,xmax:g,ymax:h},X={xmin:p,ymin:y,xmax:s<c?E:P,ymax:h},me={xmin:0,ymin:y,xmax:g,ymax:h},Oe={xmin:p,ymin:y,xmax:0,ymax:h},pe=[],oe=[];G(Z,me)&&pe.push(M),G(Z,Oe)&&oe.push(M),G(X,me)&&pe.push(S),G(X,Oe)&&oe.push(S);for(let fe=M+1;fe<S;fe++)pe.push(fe),oe.push(fe);x.push(new $(Z,[M]),new $(X,[S]),new $(me,pe),new $(Oe,oe))}else P>E||L?x.push(new $({xmin:P,ymin:y,xmax:g,ymax:h},[M]),new $({xmin:p,ymin:y,xmax:E,ymax:h},[S])):x.push(new $({xmin:P,ymin:y,xmax:E,ymax:h},[M]));return x}(_,m).map(y=>y.extent);return x.length<2?x[0]||_:x.length>2?(_.xmin=m.valid[0],_.xmax=m.valid[1],_):{rings:x.map(y=>[[y.xmin,y.ymin],[y.xmin,y.ymax],[y.xmax,y.ymax],[y.xmax,y.ymin],[y.xmin,y.ymin]])}}(h,y);if((0,b.oU)(h)||(0,b.l9)(h)){const p=(0,k.$P)(H,h),g={xmin:p[0],ymin:p[1],xmax:p[2],ymax:p[3]},P=(0,T.XZ)(g.xmin,d)*(2*c),M=0===P?h:(0,T.Sy)(h,P);return g.xmin+=P,g.xmax+=P,g.xmax>c?q(M,c,m):g.xmin<d?q(M,d,m):M}return h}function D(_,m,x){if(Array.isArray(_)){const y=_[0];if(y>m){const h=(0,T.XZ)(y,m);_[0]=y+h*(-2*m)}else if(y<x){const h=(0,T.XZ)(y,x);_[0]=y+h*(-2*x)}}else{const y=_.x;if(y>m){const h=(0,T.XZ)(y,m);_.x+=h*(-2*m)}else if(y<x){const h=(0,T.XZ)(y,x);_.x+=h*(-2*x)}}return _}function se(_,m){const[x,y]=m.valid,h=2*y;let s,c=0;return _>y?(s=Math.ceil(Math.abs(_-y)/h),_-=s*h,c=s):_<x&&(s=Math.ceil(Math.abs(_-x)/h),_+=s*h,c=-s),{x:_,frameId:c}}function G(_,m){const{xmin:x,ymin:y,xmax:h,ymax:s}=m;return re(_,x,y)&&re(_,x,s)&&re(_,h,s)&&re(_,h,y)}function re(_,m,x){return m>=_.xmin&&m<=_.xmax&&x>=_.ymin&&x<=_.ymax}function q(_,m,x=!0){const y=!(0,b.l9)(_);if(y&&(0,Q.Zy)(_),x)return(new de).cut(_,m);const h=y?_.rings:_.paths,s=y?4:2,c=h.length,d=-2*m;for(let p=0;p<c;p++){const g=h[p];if(g&&g.length>=s){const P=[];for(const M of g)P.push([M[0]+d,M[1]]);h.push(P)}}return y?_.rings=h:_.paths=h,_}class ${constructor(m,x){this.extent=m,this.frameIds=x}}const H=(0,v.Ue)();class de{constructor(){this._linesIn=[],this._linesOut=[]}cut(m,x){let y;if(this._xCut=x,m.rings)this._closed=!0,y=m.rings,this._minPts=4;else{if(!m.paths)return null;this._closed=!1,y=m.paths,this._minPts=2}for(const s of y){if(!s||s.length<this._minPts)continue;let c=!0;for(const d of s)c?(this.moveTo(d),c=!1):this.lineTo(d);this._closed&&this.close()}this._pushLineIn(),this._pushLineOut(),y=[];for(const s of this._linesIn)s&&s.length>=this._minPts&&y.push(s);const h=-2*this._xCut;for(const s of this._linesOut)if(s&&s.length>=this._minPts){for(const c of s)c[0]+=h;y.push(s)}return this._closed?m.rings=y:m.paths=y,m}moveTo(m){this._pushLineIn(),this._pushLineOut(),this._prevSide=this._side(m[0]),this._moveTo(m[0],m[1],this._prevSide),this._prevPt=m,this._firstPt=m}lineTo(m){const x=this._side(m[0]);if(x*this._prevSide==-1){const y=this._intersect(this._prevPt,m);this._lineTo(this._xCut,y,0),this._prevSide=0,this._lineTo(m[0],m[1],x)}else this._lineTo(m[0],m[1],x);this._prevSide=x,this._prevPt=m}close(){const m=this._firstPt,x=this._prevPt;m[0]===x[0]&&m[1]===x[1]||this.lineTo(m),this._checkClosingPt(this._lineIn),this._checkClosingPt(this._lineOut)}_moveTo(m,x,y){this._closed?(this._lineIn.push([y<=0?m:this._xCut,x]),this._lineOut.push([y>=0?m:this._xCut,x])):(y<=0&&this._lineIn.push([m,x]),y>=0&&this._lineOut.push([m,x]))}_lineTo(m,x,y){this._closed?(this._addPolyVertex(this._lineIn,y<=0?m:this._xCut,x),this._addPolyVertex(this._lineOut,y>=0?m:this._xCut,x)):y<0?(0===this._prevSide&&this._pushLineOut(),this._lineIn.push([m,x])):y>0?(0===this._prevSide&&this._pushLineIn(),this._lineOut.push([m,x])):this._prevSide<0?(this._lineIn.push([m,x]),this._lineOut.push([m,x])):this._prevSide>0&&(this._lineOut.push([m,x]),this._lineIn.push([m,x]))}_addPolyVertex(m,x,y){const h=m.length;h>1&&m[h-1][0]===x&&m[h-2][0]===x?m[h-1][1]=y:m.push([x,y])}_checkClosingPt(m){const x=m.length;x>3&&m[0][0]===this._xCut&&m[x-2][0]===this._xCut&&m[1][0]===this._xCut&&(m[0][1]=m[x-2][1],m.pop())}_side(m){return m<this._xCut?-1:m>this._xCut?1:0}_intersect(m,x){return m[1]+(this._xCut-m[0])/(x[0]-m[0])*(x[1]-m[1])}_pushLineIn(){this._lineIn&&this._lineIn.length>=this._minPts&&this._linesIn.push(this._lineIn),this._lineIn=[]}_pushLineOut(){this._lineOut&&this._lineOut.length>=this._minPts&&this._linesOut.push(this._lineOut),this._lineOut=[]}}},29371:(Se,ie,f)=>{f.r(ie),f.d(ie,{default:()=>Bt});var W=f(15861),v=f(17626),k=f(46160),Q=f(26584),b=f(63290),T=f(99959),K=f(10699),I=f(77712),U=f(66656),D=(f(4619),f(8314),f(68653)),N=f(76898),se=f(99433),G=f(31283),re=f(44917),q=f(552),$=f(49286),H=f(6647),de=f(99555),_=f(84792),m=f(90740),x=f(21726),y=f(35948),h=f(61996),s=f(47996),c=f(83761),d=f(86810),p=f(88070),g=f(23841),P=f(86274),M=f(32884),E=f(95470),S=f(15331),L=f(72642),Z=f(37118),X=f(55915),me=f(65234),Oe=f(79608);let pe=class extends Oe.j{projectOrWarn(e,t){if(null==e)return e;const{geometry:l,pending:a}=(0,X.projectOrLoad)(e,t);return a?null:a||l?l:(b.Z.getLogger(this).warn("geometry could not be projected to the spatial reference",{georeference:this,geometry:e,sourceSpatialReference:e.spatialReference,targetSpatialReference:t}),null)}};pe=(0,v._)([(0,N.j)("esri.layers.support.GeoreferenceBase")],pe);const oe=pe,fe=(0,M.Ue)(),A=(0,S.Ue)();let Be=class extends c.Z{constructor(){super(...arguments),this.sourcePoint=null,this.mapPoint=null}};(0,v._)([(0,I.Cb)()],Be.prototype,"sourcePoint",void 0),(0,v._)([(0,I.Cb)({type:L.Z})],Be.prototype,"mapPoint",void 0),Be=(0,v._)([(0,N.j)("esri.layers.support.ControlPoint")],Be);let te=class extends((0,d.eC)(oe)){constructor(e){super(e),this.controlPoints=null,this.height=0,this.type="control-points",this.width=0}readControlPoints(e,t){const l=me.Z.fromJSON(t.spatialReference),a=(0,M.al)(...t.coefficients,1);return e.map(u=>((0,E.t8)(A,u.x,u.y),(0,p.H)(A,A,a),{sourcePoint:u,mapPoint:new L.Z({x:A[0],y:A[1],spatialReference:l})}))}writeControlPoints(e,t,l,a){if(null!=this.transform)null!=e&&F(e[0])&&(t.controlPoints=e.map(u=>{const R=u.sourcePoint;return{x:R.x,y:R.y}}),t.spatialReference=e[0].mapPoint.spatialReference.toJSON(),t.coefficients=this.transform.slice(0,8));else{const u=new Q.Z("web-document-write:invalid-georeference","Invalid 'controlPoints', 'width', 'height' configuration.",{layer:a?.layer,georeference:this});a?.messages?a.messages.push(u):b.Z.getLogger(this).error(u.name,u.message)}}get coords(){if(null==this.controlPoints)return null;const e=this._updateTransform(fe);return null!=e&&F(this.controlPoints[0])?function st(e,t,l,a){const u=(0,S.al)(0,l),R=(0,S.al)(0,0),B=(0,S.al)(t,0),C=(0,S.al)(t,l);return(0,p.H)(u,u,e),(0,p.H)(R,R,e),(0,p.H)(B,B,e),(0,p.H)(C,C,e),new Z.Z({rings:[[u,R,B,C,u]],spatialReference:a})}(e,this.width,this.height,this.controlPoints[0].mapPoint.spatialReference):null}set coords(e){if(null==this.controlPoints||!F(this.controlPoints[0]))return;const t=this.controlPoints[0].mapPoint.spatialReference;if(null==(e=this.projectOrWarn(e,t)))return;const{width:l,height:a}=this,{rings:[[u,R,B,C]]}=e,w={sourcePoint:(0,g.vW)(0,a),mapPoint:new L.Z({x:u[0],y:u[1],spatialReference:t})},Y={sourcePoint:(0,g.vW)(0,0),mapPoint:new L.Z({x:R[0],y:R[1],spatialReference:t})},V={sourcePoint:(0,g.vW)(l,0),mapPoint:new L.Z({x:B[0],y:B[1],spatialReference:t})},J={sourcePoint:(0,g.vW)(l,a),mapPoint:new L.Z({x:C[0],y:C[1],spatialReference:t})};F(w)&&F(Y)&&F(V)&&F(J)&&(Ne(fe,w,Y,V,J),this.controlPoints=this.controlPoints.map(({sourcePoint:ee})=>((0,E.t8)(A,ee.x,ee.y),(0,p.H)(A,A,fe),{sourcePoint:ee,mapPoint:new L.Z({x:A[0],y:A[1],spatialReference:t})})))}get inverseTransform(){return null==this.transform?null:(0,P.U_)((0,M.Ue)(),this.transform)}get transform(){return this._updateTransform()}toMap(e){if(null==e||null==this.transform||null==this.controlPoints||!F(this.controlPoints[0]))return null;(0,E.t8)(A,e.x,e.y);const t=this.controlPoints[0].mapPoint.spatialReference;return(0,p.H)(A,A,this.transform),new L.Z({x:A[0],y:A[1],spatialReference:t})}toSource(e){if(null==e||null==this.inverseTransform||null==this.controlPoints||!F(this.controlPoints[0]))return null;const t=this.controlPoints[0].mapPoint.spatialReference;return e=e.normalize(),null==(e=(0,X.projectOrLoad)(e,t).geometry)?null:((0,E.t8)(A,e.x,e.y),(0,p.H)(A,A,this.inverseTransform),(0,g.vW)(A[0],A[1]))}toSourceNormalized(e){const t=this.toSource(e);return null!=t&&(t.x/=this.width,t.y/=this.height),t}_updateTransform(e){const{controlPoints:t,width:l,height:a}=this;if(!(null!=t&&l>0&&a>0))return null;const[u,R,B,C]=t;if(!F(u))return null;const w=u.mapPoint.spatialReference,Y=this._projectControlPoint(R,w),V=this._projectControlPoint(B,w),J=this._projectControlPoint(C,w);if(!(Y.valid&&V.valid&&J.valid&&F(Y.controlPoint)))return null;null==e&&(e=(0,M.Ue)());let ee=null;return ee=F(V.controlPoint)&&F(J.controlPoint)?Ne(e,u,Y.controlPoint,V.controlPoint,J.controlPoint):F(V.controlPoint)?function tt(e,t,l,a){return ue(le,he,t),ue(ae,ce,l),ue(Pe,Me,a),(0,E.t7)(xe,le,ae,.5),(0,E.U1)(xe,Pe,xe,Math.PI),(0,E.t7)(ye,he,ce,.5),(0,E.U1)(ye,Me,ye,Math.PI),Te(e,le,ae,Pe,xe,he,ce,Me,ye)}(e,u,Y.controlPoint,V.controlPoint):function et(e,t,l){return ue(le,he,t),ue(ae,ce,l),(0,E.U1)(Pe,ae,le,we),(0,E.U1)(xe,le,ae,we),(0,E.U1)(Me,ce,he,-we),(0,E.U1)(ye,he,ce,-we),Te(e,le,ae,Pe,xe,he,ce,Me,ye)}(e,u,Y.controlPoint),ee.every(Ue=>0===Ue)?null:ee}_projectControlPoint(e,t){if(!F(e))return{valid:!0,controlPoint:e};const{sourcePoint:l,mapPoint:a}=e,{geometry:u,pending:R}=(0,X.projectOrLoad)(a,t);return R?{valid:!1,controlPoint:null}:R||u?{valid:!0,controlPoint:{sourcePoint:l,mapPoint:u}}:(b.Z.getLogger(this).warn("map point could not be projected to the spatial reference",{georeference:this,controlPoint:e,sourceSpatialReference:a.spatialReference,targetSpatialReference:t}),{valid:!1,controlPoint:null})}};function F(e){return null!=e?.sourcePoint&&null!=e.mapPoint}(0,v._)([(0,I.Cb)({type:[Be],json:{write:{allowNull:!1,isRequired:!0}}})],te.prototype,"controlPoints",void 0),(0,v._)([(0,D.r)("controlPoints")],te.prototype,"readControlPoints",null),(0,v._)([(0,se.c)("controlPoints")],te.prototype,"writeControlPoints",null),(0,v._)([(0,I.Cb)()],te.prototype,"coords",null),(0,v._)([(0,I.Cb)({json:{write:!0}})],te.prototype,"height",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],te.prototype,"inverseTransform",null),(0,v._)([(0,I.Cb)({readOnly:!0})],te.prototype,"transform",null),(0,v._)([(0,I.Cb)({json:{write:!0}})],te.prototype,"width",void 0),te=(0,v._)([(0,N.j)("esri.layers.support.ControlPointsGeoreference")],te);const le=(0,S.Ue)(),ae=(0,S.Ue)(),Pe=(0,S.Ue)(),xe=(0,S.Ue)(),he=(0,S.Ue)(),ce=(0,S.Ue)(),Me=(0,S.Ue)(),ye=(0,S.Ue)(),we=Math.PI/2;function ue(e,t,l){(0,E.t8)(e,l.sourcePoint.x,l.sourcePoint.y),(0,E.t8)(t,l.mapPoint.x,l.mapPoint.y)}function Ne(e,t,l,a,u){return ue(le,he,t),ue(ae,ce,l),ue(Pe,Me,a),ue(xe,ye,u),Te(e,le,ae,Pe,xe,he,ce,Me,ye)}const nt=new Array(8).fill(0),it=new Array(8).fill(0);function ze(e,t,l,a,u){return e[0]=t[0],e[1]=t[1],e[2]=l[0],e[3]=l[1],e[4]=a[0],e[5]=a[1],e[6]=u[0],e[7]=u[1],e}function Te(e,t,l,a,u,R,B,C,w){return(0,p.E)(e,ze(nt,t,l,a,u),ze(it,R,B,C,w))}const Ze=te,Ce=(0,S.Ue)();let ge=class extends oe{constructor(e){super(e),this.bottomLeft=null,this.bottomRight=null,this.topLeft=null,this.topRight=null,this.type="corners"}get coords(){let{topLeft:e,topRight:t,bottomLeft:l,bottomRight:a}=this;if(null==e||null==t||null==l||null==a)return null;const u=e.spatialReference;return t=this.projectOrWarn(t,u),l=this.projectOrWarn(l,u),a=this.projectOrWarn(a,u),null==t||null==l||null==a?null:new Z.Z({rings:[[[l.x,l.y],[e.x,e.y],[t.x,t.y],[a.x,a.y],[l.x,l.y]]],spatialReference:u})}set coords(e){const{topLeft:t}=this;if(null==t)return;const l=t.spatialReference;if(null==(e=this.projectOrWarn(e,l)))return;const{rings:[[a,u,R,B]]}=e;this.bottomLeft=new L.Z({x:a[0],y:a[1],spatialReference:l}),this.topLeft=new L.Z({x:u[0],y:u[1],spatialReference:l}),this.topRight=new L.Z({x:R[0],y:R[1],spatialReference:l}),this.bottomRight=new L.Z({x:B[0],y:B[1],spatialReference:l})}toSourceNormalized(e){const{topLeft:t,topRight:l,bottomRight:a,bottomLeft:u}=this;if(null==e||null==t||null==l||null==a||null==u)return null;const R=t.spatialReference;e=e.normalize();const B=(0,X.projectOrLoad)(e,R).geometry;if(null==B)return null;(0,E.t8)(Ce,B.x,B.y);const C=(0,p.E)((0,M.Ue)(),[t.x,t.y,u.x,u.y,l.x,l.y,a.x,a.y],[0,0,0,1,1,0,1,1]);return(0,p.H)(Ce,Ce,C),(0,g.vW)(Ce[0],Ce[1])}};(0,v._)([(0,I.Cb)()],ge.prototype,"coords",null),(0,v._)([(0,I.Cb)({type:L.Z})],ge.prototype,"bottomLeft",void 0),(0,v._)([(0,I.Cb)({type:L.Z})],ge.prototype,"bottomRight",void 0),(0,v._)([(0,I.Cb)({type:L.Z})],ge.prototype,"topLeft",void 0),(0,v._)([(0,I.Cb)({type:L.Z})],ge.prototype,"topRight",void 0),ge=(0,v._)([(0,N.j)("esri.layers.support.CornersGeoreference")],ge);const ot=ge;var Xe=f(21286),rt=f(86670),Ae=f(2004);let Re=class extends oe{constructor(e){super(e),this.extent=null,this.rotation=0,this.type="extent-and-rotation"}get coords(){if(null==this.extent)return null;const{xmin:e,ymin:t,xmax:l,ymax:a,spatialReference:u}=this.extent;let R;if(this.rotation){const{x:B,y:C}=this.extent.center,w=Ye(B,C,this.rotation);R=[w(e,t),w(e,a),w(l,a),w(l,t)],R.push(R[0])}else R=[[e,t],[e,a],[l,a],[l,t],[e,t]];return new Z.Z({rings:[R],spatialReference:u})}set coords(e){if(null==e||null==this.extent)return;const t=this.extent.spatialReference;if(null==(e=this.projectOrWarn(e,t))?.extent)return;const{rings:[[l,a,u]],extent:{center:{x:R,y:B}}}=e,C=(0,Xe.BV)(Math.PI/2-Math.atan2(a[1]-l[1],a[0]-l[0])),w=Ye(R,B,-C),[Y,V]=w(l[0],l[1]),[J,ee]=w(u[0],u[1]);this.extent=new Ae.Z({xmin:Y,ymin:V,xmax:J,ymax:ee,spatialReference:t}),this.rotation=C}toSourceNormalized(e){const{extent:t,rotation:l}=this;if(null==e||null==t)return null;const{xmin:a,ymin:u,xmax:R,ymax:B,center:C,spatialReference:w}=t;e=e.normalize();const Y=(0,X.projectOrLoad)(e,w).geometry;if(null==Y)return null;let V=Y.x,J=Y.y;return l&&([V,J]=Ye(C.x,C.y,-l)(V,J)),(0,g.vW)((0,Xe.bA)(V,a,R,0,1),(0,Xe.bA)(J,B,u,0,1))}};function Ye(e,t,l){const a=(0,rt.c$)(l),u=Math.cos(a),R=Math.sin(a);return(B,C)=>[u*(B-e)+R*(C-t)+e,u*(C-t)-R*(B-e)+t]}(0,v._)([(0,I.Cb)()],Re.prototype,"coords",null),(0,v._)([(0,I.Cb)({type:Ae.Z})],Re.prototype,"extent",void 0),(0,v._)([(0,I.Cb)({type:Number})],Re.prototype,"rotation",void 0),Re=(0,v._)([(0,N.j)("esri.layers.support.ExtentAndRotationGeoreference")],Re);const lt={key:"type",base:oe,typeMap:{"control-points":Ze,corners:ot,"extent-and-rotation":Re}},at={key:"type",base:oe,typeMap:{"control-points":Ze}};let Ie=class extends((0,h.iv)((0,T.R)(s.Z))){constructor(e){super(e),this.georeference=null,this.opacity=1}readGeoreference(e){return Ze.fromJSON(e)}get contentWidth(){return 0}get contentHeight(){return 0}toSource(e){const{georeference:t,contentWidth:l,contentHeight:a}=this;if(null==e||null==t||0===l||0===a)return null;const u=t.toSourceNormalized(e);return null==u?null:(u.x*=l,u.y*=a,u)}};(0,v._)([(0,I.Cb)({types:lt,json:{write:!0,types:at}})],Ie.prototype,"georeference",void 0),(0,v._)([(0,D.r)("georeference")],Ie.prototype,"readGeoreference",null),(0,v._)([(0,I.Cb)({json:{read:!1,write:!1}})],Ie.prototype,"opacity",void 0),Ie=(0,v._)([(0,N.j)("esri.layers.support.MediaElementBase")],Ie);const He=Ie;f(29132);var ht=f(37053);function Ke(e,t){const l=(0,G.M9)(t);return function ut(e){return"media"===e?.type}(e)&&!!e.portalItem&&null!=l&&l>G.s3.PORTAL_ITEM}var dt=f(61556),Le=f(29840);let ne=class extends He{constructor(e){super(e),this.animationOptions=null,this.content=null,this.image=null,this.type="image",this.image=null}load(){const e=this.image;if("string"==typeof e){const t=(0,m.n$)(e).then(l=>{this._set("content",l)});this.addResolvingPromise(t)}else if(e instanceof HTMLImageElement){const t=e.decode().then(()=>{this._set("content",e)});this.addResolvingPromise(t)}else e?this._set("content",e):this.addResolvingPromise(Promise.reject(new Q.Z("image-element:invalid-image-type","Invalid image type",{image:e})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(e,t,l){return(0,Le.f)(t.url,l)}writeImage(e,t,l,a){if(null==e)return;const u=a?.portalItem,R=a?.resources;if(!u||!R)return void("string"==typeof e&&(t[l]=(0,Le.t)(e,a)));const B=function mt(e){return"string"==typeof e&&!(0,x.HK)(e)&&!(0,x.jc)(e)}(e)?e:null;if(B){if(null==(0,Le.i)(B))return void(t[l]=B);const C=(0,Le.t)(B,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},Le.M.NO);if(u&&C&&!(0,x.YP)(C))return R.toKeep.push({resource:u.resourceFromPath(C),compress:!1}),void(t[l]=C)}t[l]="<pending>",R.pendingOperations.push(function pt(e){return De.apply(this,arguments)}(e).then(C=>{const w=function xt(e,t){const l=(0,y.DO)(),a=`${(0,x.v_)("media",l)}.${(0,dt.B)({type:"blob",blob:e})}`;return t.resourceFromPath(a)}(C,u);t[l]=w.itemRelativeUrl,R.toAdd.push({resource:w,content:{type:"blob",blob:C},compress:!1,finish:Y=>{this.image=Y.url}})}))}write(e,t){const l=super.write(e,t);return"mediaType"in l&&!l.url&&delete l.mediaType,l}};(0,v._)([(0,I.Cb)()],ne.prototype,"animationOptions",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],ne.prototype,"content",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],ne.prototype,"contentWidth",null),(0,v._)([(0,I.Cb)({readOnly:!0})],ne.prototype,"contentHeight",null),(0,v._)([(0,I.Cb)({json:{name:"url",type:String,write:{overridePolicy:(e,t,l)=>({enabled:!Ke(l?.layer,l?.origin)})}}})],ne.prototype,"image",void 0),(0,v._)([(0,D.r)("image",["url"])],ne.prototype,"readImage",null),(0,v._)([(0,se.c)("image")],ne.prototype,"writeImage",null),(0,v._)([(0,I.Cb)({readOnly:!0,json:{read:!1,write:{target:"mediaType",ignoreOrigin:!0}}})],ne.prototype,"type",void 0),ne=(0,v._)([(0,N.j)("esri.layers.support.ImageElement")],ne);const Ge=ne;function De(){return(De=(0,W.Z)(function*(e){return"string"==typeof e?(0,x.HK)(e)?(0,x.fw)(e):(yield(0,_.Z)(e,{responseType:"blob"})).data:new Promise(t=>function ft(e){if(e instanceof HTMLCanvasElement)return e;const t=e instanceof HTMLImageElement?e.naturalWidth:e.width,l=e instanceof HTMLImageElement?e.naturalHeight:e.height,a=document.createElement("canvas"),u=a.getContext("2d");return a.width=t,a.height=l,e instanceof HTMLImageElement?u.drawImage(e,0,0,e.width,e.height):e instanceof ImageData&&u.putImageData(e,0,0),a}(e).toBlob(t))})).apply(this,arguments)}var yt=f(89726),gt=f(61885),vt=f(60330),_t=f(32917),Pt=f(65401),Mt=f(11519),Rt=f(61256),It=f(17732),Et=f(17770);let _e=class extends He{constructor(e){super(e),this.autoplay=!0,this.content=null,this.type="video"}load(){const e=this.video;if("string"==typeof e){const t=document.createElement("video");t.src=e,t.crossOrigin="anonymous",t.autoplay=!0,t.muted=!0,t.loop=!0,this.addResolvingPromise(this._loadVideo(t).then(()=>{this._set("content",t)}))}else e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then(()=>{this._set("content",e)})):this.addResolvingPromise(Promise.reject(new Q.Z("video-element:invalid-video-type","Invalid video type",{video:e})));return Promise.resolve(this)}get contentWidth(){return this.content?.videoWidth??0}get contentHeight(){return this.content?.videoHeight??0}set video(e){"not-loaded"===this.loadStatus?this._set("video",e):b.Z.getLogger(this).error("#video","video cannot be changed after the element is loaded.")}_loadVideo(e){return new Promise((t,l)=>{const a=(0,Et.IH)(e,"canplay",()=>{this.removeHandles("canplay"),this.autoplay?e.play().then(t,l):t()});this.addHandles(a,"canplay"),"anonymous"!==e.crossOrigin&&(e.crossOrigin="anonymous",e.src?.includes("blob:")||(e.src=e.src))})}};(0,v._)([(0,I.Cb)()],_e.prototype,"autoplay",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],_e.prototype,"content",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],_e.prototype,"contentWidth",null),(0,v._)([(0,I.Cb)({readOnly:!0})],_e.prototype,"contentHeight",null),(0,v._)([(0,I.Cb)()],_e.prototype,"video",null),_e=(0,v._)([(0,N.j)("esri.layers.support.VideoElement")],_e);const Fe=_e,Je=k.Z.ofType({key:"type",defaultKeyValue:"image",base:He,typeMap:{image:Ge,video:Fe}});let Ee=class extends(s.Z.LoadableMixin((0,vt.v)(gt.Z.EventedAccessor))){constructor(e){super(e),this._index=new Rt.H,this._elementViewsMap=new Map,this._elementsIndexes=new Map,this._elementsChangedHandler=t=>{for(const a of t.removed){const u=this._elementViewsMap.get(a);this._elementViewsMap.delete(a),this._index.delete(u),this.removeHandles(u),u.destroy(),this.notifyChange("fullExtent")}const{spatialReference:l}=this;for(const a of t.added){if(this._elementViewsMap.get(a))continue;const u=new It.L({spatialReference:l,element:a});this._elementViewsMap.set(a,u);const R=(0,_t.YP)(()=>u.coords,()=>this._updateIndexForElement(u,!1));this._updateIndexForElement(u,!0),this.addHandles(R,u)}this._elementsIndexes.clear(),this.elements.forEach((a,u)=>this._elementsIndexes.set(a,u)),this.emit("refresh")},this.elements=new Je}load(e){var t=this;return(0,W.Z)(function*(){if((0,K.k_)(e),!t.spatialReference){const l=t.elements.find(a=>null!=a.georeference?.coords);t._set("spatialReference",l?l.georeference.coords.spatialReference:me.Z.WGS84)}return t._elementsChangedHandler({added:t.elements.items,removed:[]}),t.addHandles(t.elements.on("change",t._elementsChangedHandler)),t})()}destroy(){this._index.clear(),this._elementViewsMap.clear(),this._elementsIndexes.clear()}set elements(e){this._set("elements",(0,yt.Z)(e,this._get("elements"),Je))}get fullExtent(){if("not-loaded"===this.loadStatus)return null;const e=this._index.fullBounds;return null==e?null:new Ae.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:this.spatialReference})}set spatialReference(e){"not-loaded"===this.loadStatus?this._set("spatialReference",e):b.Z.getLogger(this).error("#spatialReference","spatialReference cannot be changed after the source is loaded.")}queryElements(e,t){var l=this;return(0,W.Z)(function*(){yield l.load(),yield(0,X.initializeProjection)(e.spatialReference,l.spatialReference,null,t);const a=(0,ht.fS)(e.spatialReference,l.spatialReference)?e:(0,X.project)(e,l.spatialReference);if(!a)return[];const u=a.normalize(),R=[];for(const B of u)l._index.forEachInBounds((0,Pt.oJ)(B),({normalizedCoords:C,element:w})=>{null!=C&&(0,Mt.Nl)(B,C)&&R.push(w)});return R.sort((B,C)=>l._elementsIndexes.get(B)-l._elementsIndexes.get(C)),R})()}_updateIndexForElement(e,t){const l=e.normalizedBounds,a=this._index.has(e),u=null!=l;this._index.delete(e),u&&this._index.set(e,l),this.notifyChange("fullExtent"),t||(a!==u?this.emit("refresh"):this.emit("change",{element:e.element}))}};(0,v._)([(0,I.Cb)()],Ee.prototype,"elements",null),(0,v._)([(0,I.Cb)({readOnly:!0})],Ee.prototype,"fullExtent",null),(0,v._)([(0,I.Cb)()],Ee.prototype,"spatialReference",null),Ee=(0,v._)([(0,N.j)("esri.layers.support.LocalMediaElementSource")],Ee);const be=Ee;var je=f(20885);function Ve(e){return"object"==typeof e&&null!=e&&"type"in e}function $e(e){return Ve(e)&&"image"===e.type}let z=class extends((0,q.h)((0,de.M)((0,$.q)((0,H.I)((0,T.R)(re.Z)))))){constructor(e){var t;super(e),t=this,this.effectiveSource=null,this.georeference=null,this.copyright=null,this.operationalLayerType="MediaLayer",this.spatialReference=null,this.type="media",this._debouncedSaveOperations=(0,K.Ds)(function(){var l=(0,W.Z)(function*(a,u,R){const{save:B,saveAs:C}=yield Promise.all([f.e(8592),f.e(73)]).then(f.bind(f,83369));switch(a){case je.x.SAVE:return B(t,u);case je.x.SAVE_AS:return C(t,R,u)}});return function(a,u,R){return l.apply(this,arguments)}}()),this.source=new be}load(e){return this.addResolvingPromise(this._doLoad(e)),Promise.resolve(this)}_doLoad(e){var t=this;return(0,W.Z)(function*(){yield t.loadFromPortal({supportedTypes:["Media Layer"]},e);let l=t.source;if(!l)throw new Q.Z("media-layer:source-missing","Set 'MediaLayer.source' before loading the layer.");const a=t._getSourceOverride(l,t.georeference);a&&(t.setAtOrigin("source",a,"web-map"),l=a);const u=Ve(l)?new be({elements:new k.Z([l])}):l;t._set("effectiveSource",u),t.spatialReference&&(u.spatialReference=t.spatialReference),yield u.load(e),t.spatialReference=u.spatialReference})()}destroy(){this.effectiveSource?.destroy(),this.source?.destroy()}readGeoreference(e,t){return e&&"itemId"in t&&t.itemId?e:void 0}get fullExtent(){return this.loaded?this.effectiveSource.fullExtent:null}set source(e){"loaded"!==this.loadStatus&&"failed"!==this.loadStatus?this._set("source",e):b.Z.getLogger(this).error("#source","source cannot be changed after the layer is loaded.")}castSource(e){return e?Array.isArray(e)?new be({elements:new k.Z(e)}):e instanceof k.Z?new be({elements:e}):e:null}readSource(e,t,l){if("itemId"in t&&t.itemId)return;const a=this._createSource(t);return a?.read(t,l),a}writeSource(e,t,l,a){$e(e)?e.write(t,a):a?.messages&&a?.messages?.push(new Q.Z("media-layer:unsupported-source","source must be an 'ImageElement'"))}save(e){var t=this;return(0,W.Z)(function*(){return t._debouncedSaveOperations(je.x.SAVE,e)})()}saveAs(e,t){var l=this;return(0,W.Z)(function*(){return l._debouncedSaveOperations(je.x.SAVE_AS,t,e)})()}_createSource(e){if("mediaType"in e)switch(e.mediaType){case"image":return new Ge;case"video":return new Fe}return null}_getSourceOverride(e,t){if(Ve(e)&&this.originIdOf("source")===G.s3.PORTAL_ITEM&&t&&this.originIdOf("georeference")===G.s3.WEB_MAP){const l=e.toJSON(),a=this._createSource(l);return a.read({...l},{origin:"portal-item"}),a.read({georeference:t},{origin:"web-map"}),a}return null}};(0,v._)([(0,I.Cb)({readOnly:!0})],z.prototype,"effectiveSource",void 0),(0,v._)([(0,I.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:!1}}}})],z.prototype,"georeference",void 0),(0,v._)([(0,D.r)("web-map","georeference")],z.prototype,"readGeoreference",null),(0,v._)([(0,I.Cb)({type:String})],z.prototype,"copyright",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],z.prototype,"fullExtent",null),(0,v._)([(0,I.Cb)({type:["MediaLayer"]})],z.prototype,"operationalLayerType",void 0),(0,v._)([(0,I.Cb)({type:["show","hide"]})],z.prototype,"listMode",void 0),(0,v._)([(0,I.Cb)({nonNullable:!0,json:{write:{enabled:!0,allowNull:!1,overridePolicy(e,t,l){return{enabled:!0,allowNull:!1,ignoreOrigin:Ke(this,l?.origin)&&$e(e)&&!!e.georeference&&e.originIdOf("georeference")>G.s3.PORTAL_ITEM}}}}})],z.prototype,"source",null),(0,v._)([(0,U.p)("source")],z.prototype,"castSource",null),(0,v._)([(0,D.r)("source",["url"])],z.prototype,"readSource",null),(0,v._)([(0,se.c)("source")],z.prototype,"writeSource",null),(0,v._)([(0,I.Cb)()],z.prototype,"spatialReference",void 0),(0,v._)([(0,I.Cb)({readOnly:!0})],z.prototype,"type",void 0),z=(0,v._)([(0,N.j)("esri.layers.MediaLayer")],z);const Bt=z},61256:(Se,ie,f)=>{f.d(ie,{H:()=>I});var W=f(8314),v=f(36592),k=f(65401);const b={minX:0,minY:0,maxX:0,maxY:0};class I{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new v.Q(9,(0,W.Z)("esri-csp-restrictions")?O=>({minX:O[0],minY:O[1],maxX:O[2],maxY:O[3]}):["[0]","[1]","[2]","[3]"]),this._loadIndex=()=>{if(this._indexInvalid){const O=new Array(this._idByBounds.size);let j=0;this._idByBounds.forEach((D,N)=>{O[j++]=N}),this._indexInvalid=!1,this._index.clear(),this._index.load(O)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter(O=>this._idByBounds.has(O))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const O=(0,k.cS)();for(const j of this._boundsById.values())j&&(O[0]=Math.min(j[0],O[0]),O[1]=Math.min(j[1],O[1]),O[2]=Math.max(j[2],O[2]),O[3]=Math.max(j[3],O[3]));return O}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(O){const j=this._boundsById.get(O);this._boundsById.delete(O),j&&(this._idByBounds.delete(j),this._indexInvalid||this._index.remove(j))}forEachInBounds(O,j){this._loadIndex(),function K(U,O,j){(function T(U){b.minX=U[0],b.minY=U[1],b.maxX=U[2],b.maxY=U[3]})(O),U.search(b,j)}(this._index,O,D=>j(this._idByBounds.get(D)))}get(O){return this._boundsById.get(O)}has(O){return this._boundsById.has(O)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(O,j){if(!this._indexInvalid){const D=this._boundsById.get(O);D&&(this._index.remove(D),this._idByBounds.delete(D))}this._boundsById.set(O,j),j&&(this._idByBounds.set(j,O),this._indexInvalid||(this._boundsToLoad.push(j),this._boundsToLoad.length>5e4&&this._loadIndex()))}}},61556:(Se,ie,f)=>{f.d(ie,{B:()=>v});var W=f(21726);function v(U){return b[function k(U){return"json"===U.type?"application/json":"blob"===U.type?U.blob.type:function Q(U){const O=(0,W.Ml)(U);return I[O]||T}(U.url)}(U)]||K}const b={},T="text/plain",K=b[T],I={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const U in I)b[I[U]]=U}}]);