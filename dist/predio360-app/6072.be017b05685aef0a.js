"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[6072],{8377:(J,G,F)=>{F.d(G,{Z:()=>$});var P=F(17626),q=F(2076),B=F(86810),N=F(77712),K=(F(8314),F(63290),F(4619),F(55342)),Q=F(76898);const U=new q.X({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"}),W=new q.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});let C=class extends B.wq{constructor(L){super(L),this.type="class-breaks-definition",this.breakCount=null,this.classificationField=null,this.classificationMethod=null,this.normalizationField=null,this.normalizationType=null}set standardDeviationInterval(L){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",L)}set definedInterval(L){"defined-interval"===this.classificationMethod&&this._set("definedInterval",L)}};(0,P._)([(0,K.J)({classBreaksDef:"class-breaks-definition"})],C.prototype,"type",void 0),(0,P._)([(0,N.Cb)({json:{write:!0}})],C.prototype,"breakCount",void 0),(0,P._)([(0,N.Cb)({json:{write:!0}})],C.prototype,"classificationField",void 0),(0,P._)([(0,N.Cb)({type:String,json:{read:U.read,write:U.write}})],C.prototype,"classificationMethod",void 0),(0,P._)([(0,N.Cb)({json:{write:!0}})],C.prototype,"normalizationField",void 0),(0,P._)([(0,N.Cb)({json:{read:W.read,write:W.write}})],C.prototype,"normalizationType",void 0),(0,P._)([(0,N.Cb)({value:null,json:{write:!0}})],C.prototype,"standardDeviationInterval",null),(0,P._)([(0,N.Cb)({value:null,json:{write:!0}})],C.prototype,"definedInterval",null),C=(0,P._)([(0,Q.j)("esri.rest.support.ClassBreaksDefinition")],C);const $=C},19556:(J,G,F)=>{F.d(G,{k:()=>X});var P=F(63290);const q=()=>P.Z.getLogger("esri.rest.support.generateRendererUtils");function B(o,c){return Number(o.toFixed(c))}function X(o){const{normalizationTotal:c}=o;return{classBreaks:Z(o),normalizationTotal:c}}function Z(o){const c=o.definition,{classificationMethod:a,normalizationType:u,definedInterval:v}=c,_=c.breakCount??1,h=[];let r=o.values;if(0===r.length)return[];r=r.sort((f,b)=>f-b);const g=r[0],M=r[r.length-1];if("equal-interval"===a)if(r.length>=_){const f=(M-g)/_;let b=g;for(let i=1;i<_;i++){const n=B(g+i*f,6);h.push({minValue:b,maxValue:n,label:z(b,n,u)}),b=n}h.push({minValue:b,maxValue:M,label:z(b,M,u)})}else r.forEach(f=>{h.push({minValue:f,maxValue:f,label:z(f,f,u)})});else if("natural-breaks"===a){const f=function K(o){const c=[],a=[];let u=Number.MIN_VALUE,v=1,_=-1;for(let h=0;h<o.length;h++){const r=o[h];r===u?(v++,a[_]=v):null!==r&&(c.push(r),u=r,v=1,a.push(v),_++)}return{uniqueValues:c,valueFrequency:a}}(r),i=function Q(o,c,a){const u=o.length,v=[];a>u&&(a=u);for(let h=0;h<a;h++)v.push(Math.round(h*u/a-1));v.push(u-1);let _=U(v,o,c,a);return function W(o,c,a,u,v,_){let h=0,r=0,g=0,M=0,f=!0;for(let b=0;b<2&&f;b++){0===b&&(f=!1);for(let i=0;i<_-1;i++)for(;a[i+1]+1!==a[i+2];){a[i+1]=a[i+1]+1;const n=j(i,a,u,v);g=n.sbMean,h=n.sbSdcm;const m=j(i+1,a,u,v);if(M=m.sbMean,r=m.sbSdcm,!(h+r<c[i]+c[i+1])){a[i+1]=a[i+1]-1;break}c[i]=h,c[i+1]=r,o[i]=g,o[i+1]=M,f=!0}for(let i=_-1;i>0;i--)for(;a[i]!==a[i-1]+1;){a[i]=a[i]-1;const n=j(i-1,a,u,v);g=n.sbMean,h=n.sbSdcm;const m=j(i,a,u,v);if(M=m.sbMean,r=m.sbSdcm,!(h+r<c[i-1]+c[i])){a[i]=a[i]+1;break}c[i-1]=h,c[i]=r,o[i-1]=g,o[i]=M,f=!0}}return f}(_.mean,_.sdcm,v,o,c,a)&&(_=U(v,o,c,a)),v}(f.uniqueValues,o.valueFrequency||f.valueFrequency,_);let n=g;for(let m=1;m<_;m++)if(f.uniqueValues.length>m){const S=B(f.uniqueValues[i[m]],6);h.push({minValue:n,maxValue:S,label:z(n,S,u)}),n=S}h.push({minValue:n,maxValue:M,label:z(n,M,u)})}else if("quantile"===a)if(r.length>=_&&g!==M){let f=g,b=Math.ceil(r.length/_),i=0;for(let n=1;n<_;n++){let m=b+i-1;m>r.length&&(m=r.length-1),m<0&&(m=0),h.push({minValue:f,maxValue:r[m],label:z(f,r[m],u)}),f=r[m],i+=b,b=Math.ceil((r.length-i)/(_-n))}h.push({minValue:f,maxValue:M,label:z(f,M,u)})}else{let f=-1;for(let b=0;b<r.length;b++){const i=r[b];i!==f&&(f=i,h.push({minValue:f,maxValue:i,label:z(f,i,u)}),f=i)}}else if("standard-deviation"===a){const f=function $(o){let c=0;for(let a=0;a<o.length;a++)c+=o[a];return c/=o.length,c}(r),b=function L(o,c){let a=0;for(let u=0;u<o.length;u++){const v=o[u];a+=(v-c)*(v-c)}return a/=o.length,Math.sqrt(a)}(r,f);if(0===b)h.push({minValue:r[0],maxValue:r[0],label:z(r[0],r[0],u)});else{const i=function C(o,c,a,u,v){let _=Math.max(u-o,c-u)/v/a;return _=_>=1?1:_>=.5?.5:.25,_}(g,M,_,f,b)*b;let n=0,m=g;for(let w=_;w>=1;w--){const A=B(f-(w-.5)*i,6);h.push({minValue:m,maxValue:A,label:z(m,A,u)}),m=A,n++}let S=B(f+.5*i,6);h.push({minValue:m,maxValue:S,label:z(m,S,u)}),m=S,n++;for(let w=1;w<=_;w++)S=n===2*_?M:B(f+(w+.5)*i,6),h.push({minValue:m,maxValue:S,label:z(m,S,u)}),m=S,n++}}else if("defined-interval"===a){if(!v)return h;const f=r[0],b=r[r.length-1],i=Math.ceil((b-f)/v);let n=f;for(let m=1;m<i;m++){const S=B(f+m*v,6);h.push({minValue:n,maxValue:S,label:z(n,S,u)}),n=S}h.push({minValue:n,maxValue:b,label:z(n,b,u)})}return h}function z(o,c,a){let u=null;return u=o===c?a&&"percent-of-total"===a?o+"%":o.toString():a&&"percent-of-total"===a?o+"% - "+c+"%":o+" - "+c,u}function U(o,c,a,u){let v=[],_=[],h=[],r=0;const g=[],M=[];for(let n=0;n<u;n++){const m=j(n,o,c,a);g.push(m.sbMean),M.push(m.sbSdcm),r+=M[n]}let f,b=r,i=!0;for(;i||r<b;){i=!1,v=[];for(let n=0;n<u;n++)v.push(o[n]);for(let n=0;n<u;n++)for(let m=o[n]+1;m<=o[n+1];m++)if(f=c[m],n>0&&m!==o[n+1]&&Math.abs(f-g[n])>Math.abs(f-g[n-1]))o[n]=m;else if(n<u-1&&o[n]!==m-1&&Math.abs(f-g[n])>Math.abs(f-g[n+1])){o[n+1]=m-1;break}b=r,r=0,_=[],h=[];for(let n=0;n<u;n++){_.push(g[n]),h.push(M[n]);const m=j(n,o,c,a);g[n]=m.sbMean,M[n]=m.sbSdcm,r+=M[n]}}if(r>b){for(let n=0;n<u;n++)o[n]=v[n],g[n]=_[n],M[n]=h[n];r=b}return{mean:g,sdcm:M}}function j(o,c,a,u){let v=0,_=0;for(let g=c[o]+1;g<=c[o+1];g++){const M=u[g];v+=a[g]*M,_+=M}_<=0&&q().warn("Exception in Natural Breaks calculation");const h=v/_;let r=0;for(let g=c[o]+1;g<=c[o+1];g++)r+=u[g]*(a[g]-h)**2;return{sbMean:h,sbSdcm:r}}},26072:(J,G,F)=>{F.d(G,{DL:()=>le,F_:()=>S,G2:()=>Y,H0:()=>L,Lq:()=>c,Qm:()=>H,S5:()=>$,XL:()=>o,eT:()=>w,fk:()=>ee,i5:()=>j,oF:()=>ae,wk:()=>C});var P=F(8377),q=F(19556);const B="<Null>",N="equal-interval",X=1,Z=5,z=10,K=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,Q=new Set(["esriFieldTypeDate","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeOID","esriFieldTypeBigInteger"]),U=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),W=["min","max","avg","stddev","count","sum","variance","nullcount","median"];function C(e){return null==e||"string"==typeof e&&!e?B:e}function $(e){return!(null!=e.normalizationField||null!=e.normalizationType||null!=e.minValue||null!=e.maxValue||e.sqlExpression&&e.supportsSQLExpression)}function L(e){const t=e.returnDistinct?[...new Set(e.values)]:e.values,l=t.filter(p=>null!=p).sort(),s=l.length,d={count:s,min:l[0],max:l[s-1]};return e.supportsNullCount&&(d.nullcount=t.length-s),e.percentileParams&&(d.median=o(t,e.percentileParams)),d}function j(e){const{values:t,useSampleStdDev:l,supportsNullCount:s}=e;let d=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY,V=null,T=null,y=null,I=null,D=0;const O=null==e.minValue?-1/0:e.minValue,x=null==e.maxValue?1/0:e.maxValue;for(const E of t)Number.isFinite(E)?E>=O&&E<=x&&(V=null===V?E:V+E,d=Math.min(d,E),p=Math.max(p,E),D++):"string"==typeof E&&D++;if(D&&null!=V){T=V/D;let E=0;for(const R of t)Number.isFinite(R)&&R>=O&&R<=x&&(E+=(R-T)**2);I=l?D>1?E/(D-1):0:D>0?E/D:0,y=Math.sqrt(I)}else d=null,p=null;const k={avg:T,count:D,max:p,min:d,stddev:y,sum:V,variance:I};return s&&(k.nullcount=t.length-D),e.percentileParams&&(k.median=o(t,e.percentileParams)),k}function o(e,t){const{fieldType:l,value:s,orderBy:d,isDiscrete:p}=t,V=c(l,"desc"===d);if(0===(e=[...e].filter(k=>null!=k).sort((k,E)=>V(k,E))).length)return null;if(s<=0)return e[0];if(s>=1)return e[e.length-1];const T=(e.length-1)*s,y=Math.floor(T),I=y+1,D=T%1,O=e[y],x=e[I];return I>=e.length||p||"string"==typeof O||"string"==typeof x?O:O*(1-D)+x*D}function c(e,t){if(e){if(Q.has(e))return n(t);if(U.has(e))return f(t,!1);if("esriFieldTypeTimestampOffset"===e)return function r(e){return e?h:_}(t);const p=f(t,!0);if("esriFieldTypeString"===e)return p;if("esriFieldTypeGUID"===e||"esriFieldTypeGlobalID"===e)return(V,T)=>p(m(V),m(T))}const l=t?1:-1,s=n(t),d=f(t,!0);return(p,V)=>"number"==typeof p&&"number"==typeof V?s(p,V):"string"==typeof p&&"string"==typeof V?d(p,V):l}const a=(e,t)=>null==e?null==t?0:1:null==t?-1:null,u=(e,t)=>null==e?null==t?0:-1:null==t?1:null,_=(e,t)=>u(e,t)??(e===t?0:new Date(e).getTime()-new Date(t).getTime()),h=(e,t)=>a(e,t)??(e===t?0:new Date(t).getTime()-new Date(e).getTime()),g=(e,t)=>u(e,t)??(e===t?0:e<t?-1:1),M=(e,t)=>a(e,t)??(e===t?0:e<t?1:-1);function f(e,t){if(!t)return e?M:g;const l=function v(e){return e?a:u}(e);return e?(s,d)=>l(s,d)??((s=s.toUpperCase())>(d=d.toUpperCase())?-1:s<d?1:0):(s,d)=>l(s,d)??((s=s.toUpperCase())<(d=d.toUpperCase())?-1:s>d?1:0)}const b=(e,t)=>a(e,t)??t-e,i=(e,t)=>u(e,t)??e-t;function n(e){return e?b:i}function m(e){return e.substr(24,12)+e.substr(19,4)+e.substr(16,2)+e.substr(14,2)+e.substr(11,2)+e.substr(9,2)+e.substr(6,2)+e.substr(4,2)+e.substr(2,2)+e.substr(0,2)}function S(e,t){let l;for(l in e)W.includes(l)&&(Number.isFinite(e[l])||(e[l]=null));return t&&["avg","stddev","variance"].forEach(s=>{null!=e[s]&&(e[s]=Math.ceil(e[s]??0))}),e}function w(e){const t={};for(let l of e)(null==l||"string"==typeof l&&""===l.trim())&&(l=null),null==t[l]?t[l]={count:1,data:l}:t[l].count++;return{count:t}}function A(e){return"coded-value"!==e?.type?[]:e.codedValues.map(t=>t.code)}function H(e,t,l,s){const d=e.count,p=[];if(l&&t){const V=[],T=A(t[0]);for(const y of T)if(t[1]){const I=A(t[1]);for(const D of I)if(t[2]){const O=A(t[2]);for(const x of O)V.push(`${C(y)}${s}${C(D)}${s}${C(x)}`)}else V.push(`${C(y)}${s}${C(D)}`)}else V.push(y);for(const y of V)d.hasOwnProperty(y)||(d[y]={data:y,count:0})}for(const V in d){const T=d[V];p.push({value:T.data,count:T.count,label:T.label})}return{uniqueValueInfos:p}}function ee(e,t,l,s){let d=null;switch(t){case"log":0!==e&&(d=Math.log(e)*Math.LOG10E);break;case"percent-of-total":Number.isFinite(s)&&0!==s&&(d=e/s*100);break;case"field":Number.isFinite(l)&&0!==l&&(d=e/l);break;case"natural-log":e>0&&(d=Math.log(e));break;case"square-root":e>0&&(d=e**.5)}return d}function Y(e,t){const l=function ne(e){const{breakCount:t,field:l,normalizationField:s,normalizationType:d}=e,p=e.classificationMethod||N;return new P.Z({breakCount:t,classificationField:l,classificationMethod:p,normalizationField:"field"===d?s:void 0,normalizationType:d,standardDeviationInterval:"standard-deviation"===p?e.standardDeviationInterval||X:void 0})}({field:t.field,normalizationType:t.normalizationType,normalizationField:t.normalizationField,classificationMethod:t.classificationMethod,standardDeviationInterval:t.standardDeviationInterval,breakCount:t.numClasses||Z});return e=function te(e,t,l){const s=t??-1/0,d=l??1/0;return e.filter(p=>Number.isFinite(p)&&p>=s&&p<=d)}(e,t.minValue,t.maxValue),(0,q.k)({definition:l,values:e,normalizationTotal:t.normalizationTotal})}function le(e,t){let l=e.classBreaks;const d=l[0]?.minValue,p=l[l.length-1]?.maxValue,V="standard-deviation"===t,T=K;return l=l.map(y=>{const I=y.label,D={minValue:y.minValue,maxValue:y.maxValue,label:I};if(V&&I){const x=I.match(T)?.map(k=>+k.trim())??[];2===x.length?(D.minStdDev=x[0],D.maxStdDev=x[1],x[0]<0&&x[1]>0&&(D.hasAvg=!0)):1===x.length&&(I.includes("<")?(D.minStdDev=null,D.maxStdDev=x[0]):I.includes(">")&&(D.minStdDev=x[0],D.maxStdDev=null))}return D}),{minValue:d,maxValue:p,classBreakInfos:l,normalizationTotal:e.normalizationTotal}}function ae(e,t){const l=function ie(e,t){const{field:l,classificationMethod:s,standardDeviationInterval:d,normalizationType:p,normalizationField:V,normalizationTotal:T,minValue:y,maxValue:I}=t,D=t.numBins||z;let O=null,x=null,k=null;if(s&&"equal-interval"!==s||p){const{classBreaks:E}=Y(e,{field:l,normalizationType:p,normalizationField:V,normalizationTotal:T,classificationMethod:s,standardDeviationInterval:d,minValue:y,maxValue:I,numClasses:D});O=E[0].minValue,x=E[E.length-1].maxValue,k=E.map(R=>[R.minValue,R.maxValue])}else{if(null!=y&&null!=I)O=y,x=I;else{const E=j({values:e,minValue:y,maxValue:I,useSampleStdDev:!p,supportsNullCount:$({normalizationType:p,normalizationField:V,minValue:y,maxValue:I})});O=E.min??null,x=E.max??null}k=function se(e,t,l){const s=(t-e)/l,d=[];let p,V=e;for(let T=1;T<=l;T++)p=V+s,p=Number(p.toFixed(16)),d.push([V,T===l?t:p]),V=p;return d}(O??0,x??0,D)}return{min:O,max:x,intervals:k}}(e,t);if(null==l.min&&null==l.max)return{bins:[],minValue:l.min,maxValue:l.max,normalizationTotal:t.normalizationTotal};const s=l.intervals,d=l.min??0,p=l.max??0,V=s.map((T,y)=>({minValue:s[y][0],maxValue:s[y][1],count:0}));for(const T of e)if(null!=T&&T>=d&&T<=p){const y=oe(s,T);y>-1&&V[y].count++}return{bins:V,minValue:d,maxValue:p,normalizationTotal:t.normalizationTotal}}function oe(e,t){let l=-1;for(let s=e.length-1;s>=0;s--)if(t>=e[s][0]){l=s;break}return l}}}]);