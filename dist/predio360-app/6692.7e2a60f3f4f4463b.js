"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[6692,5611],{19702:(g,E,e)=>{e.d(E,{A:()=>h});var r=e(15861),a=e(17626),p=e(54024),l=e(10699),M=e(32917),c=e(77712),u=(e(8314),e(63290),e(4619),e(76898)),n=e(36947);const h=s=>{let d=class extends s{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(t){super.postscript(t),(0,n.qC)(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}_validateHeightModelInfo(){var t=this;return(0,r.Z)(function*(){const _=new AbortController,P=_.signal;t.addHandles((0,p.kB)(()=>_.abort())),yield(0,M.N1)(()=>t.view.defaultsFromMap?.heightModelInfoReady,P),(0,l.k_)(P);const i=(0,n.Wt)(t.layer,t.view.heightModelInfo,t.supportsHeightUnitConversion);if(i)throw i})()}canResume(){const t=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return super.canResume()&&(!t?.minScale||!t.maxScale||t.minScale>=t.maxScale)}getSuspendInfo(){const t=super.getSuspendInfo(),_=this.layer&&"effectiveScaleRange"in this.layer?this.layer.effectiveScaleRange:null;return _&&_.minScale&&_.maxScale&&_.minScale<_.maxScale&&(t.outsideScaleRange=!0),t}};return(0,a._)([(0,c.Cb)()],d.prototype,"view",void 0),(0,a._)([(0,c.Cb)()],d.prototype,"slicePlaneEnabled",void 0),d=(0,a._)([(0,u.j)("esri.views.3d.layers.LayerView3D")],d),d}},66692:(g,E,e)=>{e.r(E),e.d(E,{default:()=>P});var r=e(15861),a=e(17626),p=e(26584),l=e(77712),o=(e(8314),e(63290),e(4619),e(76898)),O=e(55915),u=e(19702),n=e(50916),h=e(45611),s=e(94421),d=e(84537),t=e(94672);let _=class extends((0,s.Z)((0,n.r)((0,u.A)(h.Z)))){constructor(){super(...arguments),this.type="tile-3d",this._popupHighlightHelper=null}get imageFormatIsOpaque(){return"jpg"===this.layer.tileInfo.format}get hasMixedImageFormats(){return"mixed"===this.layer.tileInfo.format}get tileInfo(){return this.layer.tileInfo}initialize(){if("web-tile"===this.layer.type){const i=this.layer.fullExtent?.spatialReference,y=this.layer.tileInfo?.spatialReference;if(null==i||null==y||!(0,O.canProjectWithoutEngine)(i,y)){const v="defaults"===this.layer.originOf("fullExtent")||null==this.layer.fullExtent?"SceneView requires fullExtent to be specified by the user on WebTileLayer":"SceneView requires fullExtent to be specified in the same spatial reference as tileInfo on WebTileLayer";this.addResolvingPromise(Promise.reject(new p.Z("layerview:incompatible-fullextent",v)))}}(0,d.Uf)(this,this.layer)&&(this._popupHighlightHelper=new d.VF({createFetchPopupFeaturesQueryGeometry:(i,y)=>(0,t.K)(i,y,this.view),layerView:this,updatingHandles:this._updatingHandles})),this._addTilingSchemeMatchPromise()}destroy(){this._popupHighlightHelper?.destroy()}fetchPopupFeaturesAtLocation(i,y){var v=this;return(0,r.Z)(function*(){return v._popupHighlightHelper?v._popupHighlightHelper.fetchPopupFeaturesAtLocation(i,y):[]})()}doRefresh(){var i=this;return(0,r.Z)(function*(){i.suspended||i.emit("data-changed")})()}};(0,a._)([(0,l.Cb)()],_.prototype,"imageFormatIsOpaque",null),(0,a._)([(0,l.Cb)()],_.prototype,"hasMixedImageFormats",null),(0,a._)([(0,l.Cb)()],_.prototype,"layer",void 0),(0,a._)([(0,l.Cb)()],_.prototype,"tileInfo",null),_=(0,a._)([(0,o.j)("esri.views.3d.layers.TileLayerView3D")],_);const P=_},45611:(g,E,e)=>{e.d(E,{Z:()=>d});var r=e(17626),a=e(83761),p=e(61885),l=e(61996),M=e(63290),c=e(62208),D=e(60330),o=e(77712),n=(e(8314),e(4619),e(76898)),h=e(11426);let s=class extends((0,l.IG)((0,D.v)(p.Z.EventedMixin(a.Z)))){constructor(t){super(t),this._updatingHandles=new h.R,this.layer=null,this.parent=null}initialize(){this.when().catch(t=>{if("layerview:create-error"!==t.name){const _=this.layer&&this.layer.id||"no id",P=this.layer?.title||"no title";M.Z.getLogger(this).error("#resolve()",`Failed to resolve layer view (layer title: '${P}', id: '${_}')`,t)}})}destroy(){this._updatingHandles=(0,c.SC)(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get visible(){return!0===this.layer?.visible}set visible(t){this._overrideIfSome("visible",t)}canResume(){return this.visible&&this.layer?.loaded&&!this.parent?.suspended&&this.view?.ready||!1}getSuspendInfo(){const t=this.parent?.suspended?this.parent.suspendInfo:{};return this.view?.ready||(t.viewNotReady=!0),this.layer&&this.layer.loaded||(t.layerNotLoaded=!0),this.visible||(t.layerInvisible=!0),t}isUpdating(){return!1}};(0,r._)([(0,o.Cb)()],s.prototype,"fullOpacity",null),(0,r._)([(0,o.Cb)()],s.prototype,"layer",void 0),(0,r._)([(0,o.Cb)()],s.prototype,"parent",void 0),(0,r._)([(0,o.Cb)({readOnly:!0})],s.prototype,"suspended",null),(0,r._)([(0,o.Cb)({readOnly:!0})],s.prototype,"suspendInfo",null),(0,r._)([(0,o.Cb)({readOnly:!0})],s.prototype,"legendEnabled",null),(0,r._)([(0,o.Cb)({type:Boolean,readOnly:!0})],s.prototype,"updating",null),(0,r._)([(0,o.Cb)({readOnly:!0})],s.prototype,"updatingProgress",null),(0,r._)([(0,o.Cb)()],s.prototype,"visible",null),(0,r._)([(0,o.Cb)()],s.prototype,"view",void 0),s=(0,r._)([(0,n.j)("esri.views.layers.LayerView")],s);const d=s},94421:(g,E,e)=>{e.d(E,{Z:()=>O});var r=e(17626),a=e(63290),p=e(10699),l=e(32917),o=(e(8314),e(4619),e(26584),e(76898));const O=u=>{let n=class extends u{initialize(){this.addHandles((0,l.on)(()=>this.layer,"refresh",h=>{this.doRefresh(h.dataChanged).catch(s=>{(0,p.D_)(s)||a.Z.getLogger(this).error(s)})}),"RefreshableLayerView")}};return n=(0,r._)([(0,o.j)("esri.layers.mixins.RefreshableLayerView")],n),n}}}]);