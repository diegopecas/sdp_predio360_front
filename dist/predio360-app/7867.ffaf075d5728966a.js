"use strict";(self.webpackChunkpredio360_app=self.webpackChunkpredio360_app||[]).push([[7867],{128:(Z,L,t)=>{t.d(L,{B:()=>M});var e=t(26584),n=t(50011),r=t(22558),j=t(21726),A=t(35948),B=t(34117),D=t(31283),p=t(77712),y=t(61556),u=t(29840);function M(s){const d=s?.origins??[void 0];return(i,g)=>{const l=function f(s,d,i){if("resource"===s?.type)return function R(s,d,i){const g=(0,B.Oe)(d,i);return{type:String,read:(l,E,_)=>{const c=(0,u.r)(l,E,_);return g.type===String?c:"function"==typeof g.type?new g.type({url:c}):void 0},write:{writer(l,E,_,c){if(!c?.resources)return"string"==typeof l?void(E[_]=(0,u.t)(l,c)):void(E[_]=l.write({},c));const h=function N(s){return null==s?null:"string"==typeof s?s:s.url}(l),P=(0,u.t)(h,{...c,verifyItemRelativeUrls:c?.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},u.M.NO),b=g.type!==String&&(!(0,r.l)(this)||c?.origin&&this.originIdOf(i)>(0,D.M9)(c.origin)),S={object:this,propertyName:i,value:l,targetUrl:P,dest:E,targetPropertyName:_,context:c,params:s};c?.portalItem&&P&&!(0,j.YP)(P)?b&&s?.contentAddressed?I(S):b?function v(s){const{context:d,targetUrl:i,params:g,value:l,dest:E,targetPropertyName:_}=s;if(!d.portalItem)return;const c=d.portalItem.resourceFromPath(i),h=U(l,i,d),P=(0,y.B)(h),b=(0,j.Ml)(c.path),S=g?.compress??!1;P===b?(d.resources&&m({...s,resource:c,content:h,compress:S,updates:d.resources.toUpdate}),E[_]=i):I(s)}(S):function x({context:s,targetUrl:d,dest:i,targetPropertyName:g}){s.portalItem&&s.resources&&(s.resources.toKeep.push({resource:s.portalItem.resourceFromPath(d),compress:!1}),i[g]=d)}(S):c?.portalItem&&(null==P||null!=(0,u.i)(P)||(0,j.jc)(P)||b)?I(S):E[_]=P}}}}(s,d,i);switch(s?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:g,write:l}=u.b;return{read:g,write:l}}}}(s,i,g);for(const E of d){const _=(0,p.CJ)(i,E,g);for(const c in l)_[c]=l[c]}}}function I(s){const{targetUrl:d,params:i,value:g,context:l,dest:E,targetPropertyName:_}=s;if(!l.portalItem)return;const c=(0,u.p)(d),h=U(g,d,l);if(i?.contentAddressed&&"json"!==h.type)return void l.messages?.push(new e.Z("persistable:contentAddressingUnsupported",`Property "${_}" is trying to serializing a resource with content of type ${h.type} with content addressing. Content addressing is only supported for json resources.`,{content:h}));const P=i?.contentAddressed&&"json"===h.type?(0,n.F)(h.jsonString):c?.filename??(0,A.DO)(),b=(0,j.v_)(i?.prefix??c?.prefix,P),S=`${b}.${(0,y.B)(h)}`;if(i?.contentAddressed&&l.resources&&"json"===h.type){const J=l.resources.toKeep.find(({resource:o})=>o.path===S)??l.resources.toAdd.find(({resource:o})=>o.path===S);if(J)return void(E[_]=J.resource.itemRelativeUrl)}const W=l.portalItem.resourceFromPath(S);(0,j.jc)(d)&&l.resources&&l.resources.pendingOperations.push((0,j.gi)(d).then(J=>{W.path=`${b}.${(0,y.B)({type:"blob",blob:J})}`,E[_]=W.itemRelativeUrl}).catch(()=>{}));const O=i?.compress??!1;l.resources&&m({...s,resource:W,content:h,compress:O,updates:l.resources.toAdd}),E[_]=W.itemRelativeUrl}function m({object:s,propertyName:d,updates:i,resource:g,content:l,compress:E}){i.push({resource:g,content:l,compress:E,finish:c=>{!function C(s,d,i){"string"==typeof s[d]?s[d]=i.url:s[d].url=i.url}(s,d,c)}})}function U(s,d,i){return"string"==typeof s?{type:"url",url:d}:{type:"json",jsonString:JSON.stringify(s.toJSON(i))}}},67867:(Z,L,t)=>{t.r(L),t.d(L,{default:()=>J});var h,e=t(15861),n=t(17626),r=t(26584),j=t(63290),A=t(99959),B=t(10699),D=t(32917),p=t(77712),M=(t(8314),t(4619),t(68653)),f=t(76898),R=t(128),I=t(44917),v=t(50085),x=t(65088),m=t(50107),U=t(49286),N=t(6647),C=t(99555),s=t(42432),d=t(13812),i=t(35031),g=t(84792),l=t(46160),E=t(86810),_=t(21726),c=t(10439);let P=h=class extends((0,E.eC)(l.Z.ofType(c.Z))){constructor(o){super(o),this.url=null}clone(){return new h({url:this.url,items:this.items.map(o=>o.clone())})}toJSON(o){return this.toArray().map(a=>a.toJSON(o)).filter(a=>!!a.geometry)}static fromJSON(o,a){const T=new h;for(const K of o)T.add(c.Z.fromJSON(K,a));return T}static fromUrl(o,a,T){return(0,e.Z)(function*(){const K={url:(0,_.mN)(o),origin:"service"},V=yield(0,g.Z)(o,{responseType:"json",signal:T?.signal}),z=a.toJSON(),F=[];for(const G of V.data)F.push(c.Z.fromJSON({...G,geometry:{...G.geometry,spatialReference:z}},K));return new h({url:o,items:F})})()}};(0,n._)([(0,p.Cb)({type:String})],P.prototype,"url",void 0),P=h=(0,n._)([(0,f.j)("esri.layers.support.SceneModifications")],P);const b=P;var S=t(60507),W=t(29840);let O=class extends((0,s.Vt)((0,x.Y)((0,U.q)((0,N.I)((0,C.M)((0,A.R)((0,m.N)((0,v.V)(I.Z))))))))){constructor(...o){super(...o),this.geometryType="mesh",this.operationalLayerType="IntegratedMeshLayer",this.type="integrated-mesh",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.profile="mesh-pyramids",this.modifications=null,this._modificationsSource=null,this.path=null}initialize(){this.addHandles((0,D.on)(()=>this.modifications,"after-changes",()=>this.modifications=this.modifications,D.Z_))}normalizeCtorArgs(o,a){return"string"==typeof o?{url:o,...a}:o}readModifications(o,a,T){this._modificationsSource={url:(0,W.f)(o,T),context:T}}set elevationInfo(o){this._set("elevationInfo",o),this._validateElevationInfo()}load(o){var a=this;return(0,e.Z)(function*(){return a.addResolvingPromise(a._doLoad(o)),a})()}_doLoad(o){var a=this;return(0,e.Z)(function*(){const T=o?.signal;try{yield a.loadFromPortal({supportedTypes:["Scene Service"]},o)}catch(K){(0,B.r9)(K)}if(yield a._fetchService(T),null!=a._modificationsSource){const K=yield b.fromUrl(a._modificationsSource.url,a.spatialReference,o);a.setAtOrigin("modifications",K,a._modificationsSource.context.origin),a._modificationsSource=null}yield a._fetchIndexAndUpdateExtent(a.nodePages,T)})()}beforeSave(){if(null!=this._modificationsSource)return this.load().then(()=>{},()=>{})}saveAs(o,a){var T=this;return(0,e.Z)(function*(){return T._debouncedSaveOperations(s.xp.SAVE_AS,{...a,getTypeKeywords:()=>T._getTypeKeywords(),portalItemLayerType:"integrated-mesh"},o)})()}save(){var o=this;return(0,e.Z)(function*(){const a={getTypeKeywords:()=>o._getTypeKeywords(),portalItemLayerType:"integrated-mesh"};return o._debouncedSaveOperations(s.xp.SAVE,a)})()}validateLayer(o){if(o.layerType&&"IntegratedMesh"!==o.layerType)throw new r.Z("integrated-mesh-layer:layer-type-not-supported","IntegratedMeshLayer does not support this layer type",{layerType:o.layerType});if(isNaN(this.version.major)||isNaN(this.version.minor))throw new r.Z("layer:service-version-not-supported","Service version is not supported.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"});if(this.version.major>1)throw new r.Z("layer:service-version-too-new","Service version is too new.",{serviceVersion:this.version.versionString,supportedVersions:"1.x"})}_getTypeKeywords(){return["IntegratedMeshLayer"]}_validateElevationInfo(){const o=this.elevationInfo,a="Integrated mesh layers";(0,S.LR)(j.Z.getLogger(this),(0,S.Uy)(a,"absolute-height",o)),(0,S.LR)(j.Z.getLogger(this),(0,S.kf)(a,o))}};(0,n._)([(0,p.Cb)({type:String,readOnly:!0})],O.prototype,"geometryType",void 0),(0,n._)([(0,p.Cb)({type:["show","hide"]})],O.prototype,"listMode",void 0),(0,n._)([(0,p.Cb)({type:["IntegratedMeshLayer"]})],O.prototype,"operationalLayerType",void 0),(0,n._)([(0,p.Cb)({json:{read:!1},readOnly:!0})],O.prototype,"type",void 0),(0,n._)([(0,p.Cb)({type:i.U4,readOnly:!0})],O.prototype,"nodePages",void 0),(0,n._)([(0,p.Cb)({type:[i.QI],readOnly:!0})],O.prototype,"materialDefinitions",void 0),(0,n._)([(0,p.Cb)({type:[i.Yh],readOnly:!0})],O.prototype,"textureSetDefinitions",void 0),(0,n._)([(0,p.Cb)({type:[i.H3],readOnly:!0})],O.prototype,"geometryDefinitions",void 0),(0,n._)([(0,p.Cb)({readOnly:!0})],O.prototype,"serviceUpdateTimeStamp",void 0),(0,n._)([(0,p.Cb)({type:b}),(0,R.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],O.prototype,"modifications",void 0),(0,n._)([(0,M.r)(["web-scene","portal-item"],"modifications")],O.prototype,"readModifications",null),(0,n._)([(0,p.Cb)(d.PV)],O.prototype,"elevationInfo",null),(0,n._)([(0,p.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],O.prototype,"path",void 0),O=(0,n._)([(0,f.j)("esri.layers.IntegratedMeshLayer")],O);const J=O},35031:(Z,L,t)=>{t.d(L,{H3:()=>U,QI:()=>f,U4:()=>y,Yh:()=>I});var e=t(17626),n=t(86810),r=t(77712),D=(t(8314),t(63290),t(4619),t(55342)),p=t(76898);let y=class extends n.wq{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,e._)([(0,r.Cb)({type:Number})],y.prototype,"nodesPerPage",void 0),(0,e._)([(0,r.Cb)({type:Number})],y.prototype,"rootIndex",void 0),(0,e._)([(0,r.Cb)({type:String})],y.prototype,"lodSelectionMetricType",void 0),y=(0,e._)([(0,p.j)("esri.layer.support.I3SNodePageDefinition")],y);let u=class extends n.wq{constructor(){super(...arguments),this.factor=1}};(0,e._)([(0,r.Cb)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],u.prototype,"id",void 0),(0,e._)([(0,r.Cb)({type:Number})],u.prototype,"factor",void 0),u=(0,e._)([(0,p.j)("esri.layer.support.I3SMaterialTexture")],u);let M=class extends n.wq{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,e._)([(0,r.Cb)({type:[Number]})],M.prototype,"baseColorFactor",void 0),(0,e._)([(0,r.Cb)({type:u})],M.prototype,"baseColorTexture",void 0),(0,e._)([(0,r.Cb)({type:u})],M.prototype,"metallicRoughnessTexture",void 0),(0,e._)([(0,r.Cb)({type:Number})],M.prototype,"metallicFactor",void 0),(0,e._)([(0,r.Cb)({type:Number})],M.prototype,"roughnessFactor",void 0),M=(0,e._)([(0,p.j)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],M);let f=class extends n.wq{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,e._)([(0,D.J)({opaque:"opaque",mask:"mask",blend:"blend"})],f.prototype,"alphaMode",void 0),(0,e._)([(0,r.Cb)({type:Number})],f.prototype,"alphaCutoff",void 0),(0,e._)([(0,r.Cb)({type:Boolean})],f.prototype,"doubleSided",void 0),(0,e._)([(0,D.J)({none:"none",back:"back",front:"front"})],f.prototype,"cullFace",void 0),(0,e._)([(0,r.Cb)({type:u})],f.prototype,"normalTexture",void 0),(0,e._)([(0,r.Cb)({type:u})],f.prototype,"occlusionTexture",void 0),(0,e._)([(0,r.Cb)({type:u})],f.prototype,"emissiveTexture",void 0),(0,e._)([(0,r.Cb)({type:[Number]})],f.prototype,"emissiveFactor",void 0),(0,e._)([(0,r.Cb)({type:M})],f.prototype,"pbrMetallicRoughness",void 0),f=(0,e._)([(0,p.j)("esri.layer.support.I3SMaterialDefinition")],f);let R=class extends n.wq{};(0,e._)([(0,r.Cb)({type:String,json:{read:{source:["name","index"],reader:(N,C)=>N??`${C.index}`}}})],R.prototype,"name",void 0),(0,e._)([(0,D.J)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],R.prototype,"format",void 0),R=(0,e._)([(0,p.j)("esri.layer.support.I3STextureFormat")],R);let I=class extends n.wq{constructor(){super(...arguments),this.atlas=!1}};(0,e._)([(0,r.Cb)({type:[R]})],I.prototype,"formats",void 0),(0,e._)([(0,r.Cb)({type:Boolean})],I.prototype,"atlas",void 0),I=(0,e._)([(0,p.j)("esri.layer.support.I3STextureSetDefinition")],I);let v=class extends n.wq{};(0,e._)([(0,D.J)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],v.prototype,"type",void 0),(0,e._)([(0,r.Cb)({type:Number})],v.prototype,"component",void 0),v=(0,e._)([(0,p.j)("esri.layer.support.I3SGeometryAttribute")],v);let x=class extends n.wq{};(0,e._)([(0,D.J)({draco:"draco"})],x.prototype,"encoding",void 0),(0,e._)([(0,r.Cb)({type:[String]})],x.prototype,"attributes",void 0),x=(0,e._)([(0,p.j)("esri.layer.support.I3SGeometryCompressedAttributes")],x);let m=class extends n.wq{constructor(){super(...arguments),this.offset=0}};(0,e._)([(0,r.Cb)({type:Number})],m.prototype,"offset",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"position",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"normal",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"uv0",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"color",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"uvRegion",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"featureId",void 0),(0,e._)([(0,r.Cb)({type:v})],m.prototype,"faceRange",void 0),(0,e._)([(0,r.Cb)({type:x})],m.prototype,"compressedAttributes",void 0),m=(0,e._)([(0,p.j)("esri.layer.support.I3SGeometryBuffer")],m);let U=class extends n.wq{};(0,e._)([(0,D.J)({triangle:"triangle"})],U.prototype,"topology",void 0),(0,e._)([(0,r.Cb)()],U.prototype,"geometryBuffers",void 0),U=(0,e._)([(0,p.j)("esri.layer.support.I3SGeometryDefinition")],U)},10439:(Z,L,t)=>{t.d(L,{Z:()=>x});var I,e=t(17626),r=(t(29132),t(86810)),j=t(58817),A=t(14889),B=t(77712),y=(t(8314),t(63290),t(76898)),u=t(99433),M=t(128),f=t(55915),R=t(37118);let v=I=class extends r.wq{constructor(m){super(m),this.geometry=null,this.type="clip"}writeGeometry(m,U,N,C){if(C.layer?.spatialReference&&!C.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,f.canProjectWithoutEngine)(m.spatialReference,C.layer.spatialReference))return void(C?.messages&&C.messages.push(new A.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:C.layer.spatialReference,context:C})));const s=new R.Z;(0,f.projectPolygon)(m,s,C.layer.spatialReference),U[N]=s.toJSON(C)}else U[N]=m.toJSON(C);delete U[N].spatialReference}clone(){return new I({geometry:(0,j.d9)(this.geometry),type:this.type})}};(0,e._)([(0,B.Cb)({type:R.Z}),(0,M.B)()],v.prototype,"geometry",void 0),(0,e._)([(0,u.c)(["web-scene","portal-item"],"geometry")],v.prototype,"writeGeometry",null),(0,e._)([(0,B.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,M.B)()],v.prototype,"type",void 0),v=I=(0,e._)([(0,y.j)("esri.layers.support.SceneModification")],v);const x=v},61556:(Z,L,t)=>{t.d(L,{B:()=>n});var e=t(21726);function n(y){return A[function r(y){return"json"===y.type?"application/json":"blob"===y.type?y.blob.type:function j(y){const u=(0,e.Ml)(y);return p[u]||B}(y.url)}(y)]||D}const A={},B="text/plain",D=A[B],p={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const y in p)A[p[y]]=y}}]);